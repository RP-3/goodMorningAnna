(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({"/Users/sarith21/Documents/Programing/goodMorningAnna/js/backgroundImage.js":[function(require,module,exports){
//choose today's image and display it
module.exports = function(){
  var start = Date.parse("Fri Jan 16 2015 21:18:33 GMT-0800 (PST)");
  var day = 1000*60*60*24;
  var elapsedDays = (Date.now() - start) / day;
  while(elapsedDays > 64){ elapsedDays = elapsedDays - 64;}
  var src = './images/' + Math.ceil(elapsedDays) + '.jpg';

  var img = document.createElement('img');
  img.src = src;
  img.className = 'bg';
  img.style.zIndex = '-1';
  document.body.appendChild(img);
};

},{}],"/Users/sarith21/Documents/Programing/goodMorningAnna/js/chat.js":[function(require,module,exports){
var Firebase = require('firebase');
var messageRef = new Firebase('https://goodmorninganna.firebaseIO.com/messages');

module.exports = function(){

  //load up messages from messageRef
  messageRef
  .limitToLast(25)
  .on('value', function(snapshot){
    //empty the messagebox
    $("#messagebox").empty();

    var messageArray = [];
    var data = snapshot.val();

    for(var message in data){
      messageArray.push(data[message]);
    }

    var formattedMessages = messageArray
    .sort(function(a, b){
      return a.time - b.time;
    })
    .map(function(element, index){
      return "<p class='message'><strong>"+element.sender+": </strong>"+ element.text +"</p>";
    });

    $("#messagebox").append(formattedMessages);
  });
  
  //add event listener to chatpane button
  $("#chatbutton").click(function(e){
    e.stopPropagation();
    $("#chatpane").animate({width:'toggle'},350);
  });

  //add event listener for chat submission
  $("#inputbox").keypress(function(e){
    //if key was enter key
    if(event.keyCode === 13){
      e.preventDefault();
      e.stopPropagation();
      var message = e.target.textContent;
      messageRef.push({
        sender: window.localStorage.getItem("goodMorningAnna_userName"),
        text: message,
        time: Date.now()
      });
      e.target.textContent = '';
    }
  });

  //set the height of the messageBox
  var setChatHeight = function(){
    panelHeight = $(window).height() - (150 + 35 + 48);
    $("#messagebox").height(panelHeight);
    console.log(panelHeight);
  };

  setChatHeight();

  $(window).on('resize', function(e){
    setChatHeight();
  });

};

},{"firebase":"/Users/sarith21/Documents/Programing/goodMorningAnna/node_modules/firebase/lib/firebase-web.js"}],"/Users/sarith21/Documents/Programing/goodMorningAnna/js/greeting.js":[function(require,module,exports){
module.exports = function(userName){

  var clock, hours, minutes, greeting, timeOfDay;
  setInterval(function(){
    //update clock
    clock = document.getElementById('clock');
    hours = new Date().getHours().toString();
    hours = hours.length < 2 ? '0' + hours : hours;
    minutes = new Date().getMinutes().toString();
    minutes = minutes.length < 2 ? '0' + minutes : minutes;
    clock.innerHTML = hours + ":" + minutes;

    //update morning/evening in user greeting
    greeting = document.getElementById('greeting');
    hours = new Date().getHours();
    if(hours < 24) timeOfDay = 'evening';
    if(hours < 17) timeOfDay = 'afternoon';
    if(hours < 12) timeOfDay = 'morning';
    greeting.innerHTML = "Good " + timeOfDay + ", " + (userName || '______') + ".";
  }, 100);

};

},{}],"/Users/sarith21/Documents/Programing/goodMorningAnna/js/main.js":[function(require,module,exports){


$(document).on('ready', function(){
  /*setup settings panel*/
  require('./settings.js')();

  /*choose today's image and display it*/
  require('./backgroundImage.js')();

  /*Parse out today's time and greeting and display it*/
  require('./greeting.js')(window.localStorage.getItem("goodMorningAnna_userName"));

  /*Fetch the location and weather and display it*/
  require('./weatherWidget.js')();

  /*Set up firebase chat*/
  require('./chat.js')();

});

},{"./backgroundImage.js":"/Users/sarith21/Documents/Programing/goodMorningAnna/js/backgroundImage.js","./chat.js":"/Users/sarith21/Documents/Programing/goodMorningAnna/js/chat.js","./greeting.js":"/Users/sarith21/Documents/Programing/goodMorningAnna/js/greeting.js","./settings.js":"/Users/sarith21/Documents/Programing/goodMorningAnna/js/settings.js","./weatherWidget.js":"/Users/sarith21/Documents/Programing/goodMorningAnna/js/weatherWidget.js"}],"/Users/sarith21/Documents/Programing/goodMorningAnna/js/settings.js":[function(require,module,exports){
module.exports = function(){

  $("#settingsbutton").click(function(e){
    e.stopPropagation();
    $("#settingspane").animate({width:'toggle'},350);
  });

  $("#namebox").keypress(function(e){
    //if key was enter key
    if(event.keyCode === 13){
      e.preventDefault();
      e.stopPropagation();
      var name = e.target.textContent;
      window.localStorage.setItem("goodMorningAnna_userName", name);
      e.target.textContent = '';
    }
  });

  $("#refererbox").keypress(function(e){
    //if key was enter key
    if(event.keyCode === 13){
      e.preventDefault();
      e.stopPropagation();
      var referer = e.target.textContent;
      window.localStorage.setItem("goodMorningAnna_refererName", referer);
      e.target.textContent = '';
    }
  });

  $("#referredgroupbox").keypress(function(e){
    //if key was enter key
    if(event.keyCode === 13){
      e.preventDefault();
      e.stopPropagation();
      var referredGroup = e.target.textContent;
      window.localStorage.setItem("goodMorningAnna_referredGroup", referredGroup);
      e.target.textContent = '';
    }
  });

};

},{}],"/Users/sarith21/Documents/Programing/goodMorningAnna/js/weatherWidget.js":[function(require,module,exports){
var forecastOptions = {
  clear_day: "wi-day-sunny",
  clear_night: "wi-night-clear",
  rain: "wi-rain",
  snow: "wi-snow",
  sleet: "wi-sleet",
  wind: "wi-strong-wind",
  fog: "wi-fog",
  cloudy: "wi-cloudy",
  partly_cloudy_day: "wi-day-cloudy",
  partly_cloudy_night: "wi-night-cloudy",
};

module.exports = function(){
  navigator.geolocation.getCurrentPosition(function(position){
    var lat = position.coords.latitude;
    var long = position.coords.longitude;

    //cb function to display weather when we know it

    $.ajax({
      url: "https://api.forecast.io/forecast/2f8efe741324bd670c91c4cd593a4062/"+lat+","+long+"?units=si",
      jsonp: "callback",
      dataType: "jsonp",
      success: function( response ) {
          
          //fetch the icon classname for display
          var icon = response.currently.icon;
          if(icon && typeof icon === 'string'){
            icon = icon.replace(/\-/g, '_');
            icon = forecastOptions[icon];
            if(icon){
              $("#weathericon")
              .removeClass("wi-thermometer-exterior")
              .addClass(icon);
            }
          }

          //set the temperature
          var temperature = Math.round(response.currently.temperature);
          var max = Math.round(response.daily.data[0].temperatureMax);
          var tempString = temperature + '/' + max;
          $('#temperature').text(tempString);
      }
    });

  });
};

},{}],"/Users/sarith21/Documents/Programing/goodMorningAnna/node_modules/firebase/lib/firebase-web.js":[function(require,module,exports){
/*! @license Firebase v2.1.1 - License: https://www.firebase.com/terms/terms-of-service.html */ (function() {var h,aa=this;function m(a){return void 0!==a}function ba(){}function ca(a){a.Mb=function(){return a.hf?a.hf:a.hf=new a}}
function da(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function ea(a){return"array"==da(a)}function fa(a){var b=da(a);return"array"==b||"object"==b&&"number"==typeof a.length}function p(a){return"string"==typeof a}function ga(a){return"number"==typeof a}function ha(a){return"function"==da(a)}function ia(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function ja(a,b,c){return a.call.apply(a.bind,arguments)}
function ka(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function q(a,b,c){q=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ja:ka;return q.apply(null,arguments)}var la=Date.now||function(){return+new Date};
function ma(a,b){function c(){}c.prototype=b.prototype;a.Jg=b.prototype;a.prototype=new c;a.Fg=function(a,c,f){return b.prototype[c].apply(a,Array.prototype.slice.call(arguments,2))}};function na(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);}function oa(){this.Hd=void 0}
function pa(a,b,c){switch(typeof b){case "string":qa(b,c);break;case "number":c.push(isFinite(b)&&!isNaN(b)?b:"null");break;case "boolean":c.push(b);break;case "undefined":c.push("null");break;case "object":if(null==b){c.push("null");break}if(ea(b)){var d=b.length;c.push("[");for(var e="",f=0;f<d;f++)c.push(e),e=b[f],pa(a,a.Hd?a.Hd.call(b,String(f),e):e,c),e=",";c.push("]");break}c.push("{");d="";for(f in b)Object.prototype.hasOwnProperty.call(b,f)&&(e=b[f],"function"!=typeof e&&(c.push(d),qa(f,c),
c.push(":"),pa(a,a.Hd?a.Hd.call(b,f,e):e,c),d=","));c.push("}");break;case "function":break;default:throw Error("Unknown type: "+typeof b);}}var ra={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},sa=/\uffff/.test("\uffff")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g;
function qa(a,b){b.push('"',a.replace(sa,function(a){if(a in ra)return ra[a];var b=a.charCodeAt(0),e="\\u";16>b?e+="000":256>b?e+="00":4096>b&&(e+="0");return ra[a]=e+b.toString(16)}),'"')};function ta(a){return"undefined"!==typeof JSON&&m(JSON.parse)?JSON.parse(a):na(a)}function r(a){if("undefined"!==typeof JSON&&m(JSON.stringify))a=JSON.stringify(a);else{var b=[];pa(new oa,a,b);a=b.join("")}return a};function s(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function t(a,b){if(Object.prototype.hasOwnProperty.call(a,b))return a[b]}function ua(a,b){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b(c,a[c])}function va(a){var b={};ua(a,function(a,d){b[a]=d});return b};function wa(a){this.tc=a;this.Ed="firebase:"}h=wa.prototype;h.set=function(a,b){null==b?this.tc.removeItem(this.Ed+a):this.tc.setItem(this.Ed+a,r(b))};h.get=function(a){a=this.tc.getItem(this.Ed+a);return null==a?null:ta(a)};h.remove=function(a){this.tc.removeItem(this.Ed+a)};h.jf=!1;h.toString=function(){return this.tc.toString()};function xa(){this.nc={}}xa.prototype.set=function(a,b){null==b?delete this.nc[a]:this.nc[a]=b};xa.prototype.get=function(a){return s(this.nc,a)?this.nc[a]:null};xa.prototype.remove=function(a){delete this.nc[a]};xa.prototype.jf=!0;function ya(a){try{if("undefined"!==typeof window&&"undefined"!==typeof window[a]){var b=window[a];b.setItem("firebase:sentinel","cache");b.removeItem("firebase:sentinel");return new wa(b)}}catch(c){}return new xa}var za=ya("localStorage"),Aa=ya("sessionStorage");function Ba(a,b,c,d,e){this.host=a.toLowerCase();this.domain=this.host.substr(this.host.indexOf(".")+1);this.zb=b;this.tb=c;this.Dg=d;this.Dd=e||"";this.La=za.get("host:"+a)||this.host}function Ca(a,b){b!==a.La&&(a.La=b,"s-"===a.La.substr(0,2)&&za.set("host:"+a.host,a.La))}Ba.prototype.toString=function(){var a=(this.zb?"https://":"http://")+this.host;this.Dd&&(a+="<"+this.Dd+">");return a};function Da(){this.Sa=-1};function Ea(){this.Sa=-1;this.Sa=64;this.R=[];this.be=[];this.Ef=[];this.Ad=[];this.Ad[0]=128;for(var a=1;a<this.Sa;++a)this.Ad[a]=0;this.Td=this.Rb=0;this.reset()}ma(Ea,Da);Ea.prototype.reset=function(){this.R[0]=1732584193;this.R[1]=4023233417;this.R[2]=2562383102;this.R[3]=271733878;this.R[4]=3285377520;this.Td=this.Rb=0};
function Fa(a,b,c){c||(c=0);var d=a.Ef;if(p(b))for(var e=0;16>e;e++)d[e]=b.charCodeAt(c)<<24|b.charCodeAt(c+1)<<16|b.charCodeAt(c+2)<<8|b.charCodeAt(c+3),c+=4;else for(e=0;16>e;e++)d[e]=b[c]<<24|b[c+1]<<16|b[c+2]<<8|b[c+3],c+=4;for(e=16;80>e;e++){var f=d[e-3]^d[e-8]^d[e-14]^d[e-16];d[e]=(f<<1|f>>>31)&4294967295}b=a.R[0];c=a.R[1];for(var g=a.R[2],k=a.R[3],l=a.R[4],n,e=0;80>e;e++)40>e?20>e?(f=k^c&(g^k),n=1518500249):(f=c^g^k,n=1859775393):60>e?(f=c&g|k&(c|g),n=2400959708):(f=c^g^k,n=3395469782),f=(b<<
5|b>>>27)+f+l+n+d[e]&4294967295,l=k,k=g,g=(c<<30|c>>>2)&4294967295,c=b,b=f;a.R[0]=a.R[0]+b&4294967295;a.R[1]=a.R[1]+c&4294967295;a.R[2]=a.R[2]+g&4294967295;a.R[3]=a.R[3]+k&4294967295;a.R[4]=a.R[4]+l&4294967295}
Ea.prototype.update=function(a,b){m(b)||(b=a.length);for(var c=b-this.Sa,d=0,e=this.be,f=this.Rb;d<b;){if(0==f)for(;d<=c;)Fa(this,a,d),d+=this.Sa;if(p(a))for(;d<b;){if(e[f]=a.charCodeAt(d),++f,++d,f==this.Sa){Fa(this,e);f=0;break}}else for(;d<b;)if(e[f]=a[d],++f,++d,f==this.Sa){Fa(this,e);f=0;break}}this.Rb=f;this.Td+=b};function Ga(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^la()).toString(36)};var v=Array.prototype,Ha=v.indexOf?function(a,b,c){return v.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(p(a))return p(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Ia=v.forEach?function(a,b,c){v.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=p(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Ja=v.filter?function(a,b,c){return v.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,g=p(a)?
a.split(""):a,k=0;k<d;k++)if(k in g){var l=g[k];b.call(c,l,k,a)&&(e[f++]=l)}return e},Ka=v.map?function(a,b,c){return v.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=p(a)?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e},La=v.reduce?function(a,b,c,d){d&&(b=q(b,d));return v.reduce.call(a,b,c)}:function(a,b,c,d){var e=c;Ia(a,function(c,g){e=b.call(d,e,c,g,a)});return e},Ma=v.every?function(a,b,c){return v.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=
p(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return!1;return!0};function Na(a,b){var c=Oa(a,b,void 0);return 0>c?null:p(a)?a.charAt(c):a[c]}function Oa(a,b,c){for(var d=a.length,e=p(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return f;return-1}function Pa(a,b){var c=Ha(a,b);0<=c&&v.splice.call(a,c,1)}function Qa(a,b,c){return 2>=arguments.length?v.slice.call(a,b):v.slice.call(a,b,c)}function Ra(a,b){a.sort(b||Sa)}function Sa(a,b){return a>b?1:a<b?-1:0};var Ta;a:{var Ua=aa.navigator;if(Ua){var Va=Ua.userAgent;if(Va){Ta=Va;break a}}Ta=""}function Wa(a){return-1!=Ta.indexOf(a)};var Xa=Wa("Opera")||Wa("OPR"),Ya=Wa("Trident")||Wa("MSIE"),Za=Wa("Gecko")&&-1==Ta.toLowerCase().indexOf("webkit")&&!(Wa("Trident")||Wa("MSIE")),$a=-1!=Ta.toLowerCase().indexOf("webkit");(function(){var a="",b;if(Xa&&aa.opera)return a=aa.opera.version,ha(a)?a():a;Za?b=/rv\:([^\);]+)(\)|;)/:Ya?b=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:$a&&(b=/WebKit\/(\S+)/);b&&(a=(a=b.exec(Ta))?a[1]:"");return Ya&&(b=(b=aa.document)?b.documentMode:void 0,b>parseFloat(a))?String(b):a})();var ab=null,bb=null,cb=null;function db(a,b){if(!fa(a))throw Error("encodeByteArray takes an array as a parameter");eb();for(var c=b?bb:ab,d=[],e=0;e<a.length;e+=3){var f=a[e],g=e+1<a.length,k=g?a[e+1]:0,l=e+2<a.length,n=l?a[e+2]:0,u=f>>2,f=(f&3)<<4|k>>4,k=(k&15)<<2|n>>6,n=n&63;l||(n=64,g||(k=64));d.push(c[u],c[f],c[k],c[n])}return d.join("")}
function eb(){if(!ab){ab={};bb={};cb={};for(var a=0;65>a;a++)ab[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a),bb[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(a),cb[bb[a]]=a}};var fb=function(){var a=1;return function(){return a++}}();function w(a,b){if(!a)throw gb(b);}function gb(a){return Error("Firebase INTERNAL ASSERT FAILED:"+a)}
function hb(a){try{var b;if("undefined"!==typeof atob)b=atob(a);else{eb();for(var c=cb,d=[],e=0;e<a.length;){var f=c[a.charAt(e++)],g=e<a.length?c[a.charAt(e)]:0;++e;var k=e<a.length?c[a.charAt(e)]:64;++e;var l=e<a.length?c[a.charAt(e)]:64;++e;if(null==f||null==g||null==k||null==l)throw Error();d.push(f<<2|g>>4);64!=k&&(d.push(g<<4&240|k>>2),64!=l&&d.push(k<<6&192|l))}if(8192>d.length)b=String.fromCharCode.apply(null,d);else{a="";for(c=0;c<d.length;c+=8192)a+=String.fromCharCode.apply(null,Qa(d,c,
c+8192));b=a}}return b}catch(n){ib("base64Decode failed: ",n)}return null}function jb(a){var b=kb(a);a=new Ea;a.update(b);var b=[],c=8*a.Td;56>a.Rb?a.update(a.Ad,56-a.Rb):a.update(a.Ad,a.Sa-(a.Rb-56));for(var d=a.Sa-1;56<=d;d--)a.be[d]=c&255,c/=256;Fa(a,a.be);for(d=c=0;5>d;d++)for(var e=24;0<=e;e-=8)b[c]=a.R[d]>>e&255,++c;return db(b)}
function lb(a){for(var b="",c=0;c<arguments.length;c++)b=fa(arguments[c])?b+lb.apply(null,arguments[c]):"object"===typeof arguments[c]?b+r(arguments[c]):b+arguments[c],b+=" ";return b}var mb=null,nb=!0;function ib(a){!0===nb&&(nb=!1,null===mb&&!0===Aa.get("logging_enabled")&&ob(!0));if(mb){var b=lb.apply(null,arguments);mb(b)}}function pb(a){return function(){ib(a,arguments)}}
function qb(a){if("undefined"!==typeof console){var b="FIREBASE INTERNAL ERROR: "+lb.apply(null,arguments);"undefined"!==typeof console.error?console.error(b):console.log(b)}}function rb(a){var b=lb.apply(null,arguments);throw Error("FIREBASE FATAL ERROR: "+b);}function y(a){if("undefined"!==typeof console){var b="FIREBASE WARNING: "+lb.apply(null,arguments);"undefined"!==typeof console.warn?console.warn(b):console.log(b)}}
function sb(a){var b="",c="",d="",e="",f=!0,g="https",k=443;if(p(a)){var l=a.indexOf("//");0<=l&&(g=a.substring(0,l-1),a=a.substring(l+2));l=a.indexOf("/");-1===l&&(l=a.length);b=a.substring(0,l);e="";a=a.substring(l).split("/");for(l=0;l<a.length;l++)if(0<a[l].length){var n=a[l];try{n=decodeURIComponent(n.replace(/\+/g," "))}catch(u){}e+="/"+n}a=b.split(".");3===a.length?(c=a[1],d=a[0].toLowerCase()):2===a.length&&(c=a[0]);l=b.indexOf(":");0<=l&&(f="https"===g||"wss"===g,k=b.substring(l+1),isFinite(k)&&
(k=String(k)),k=p(k)?/^\s*-?0x/i.test(k)?parseInt(k,16):parseInt(k,10):NaN)}return{host:b,port:k,domain:c,Ag:d,zb:f,scheme:g,Oc:e}}function tb(a){return ga(a)&&(a!=a||a==Number.POSITIVE_INFINITY||a==Number.NEGATIVE_INFINITY)}
function ub(a){if("complete"===document.readyState)a();else{var b=!1,c=function(){document.body?b||(b=!0,a()):setTimeout(c,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",c,!1),window.addEventListener("load",c,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&c()}),window.attachEvent("onload",c))}}
function vb(a,b){if(a===b)return 0;if("[MIN_NAME]"===a||"[MAX_NAME]"===b)return-1;if("[MIN_NAME]"===b||"[MAX_NAME]"===a)return 1;var c=wb(a),d=wb(b);return null!==c?null!==d?0==c-d?a.length-b.length:c-d:-1:null!==d?1:a<b?-1:1}function xb(a,b){if(b&&a in b)return b[a];throw Error("Missing required key ("+a+") in object: "+r(b));}
function yb(a){if("object"!==typeof a||null===a)return r(a);var b=[],c;for(c in a)b.push(c);b.sort();c="{";for(var d=0;d<b.length;d++)0!==d&&(c+=","),c+=r(b[d]),c+=":",c+=yb(a[b[d]]);return c+"}"}function zb(a,b){if(a.length<=b)return[a];for(var c=[],d=0;d<a.length;d+=b)d+b>a?c.push(a.substring(d,a.length)):c.push(a.substring(d,d+b));return c}function Ab(a,b){if(ea(a))for(var c=0;c<a.length;++c)b(c,a[c]);else z(a,b)}
function Bb(a){w(!tb(a),"Invalid JSON number");var b,c,d,e;0===a?(d=c=0,b=-Infinity===1/a?1:0):(b=0>a,a=Math.abs(a),a>=Math.pow(2,-1022)?(d=Math.min(Math.floor(Math.log(a)/Math.LN2),1023),c=d+1023,d=Math.round(a*Math.pow(2,52-d)-Math.pow(2,52))):(c=0,d=Math.round(a/Math.pow(2,-1074))));e=[];for(a=52;a;a-=1)e.push(d%2?1:0),d=Math.floor(d/2);for(a=11;a;a-=1)e.push(c%2?1:0),c=Math.floor(c/2);e.push(b?1:0);e.reverse();b=e.join("");c="";for(a=0;64>a;a+=8)d=parseInt(b.substr(a,8),2).toString(16),1===d.length&&
(d="0"+d),c+=d;return c.toLowerCase()}var Cb=/^-?\d{1,10}$/;function wb(a){return Cb.test(a)&&(a=Number(a),-2147483648<=a&&2147483647>=a)?a:null}function Db(a){try{a()}catch(b){setTimeout(function(){y("Exception was thrown by user callback.",b.stack||"");throw b;},Math.floor(0))}}function A(a,b){if(ha(a)){var c=Array.prototype.slice.call(arguments,1).slice();Db(function(){a.apply(null,c)})}};function Eb(a,b,c,d){this.le=b;this.Nd=c;this.Fd=d;this.jd=a}Eb.prototype.Pb=function(){var a=this.Nd.cc();return"value"===this.jd?a.path:a.parent().path};Eb.prototype.oe=function(){return this.jd};Eb.prototype.Kb=function(){return this.le.Kb(this)};Eb.prototype.toString=function(){return this.Pb().toString()+":"+this.jd+":"+r(this.Nd.Ze())};function Fb(a,b,c){this.le=a;this.error=b;this.path=c}Fb.prototype.Pb=function(){return this.path};Fb.prototype.oe=function(){return"cancel"};
Fb.prototype.Kb=function(){return this.le.Kb(this)};Fb.prototype.toString=function(){return this.path.toString()+":cancel"};function B(a,b,c,d){this.type=a;this.Ga=b;this.Ua=c;this.Ce=d;this.Fd=void 0}function Gb(a){return new B(Hb,a)}var Hb="value";function Ib(a,b,c){this.Gb=a;this.kb=b;this.mb=c||null}h=Ib.prototype;h.tf=function(a){return"value"===a};h.createEvent=function(a,b){var c=b.w.g;return new Eb("value",this,new C(a.Ga,b.cc(),c))};h.Kb=function(a){var b=this.mb;if("cancel"===a.oe()){w(this.kb,"Raising a cancel event on a listener with no cancel callback");var c=this.kb;return function(){c.call(b,a.error)}}var d=this.Gb;return function(){d.call(b,a.Nd)}};h.Ve=function(a,b){return this.kb?new Fb(this,a,b):null};
h.matches=function(a){return a instanceof Ib?a.Gb&&this.Gb?a.Gb===this.Gb&&a.mb===this.mb:!0:!1};h.ff=function(){return null!==this.Gb};function Jb(a,b,c){this.da=a;this.kb=b;this.mb=c}h=Jb.prototype;h.tf=function(a){a="children_added"===a?"child_added":a;return("children_removed"===a?"child_removed":a)in this.da};h.Ve=function(a,b){return this.kb?new Fb(this,a,b):null};
h.createEvent=function(a,b){w(null!=a.Ua,"Child events should have a childName.");var c=b.cc().n(a.Ua);return new Eb(a.type,this,new C(a.Ga,c,b.w.g),a.Fd)};h.Kb=function(a){var b=this.mb;if("cancel"===a.oe()){w(this.kb,"Raising a cancel event on a listener with no cancel callback");var c=this.kb;return function(){c.call(b,a.error)}}var d=this.da[a.jd];return function(){d.call(b,a.Nd,a.Fd)}};
h.matches=function(a){if(a instanceof Jb){if(!this.da||!a.da)return!0;if(this.mb===a.mb){var b=Kb(a.da);if(b===Kb(this.da)){if(1===b){var b=Lb(a.da),c=Lb(this.da);return c===b&&(!a.da[b]||!this.da[c]||a.da[b]===this.da[c])}return Mb(this.da,function(b,c){return a.da[c]===b})}}}return!1};h.ff=function(){return null!==this.da};function kb(a){for(var b=[],c=0,d=0;d<a.length;d++){var e=a.charCodeAt(d);55296<=e&&56319>=e&&(e-=55296,d++,w(d<a.length,"Surrogate pair missing trail surrogate."),e=65536+(e<<10)+(a.charCodeAt(d)-56320));128>e?b[c++]=e:(2048>e?b[c++]=e>>6|192:(65536>e?b[c++]=e>>12|224:(b[c++]=e>>18|240,b[c++]=e>>12&63|128),b[c++]=e>>6&63|128),b[c++]=e&63|128)}return b};function D(a,b,c,d){var e;d<b?e="at least "+b:d>c&&(e=0===c?"none":"no more than "+c);if(e)throw Error(a+" failed: Was called with "+d+(1===d?" argument.":" arguments.")+" Expects "+e+".");}function F(a,b,c){var d="";switch(b){case 1:d=c?"first":"First";break;case 2:d=c?"second":"Second";break;case 3:d=c?"third":"Third";break;case 4:d=c?"fourth":"Fourth";break;default:throw Error("errorPrefix called with argumentNumber > 4.  Need to update it?");}return a=a+" failed: "+(d+" argument ")}
function G(a,b,c,d){if((!d||m(c))&&!ha(c))throw Error(F(a,b,d)+"must be a valid function.");}function Nb(a,b,c){if(m(c)&&(!ia(c)||null===c))throw Error(F(a,b,!0)+"must be a valid context object.");};var Ob=/[\[\].#$\/\u0000-\u001F\u007F]/,Pb=/[\[\].#$\u0000-\u001F\u007F]/;function Qb(a){return p(a)&&0!==a.length&&!Ob.test(a)}function Rb(a){return null===a||p(a)||ga(a)&&!tb(a)||ia(a)&&s(a,".sv")}function Sb(a,b,c){c&&!m(b)||Tb(F(a,1,c),b)}
function Tb(a,b,c,d){c||(c=0);var e=d||[];if(!m(b))throw Error(a+"contains undefined"+Ub(e));if(ha(b))throw Error(a+"contains a function"+Ub(e)+" with contents: "+b.toString());if(tb(b))throw Error(a+"contains "+b.toString()+Ub(e));if(1E3<c)throw new TypeError(a+"contains a cyclic object value ("+e.slice(0,100).join(".")+"...)");if(p(b)&&b.length>10485760/3&&10485760<kb(b).length)throw Error(a+"contains a string greater than 10485760 utf8 bytes"+Ub(e)+" ('"+b.substring(0,50)+"...')");if(ia(b)){var f=
!1,g=!1;ua(b,function(b,d){if(".value"===b)f=!0;else if(".priority"!==b&&".sv"!==b&&(g=!0,!Qb(b)))throw Error(a+" contains an invalid key ("+b+")"+Ub(e)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.push(b);Tb(a,d,c+1,e);e.pop()});if(f&&g)throw Error(a+' contains ".value" child'+Ub(e)+" in addition to actual children.");}}function Ub(a){return 0==a.length?"":" in property '"+a.join(".")+"'"}
function Vb(a,b){if(!ia(b)||ea(b))throw Error(F(a,1,!1)+" must be an Object containing the children to replace.");if(s(b,".value"))throw Error(F(a,1,!1)+' must not contain ".value".  To overwrite with a leaf value, just use .set() instead.');Sb(a,b,!1)}
function Wb(a,b,c){if(tb(c))throw Error(F(a,b,!1)+"is "+c.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Rb(c))throw Error(F(a,b,!1)+"must be a valid Firebase priority (a string, finite number, server value, or null).");}
function Xb(a,b,c){if(!c||m(b))switch(b){case "value":case "child_added":case "child_removed":case "child_changed":case "child_moved":break;default:throw Error(F(a,1,c)+'must be a valid event type: "value", "child_added", "child_removed", "child_changed", or "child_moved".');}}function Yb(a,b,c,d){if((!d||m(c))&&!Qb(c))throw Error(F(a,b,d)+'was an invalid key: "'+c+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").');}
function Zb(a,b){if(!p(b)||0===b.length||Pb.test(b))throw Error(F(a,1,!1)+'was an invalid path: "'+b+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"');}function $b(a,b){if(".info"===H(b))throw Error(a+" failed: Can't modify data under /.info/");}function ac(a,b){if(!p(b))throw Error(F(a,1,!1)+"must be a valid credential (a string).");}function bc(a,b,c){if(!p(c))throw Error(F(a,b,!1)+"must be a valid string.");}
function I(a,b,c,d){if(!d||m(c))if(!ia(c)||null===c)throw Error(F(a,b,d)+"must be a valid object.");}function J(a,b,c){if(!ia(b)||null===b||!s(b,c))throw Error(F(a,1,!1)+'must contain the key "'+c+'"');if(!p(t(b,c)))throw Error(F(a,1,!1)+'must contain the key "'+c+'" with type "string"');};function cc(a){this.g=a}h=cc.prototype;h.D=function(a,b,c,d,e){w(a.Ac(this.g),"A node must be indexed if only a child is updated");d=a.J(b);if(d.ea(c))return a;null!=e&&(c.e()?a.Da(b)?dc(e,new B("child_removed",d,b)):w(a.L(),"A child remove without an old child only makes sense on a leaf node"):d.e()?dc(e,new B("child_added",c,b)):dc(e,new B("child_changed",c,b,d)));return a.L()&&c.e()?a:a.P(b,c)};
h.oa=function(a,b,c){null!=c&&(a.L()||a.T(K,function(a,e){b.Da(a)||dc(c,new B("child_removed",e,a))}),b.L()||b.T(K,function(b,e){if(a.Da(b)){var f=a.J(b);f.ea(e)||dc(c,new B("child_changed",e,b,f))}else dc(c,new B("child_added",e,b))}));return b.Eb(this.g)};h.Z=function(a,b){return a.e()?L:a.Z(b)};h.ya=function(){return!1};h.Lb=function(){return this};function ec(a){this.qe=new cc(a.g);this.g=a.g;var b;a.ia?(b=fc(a),b=a.g.ze(gc(a),b)):b=a.g.Be();this.Vc=b;a.qa?(b=hc(a),a=a.g.ze(ic(a),b)):a=a.g.Ae();this.vc=a}h=ec.prototype;h.matches=function(a){return 0>=this.g.compare(this.Vc,a)&&0>=this.g.compare(a,this.vc)};h.D=function(a,b,c,d,e){this.matches(new M(b,c))||(c=L);return this.qe.D(a,b,c,d,e)};h.oa=function(a,b,c){b.L()&&(b=L);var d=b.Eb(this.g),d=d.Z(L),e=this;b.T(K,function(a,b){e.matches(new M(a,b))||(d=d.P(a,L))});return this.qe.oa(a,d,c)};
h.Z=function(a){return a};h.ya=function(){return!0};h.Lb=function(){return this.qe};function jc(a,b){return vb(a.name,b.name)}function kc(a,b){return vb(a,b)};function lc(){}var mc={};function nc(a){return q(a.compare,a)}lc.prototype.gf=function(a,b){return 0!==this.compare(new M("[MIN_NAME]",a),new M("[MIN_NAME]",b))};lc.prototype.Be=function(){return oc};function pc(a){this.Tb=a}ma(pc,lc);h=pc.prototype;h.te=function(a){return!a.J(this.Tb).e()};h.compare=function(a,b){var c=a.Y.J(this.Tb),d=b.Y.J(this.Tb),c=c.he(d);return 0===c?vb(a.name,b.name):c};h.ze=function(a,b){var c=N(a),c=L.P(this.Tb,c);return new M(b,c)};
h.Ae=function(){var a=L.P(this.Tb,qc);return new M("[MAX_NAME]",a)};h.toString=function(){return this.Tb};var K=new pc(".priority");function rc(){}ma(rc,lc);h=rc.prototype;h.compare=function(a,b){return vb(a.name,b.name)};h.te=function(){throw gb("KeyIndex.isDefinedOn not expected to be called.");};h.gf=function(){return!1};h.Be=function(){return oc};h.Ae=function(){return new M("[MAX_NAME]",L)};h.ze=function(a){w(p(a),"KeyIndex indexValue must always be a string.");return new M(a,L)};
h.toString=function(){return".key"};var sc=new rc;function tc(){}tc.prototype.cf=function(){return null};tc.prototype.ne=function(){return null};var uc=new tc;function vc(a,b,c){this.Bf=a;this.Ha=b;this.zd=c}vc.prototype.cf=function(a){var b=this.Ha.F;if(wc(b,a))return b.j().J(a);b=null!=this.zd?new xc(this.zd,!0,!1):this.Ha.o();return this.Bf.Ta(a,b)};vc.prototype.ne=function(a,b,c){var d=null!=this.zd?this.zd:yc(this.Ha);a=this.Bf.ce(d,b,1,c,a);return 0===a.length?null:a[0]};function zc(){this.Za={}}
function dc(a,b){var c=b.type,d=b.Ua;w("child_added"==c||"child_changed"==c||"child_removed"==c,"Only child changes supported for tracking");w(".priority"!==d,"Only non-priority child changes can be tracked.");var e=t(a.Za,d);if(e){var f=e.type;if("child_added"==c&&"child_removed"==f)a.Za[d]=new B("child_changed",b.Ga,d,e.Ga);else if("child_removed"==c&&"child_added"==f)delete a.Za[d];else if("child_removed"==c&&"child_changed"==f)a.Za[d]=new B("child_removed",e.Ce,d);else if("child_changed"==c&&
"child_added"==f)a.Za[d]=new B("child_added",b.Ga,d);else if("child_changed"==c&&"child_changed"==f)a.Za[d]=new B("child_changed",b.Ga,d,e.Ce);else throw gb("Illegal combination of changes: "+b+" occurred after "+e);}else a.Za[d]=b};function M(a,b){this.name=a;this.Y=b}function Ac(a,b){return new M(a,b)};function Bc(a){this.ma=new ec(a);this.g=a.g;w(a.ka,"Only valid if limit has been set");this.sa=a.sa;this.yb=!(""===a.Db?a.ia:"l"===a.Db)}h=Bc.prototype;h.D=function(a,b,c,d,e){this.ma.matches(new M(b,c))||(c=L);return a.J(b).ea(c)?a:a.ub()<this.sa?this.ma.Lb().D(a,b,c,d,e):Cc(this,a,b,c,d,e)};
h.oa=function(a,b,c){var d;if(b.L()||b.e())d=L.Eb(this.g);else if(2*this.sa<b.ub()&&b.Ac(this.g)){d=L.Eb(this.g);b=this.yb?b.Qb(this.ma.vc,this.g):b.Ob(this.ma.Vc,this.g);for(var e=0;0<b.Ma.length&&e<this.sa;){var f=O(b),g;if(g=this.yb?0>=this.g.compare(this.ma.Vc,f):0>=this.g.compare(f,this.ma.vc))d=d.P(f.name,f.Y),e++;else break}}else{d=b.Eb(this.g);d=d.Z(L);var k,l,n;if(this.yb){b=d.ef(this.g);k=this.ma.vc;l=this.ma.Vc;var u=nc(this.g);n=function(a,b){return u(b,a)}}else b=d.Nb(this.g),k=this.ma.Vc,
l=this.ma.vc,n=nc(this.g);for(var e=0,x=!1;0<b.Ma.length;)f=O(b),!x&&0>=n(k,f)&&(x=!0),(g=x&&e<this.sa&&0>=n(f,l))?e++:d=d.P(f.name,L)}return this.ma.Lb().oa(a,d,c)};h.Z=function(a){return a};h.ya=function(){return!0};h.Lb=function(){return this.ma.Lb()};
function Cc(a,b,c,d,e,f){var g;if(a.yb){var k=nc(a.g);g=function(a,b){return k(b,a)}}else g=nc(a.g);w(b.ub()==a.sa,"");var l=new M(c,d),n=a.yb?Dc(b,a.g):Ec(b,a.g),u=a.ma.matches(l);if(b.Da(c)){var x=b.J(c),n=e.ne(a.g,n,a.yb);null!=n&&n.name==c&&(n=e.ne(a.g,n,a.yb));e=null==n?1:g(n,l);if(u&&!d.e()&&0<=e)return null!=f&&dc(f,new B("child_changed",d,c,x)),b.P(c,d);null!=f&&dc(f,new B("child_removed",x,c));b=b.P(c,L);return null!=n&&a.ma.matches(n)?(null!=f&&dc(f,new B("child_added",n.Y,n.name)),b.P(n.name,
n.Y)):b}return d.e()?b:u&&0<=g(n,l)?(null!=f&&(dc(f,new B("child_removed",n.Y,n.name)),dc(f,new B("child_added",d,c))),b.P(c,d).P(n.name,L)):b};function Fc(){this.uc=this.qa=this.jc=this.ia=this.ka=!1;this.sa=0;this.Db="";this.zc=null;this.Vb="";this.yc=null;this.Sb="";this.g=K}var Gc=new Fc;function gc(a){w(a.ia,"Only valid if start has been set");return a.zc}function fc(a){w(a.ia,"Only valid if start has been set");return a.jc?a.Vb:"[MIN_NAME]"}function ic(a){w(a.qa,"Only valid if end has been set");return a.yc}function hc(a){w(a.qa,"Only valid if end has been set");return a.uc?a.Sb:"[MAX_NAME]"}
function Hc(a){var b=new Fc;b.ka=a.ka;b.sa=a.sa;b.ia=a.ia;b.zc=a.zc;b.jc=a.jc;b.Vb=a.Vb;b.qa=a.qa;b.yc=a.yc;b.uc=a.uc;b.Sb=a.Sb;b.g=a.g;return b}h=Fc.prototype;h.we=function(a){var b=Hc(this);b.ka=!0;b.sa=a;b.Db="";return b};h.xe=function(a){var b=Hc(this);b.ka=!0;b.sa=a;b.Db="l";return b};h.ye=function(a){var b=Hc(this);b.ka=!0;b.sa=a;b.Db="r";return b};h.Od=function(a,b){var c=Hc(this);c.ia=!0;m(a)||(a=null);c.zc=a;null!=b?(c.jc=!0,c.Vb=b):(c.jc=!1,c.Vb="");return c};
h.hd=function(a,b){var c=Hc(this);c.qa=!0;m(a)||(a=null);c.yc=a;m(b)?(c.uc=!0,c.Sb=b):(c.Ig=!1,c.Sb="");return c};function Ic(a,b){var c=Hc(a);c.g=b;return c}function Jc(a){return!(a.ia||a.qa||a.ka)};function P(a,b,c,d){this.k=a;this.path=b;this.w=c;this.$b=d}
function Kc(a){var b=null,c=null;a.ia&&(b=gc(a));a.qa&&(c=ic(a));if(a.g===sc){if(a.ia){if("[MIN_NAME]"!=fc(a))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if(null!=b&&"string"!==typeof b)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.");}if(a.qa){if("[MAX_NAME]"!=hc(a))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if(null!=
c&&"string"!==typeof c)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.");}}else if(a.g===K){if(null!=b&&!Rb(b)||null!=c&&!Rb(c))throw Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).");}else if(w(a.g instanceof pc,"unknown index type."),null!=b&&"object"===typeof b||null!=c&&"object"===typeof c)throw Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.");
}function Lc(a){if(a.ia&&a.qa&&a.ka&&(!a.ka||""===a.Db))throw Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.");}function Mc(a,b){if(!0===a.$b)throw Error(b+": You can't combine multiple orderBy calls.");}P.prototype.cc=function(){D("Query.ref",0,0,arguments.length);return new Q(this.k,this.path)};P.prototype.ref=P.prototype.cc;
P.prototype.vb=function(a,b,c,d){D("Query.on",2,4,arguments.length);Xb("Query.on",a,!1);G("Query.on",2,b,!1);var e=Nc("Query.on",c,d);if("value"===a)Oc(this.k,this,new Ib(b,e.cancel||null,e.Ja||null));else{var f={};f[a]=b;Oc(this.k,this,new Jb(f,e.cancel,e.Ja))}return b};P.prototype.on=P.prototype.vb;
P.prototype.Yb=function(a,b,c){D("Query.off",0,3,arguments.length);Xb("Query.off",a,!0);G("Query.off",2,b,!0);Nb("Query.off",3,c);var d=null,e=null;"value"===a?d=new Ib(b||null,null,c||null):a&&(b&&(e={},e[a]=b),d=new Jb(e,null,c||null));e=this.k;d=".info"===H(this.path)?e.qd.gb(this,d):e.M.gb(this,d);Pc(e.$,this.path,d)};P.prototype.off=P.prototype.Yb;
P.prototype.lg=function(a,b){function c(g){f&&(f=!1,e.Yb(a,c),b.call(d.Ja,g))}D("Query.once",2,4,arguments.length);Xb("Query.once",a,!1);G("Query.once",2,b,!1);var d=Nc("Query.once",arguments[2],arguments[3]),e=this,f=!0;this.vb(a,c,function(b){e.Yb(a,c);d.cancel&&d.cancel.call(d.Ja,b)})};P.prototype.once=P.prototype.lg;
P.prototype.we=function(a){y("Query.limit() being deprecated. Please use Query.limitToFirst() or Query.limitToLast() instead.");D("Query.limit",1,1,arguments.length);if(!ga(a)||Math.floor(a)!==a||0>=a)throw Error("Query.limit: First argument must be a positive integer.");if(this.w.ka)throw Error("Query.limit: Limit was already set (by another call to limit, limitToFirst, orlimitToLast.");var b=this.w.we(a);Lc(b);return new P(this.k,this.path,b,this.$b)};P.prototype.limit=P.prototype.we;
P.prototype.xe=function(a){D("Query.limitToFirst",1,1,arguments.length);if(!ga(a)||Math.floor(a)!==a||0>=a)throw Error("Query.limitToFirst: First argument must be a positive integer.");if(this.w.ka)throw Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new P(this.k,this.path,this.w.xe(a),this.$b)};P.prototype.limitToFirst=P.prototype.xe;
P.prototype.ye=function(a){D("Query.limitToLast",1,1,arguments.length);if(!ga(a)||Math.floor(a)!==a||0>=a)throw Error("Query.limitToLast: First argument must be a positive integer.");if(this.w.ka)throw Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new P(this.k,this.path,this.w.ye(a),this.$b)};P.prototype.limitToLast=P.prototype.ye;
P.prototype.mg=function(a){D("Query.orderByChild",1,1,arguments.length);if("$key"===a)throw Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===a)throw Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');Yb("Query.orderByChild",1,a,!1);Mc(this,"Query.orderByChild");var b=Ic(this.w,new pc(a));Kc(b);return new P(this.k,this.path,b,!0)};P.prototype.orderByChild=P.prototype.mg;
P.prototype.ng=function(){D("Query.orderByKey",0,0,arguments.length);Mc(this,"Query.orderByKey");var a=Ic(this.w,sc);Kc(a);return new P(this.k,this.path,a,!0)};P.prototype.orderByKey=P.prototype.ng;P.prototype.og=function(){D("Query.orderByPriority",0,0,arguments.length);Mc(this,"Query.orderByPriority");var a=Ic(this.w,K);Kc(a);return new P(this.k,this.path,a,!0)};P.prototype.orderByPriority=P.prototype.og;
P.prototype.Od=function(a,b){D("Query.startAt",0,2,arguments.length);Sb("Query.startAt",a,!0);Yb("Query.startAt",2,b,!0);var c=this.w.Od(a,b);Lc(c);Kc(c);if(this.w.ia)throw Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");m(a)||(b=a=null);return new P(this.k,this.path,c,this.$b)};P.prototype.startAt=P.prototype.Od;
P.prototype.hd=function(a,b){D("Query.endAt",0,2,arguments.length);Sb("Query.endAt",a,!0);Yb("Query.endAt",2,b,!0);var c=this.w.hd(a,b);Lc(c);Kc(c);if(this.w.qa)throw Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new P(this.k,this.path,c,this.$b)};P.prototype.endAt=P.prototype.hd;
P.prototype.Tf=function(a,b){D("Query.equalTo",1,2,arguments.length);Sb("Query.equalTo",a,!1);Yb("Query.equalTo",2,b,!0);if(this.w.ia)throw Error("Query.equalTo: Starting point was already set (by another call to endAt or equalTo).");if(this.w.qa)throw Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.Od(a,b).hd(a,b)};P.prototype.equalTo=P.prototype.Tf;
function Qc(a){a=a.w;var b={};a.ia&&(b.sp=a.zc,a.jc&&(b.sn=a.Vb));a.qa&&(b.ep=a.yc,a.uc&&(b.en=a.Sb));if(a.ka){b.l=a.sa;var c=a.Db;""===c&&(c=a.ia?"l":"r");b.vf=c}a.g!==K&&(b.i=a.g.toString());return b}P.prototype.Fa=function(){var a=yb(Qc(this));return"{}"===a?"default":a};
function Nc(a,b,c){var d={cancel:null,Ja:null};if(b&&c)d.cancel=b,G(a,3,d.cancel,!0),d.Ja=c,Nb(a,4,d.Ja);else if(b)if("object"===typeof b&&null!==b)d.Ja=b;else if("function"===typeof b)d.cancel=b;else throw Error(F(a,3,!0)+" must either be a cancel callback or a context object.");return d};function R(a,b){if(1==arguments.length){this.u=a.split("/");for(var c=0,d=0;d<this.u.length;d++)0<this.u[d].length&&(this.u[c]=this.u[d],c++);this.u.length=c;this.ca=0}else this.u=a,this.ca=b}function H(a){return a.ca>=a.u.length?null:a.u[a.ca]}function Rc(a){return a.u.length-a.ca}function S(a){var b=a.ca;b<a.u.length&&b++;return new R(a.u,b)}function Sc(a){return a.ca<a.u.length?a.u[a.u.length-1]:null}
R.prototype.toString=function(){for(var a="",b=this.ca;b<this.u.length;b++)""!==this.u[b]&&(a+="/"+this.u[b]);return a||"/"};R.prototype.parent=function(){if(this.ca>=this.u.length)return null;for(var a=[],b=this.ca;b<this.u.length-1;b++)a.push(this.u[b]);return new R(a,0)};
R.prototype.n=function(a){for(var b=[],c=this.ca;c<this.u.length;c++)b.push(this.u[c]);if(a instanceof R)for(c=a.ca;c<a.u.length;c++)b.push(a.u[c]);else for(a=a.split("/"),c=0;c<a.length;c++)0<a[c].length&&b.push(a[c]);return new R(b,0)};R.prototype.e=function(){return this.ca>=this.u.length};var T=new R("");function U(a,b){var c=H(a);if(null===c)return b;if(c===H(b))return U(S(a),S(b));throw Error("INTERNAL ERROR: innerPath ("+b+") is not within outerPath ("+a+")");}
R.prototype.ea=function(a){if(Rc(this)!==Rc(a))return!1;for(var b=this.ca,c=a.ca;b<=this.u.length;b++,c++)if(this.u[b]!==a.u[c])return!1;return!0};R.prototype.contains=function(a){var b=this.ca,c=a.ca;if(Rc(this)>Rc(a))return!1;for(;b<this.u.length;){if(this.u[b]!==a.u[c])return!1;++b;++c}return!0};function Tc(){this.children={};this.bd=0;this.value=null}function Uc(a,b,c){this.ud=a?a:"";this.Nc=b?b:null;this.B=c?c:new Tc}function Vc(a,b){for(var c=b instanceof R?b:new R(b),d=a,e;null!==(e=H(c));)d=new Uc(e,d,t(d.B.children,e)||new Tc),c=S(c);return d}h=Uc.prototype;h.za=function(){return this.B.value};function Wc(a,b){w("undefined"!==typeof b,"Cannot set value to undefined");a.B.value=b;Xc(a)}h.clear=function(){this.B.value=null;this.B.children={};this.B.bd=0;Xc(this)};
h.ld=function(){return 0<this.B.bd};h.e=function(){return null===this.za()&&!this.ld()};h.T=function(a){var b=this;z(this.B.children,function(c,d){a(new Uc(d,b,c))})};function Yc(a,b,c,d){c&&!d&&b(a);a.T(function(a){Yc(a,b,!0,d)});c&&d&&b(a)}function Zc(a,b){for(var c=a.parent();null!==c&&!b(c);)c=c.parent()}h.path=function(){return new R(null===this.Nc?this.ud:this.Nc.path()+"/"+this.ud)};h.name=function(){return this.ud};h.parent=function(){return this.Nc};
function Xc(a){if(null!==a.Nc){var b=a.Nc,c=a.ud,d=a.e(),e=s(b.B.children,c);d&&e?(delete b.B.children[c],b.B.bd--,Xc(b)):d||e||(b.B.children[c]=a.B,b.B.bd++,Xc(b))}};function $c(a,b){this.Ia=a;this.ua=b?b:ad}h=$c.prototype;h.Ka=function(a,b){return new $c(this.Ia,this.ua.Ka(a,b,this.Ia).X(null,null,!1,null,null))};h.remove=function(a){return new $c(this.Ia,this.ua.remove(a,this.Ia).X(null,null,!1,null,null))};h.get=function(a){for(var b,c=this.ua;!c.e();){b=this.Ia(a,c.key);if(0===b)return c.value;0>b?c=c.left:0<b&&(c=c.right)}return null};
function bd(a,b){for(var c,d=a.ua,e=null;!d.e();){c=a.Ia(b,d.key);if(0===c){if(d.left.e())return e?e.key:null;for(d=d.left;!d.right.e();)d=d.right;return d.key}0>c?d=d.left:0<c&&(e=d,d=d.right)}throw Error("Attempted to find predecessor key for a nonexistent key.  What gives?");}h.e=function(){return this.ua.e()};h.count=function(){return this.ua.count()};h.Hc=function(){return this.ua.Hc()};h.Wb=function(){return this.ua.Wb()};h.fa=function(a){return this.ua.fa(a)};
h.Nb=function(a){return new cd(this.ua,null,this.Ia,!1,a)};h.Ob=function(a,b){return new cd(this.ua,a,this.Ia,!1,b)};h.Qb=function(a,b){return new cd(this.ua,a,this.Ia,!0,b)};h.ef=function(a){return new cd(this.ua,null,this.Ia,!0,a)};function cd(a,b,c,d,e){this.Id=e||null;this.ue=d;this.Ma=[];for(e=1;!a.e();)if(e=b?c(a.key,b):1,d&&(e*=-1),0>e)a=this.ue?a.left:a.right;else if(0===e){this.Ma.push(a);break}else this.Ma.push(a),a=this.ue?a.right:a.left}
function O(a){if(0===a.Ma.length)return null;var b=a.Ma.pop(),c;c=a.Id?a.Id(b.key,b.value):{key:b.key,value:b.value};if(a.ue)for(b=b.left;!b.e();)a.Ma.push(b),b=b.right;else for(b=b.right;!b.e();)a.Ma.push(b),b=b.left;return c}function dd(a){if(0===a.Ma.length)return null;var b;b=a.Ma;b=b[b.length-1];return a.Id?a.Id(b.key,b.value):{key:b.key,value:b.value}}function ed(a,b,c,d,e){this.key=a;this.value=b;this.color=null!=c?c:!0;this.left=null!=d?d:ad;this.right=null!=e?e:ad}h=ed.prototype;
h.X=function(a,b,c,d,e){return new ed(null!=a?a:this.key,null!=b?b:this.value,null!=c?c:this.color,null!=d?d:this.left,null!=e?e:this.right)};h.count=function(){return this.left.count()+1+this.right.count()};h.e=function(){return!1};h.fa=function(a){return this.left.fa(a)||a(this.key,this.value)||this.right.fa(a)};function gd(a){return a.left.e()?a:gd(a.left)}h.Hc=function(){return gd(this).key};h.Wb=function(){return this.right.e()?this.key:this.right.Wb()};
h.Ka=function(a,b,c){var d,e;e=this;d=c(a,e.key);e=0>d?e.X(null,null,null,e.left.Ka(a,b,c),null):0===d?e.X(null,b,null,null,null):e.X(null,null,null,null,e.right.Ka(a,b,c));return hd(e)};function id(a){if(a.left.e())return ad;a.left.ba()||a.left.left.ba()||(a=jd(a));a=a.X(null,null,null,id(a.left),null);return hd(a)}
h.remove=function(a,b){var c,d;c=this;if(0>b(a,c.key))c.left.e()||c.left.ba()||c.left.left.ba()||(c=jd(c)),c=c.X(null,null,null,c.left.remove(a,b),null);else{c.left.ba()&&(c=kd(c));c.right.e()||c.right.ba()||c.right.left.ba()||(c=ld(c),c.left.left.ba()&&(c=kd(c),c=ld(c)));if(0===b(a,c.key)){if(c.right.e())return ad;d=gd(c.right);c=c.X(d.key,d.value,null,null,id(c.right))}c=c.X(null,null,null,null,c.right.remove(a,b))}return hd(c)};h.ba=function(){return this.color};
function hd(a){a.right.ba()&&!a.left.ba()&&(a=md(a));a.left.ba()&&a.left.left.ba()&&(a=kd(a));a.left.ba()&&a.right.ba()&&(a=ld(a));return a}function jd(a){a=ld(a);a.right.left.ba()&&(a=a.X(null,null,null,null,kd(a.right)),a=md(a),a=ld(a));return a}function md(a){return a.right.X(null,null,a.color,a.X(null,null,!0,null,a.right.left),null)}function kd(a){return a.left.X(null,null,a.color,null,a.X(null,null,!0,a.left.right,null))}
function ld(a){return a.X(null,null,!a.color,a.left.X(null,null,!a.left.color,null,null),a.right.X(null,null,!a.right.color,null,null))}function nd(){}h=nd.prototype;h.X=function(){return this};h.Ka=function(a,b){return new ed(a,b,null)};h.remove=function(){return this};h.count=function(){return 0};h.e=function(){return!0};h.fa=function(){return!1};h.Hc=function(){return null};h.Wb=function(){return null};h.ba=function(){return!1};var ad=new nd;function od(a,b){this.A=a;w(m(this.A)&&null!==this.A,"LeafNode shouldn't be created with null/undefined value.");this.ha=b||L;pd(this.ha);this.sb=null}h=od.prototype;h.L=function(){return!0};h.K=function(){return this.ha};h.Z=function(a){return new od(this.A,a)};h.J=function(a){return".priority"===a?this.ha:L};h.ra=function(a){return a.e()?this:".priority"===H(a)?this.ha:L};h.Da=function(){return!1};h.df=function(){return null};
h.P=function(a,b){return".priority"===a?this.Z(b):b.e()&&".priority"!==a?this:L.P(a,b).Z(this.ha)};h.D=function(a,b){var c=H(a);if(null===c)return b;if(b.e()&&".priority"!==c)return this;w(".priority"!==c||1===Rc(a),".priority must be the last token in a path");return this.P(c,L.D(S(a),b))};h.e=function(){return!1};h.ub=function(){return 0};h.N=function(a){return a&&!this.K().e()?{".value":this.za(),".priority":this.K().N()}:this.za()};
h.hash=function(){if(null===this.sb){var a="";this.ha.e()||(a+="priority:"+qd(this.ha.N())+":");var b=typeof this.A,a=a+(b+":"),a="number"===b?a+Bb(this.A):a+this.A;this.sb=jb(a)}return this.sb};h.za=function(){return this.A};h.he=function(a){if(a===L)return 1;if(a instanceof V)return-1;w(a.L(),"Unknown node type");var b=typeof a.A,c=typeof this.A,d=Ha(rd,b),e=Ha(rd,c);w(0<=d,"Unknown leaf type: "+b);w(0<=e,"Unknown leaf type: "+c);return d===e?"object"===c?0:this.A<a.A?-1:this.A===a.A?0:1:e-d};
var rd=["object","boolean","number","string"];od.prototype.Eb=function(){return this};od.prototype.Ac=function(){return!0};od.prototype.ea=function(a){return a===this?!0:a.L()?this.A===a.A&&this.ha.ea(a.ha):!1};od.prototype.toString=function(){return"string"===typeof this.A?this.A:'"'+this.A+'"'};function sd(a,b){this.pd=a;this.Ub=b}sd.prototype.get=function(a){var b=t(this.pd,a);if(!b)throw Error("No index defined for "+a);return b===mc?null:b};function td(a,b,c){var d=ud(a.pd,function(d,f){var g=t(a.Ub,f);w(g,"Missing index implementation for "+f);if(d===mc){if(g.te(b.Y)){for(var k=[],l=c.Nb(Ac),n=O(l);n;)n.name!=b.name&&k.push(n),n=O(l);k.push(b);return vd(k,nc(g))}return mc}g=c.get(b.name);k=d;g&&(k=k.remove(new M(b.name,g)));return k.Ka(b,b.Y)});return new sd(d,a.Ub)}
function wd(a,b,c){var d=ud(a.pd,function(a){if(a===mc)return a;var d=c.get(b.name);return d?a.remove(new M(b.name,d)):a});return new sd(d,a.Ub)}var xd=new sd({".priority":mc},{".priority":K});function V(a,b,c){this.m=a;(this.ha=b)&&pd(this.ha);this.ob=c;this.sb=null}h=V.prototype;h.L=function(){return!1};h.K=function(){return this.ha||L};h.Z=function(a){return new V(this.m,a,this.ob)};h.J=function(a){if(".priority"===a)return this.K();a=this.m.get(a);return null===a?L:a};h.ra=function(a){var b=H(a);return null===b?this:this.J(b).ra(S(a))};h.Da=function(a){return null!==this.m.get(a)};
h.P=function(a,b){w(b,"We should always be passing snapshot nodes");if(".priority"===a)return this.Z(b);var c=new M(a,b),d;b.e()?(d=this.m.remove(a),c=wd(this.ob,c,this.m)):(d=this.m.Ka(a,b),c=td(this.ob,c,this.m));return new V(d,this.ha,c)};h.D=function(a,b){var c=H(a);if(null===c)return b;w(".priority"!==H(a)||1===Rc(a),".priority must be the last token in a path");var d=this.J(c).D(S(a),b);return this.P(c,d)};h.e=function(){return this.m.e()};h.ub=function(){return this.m.count()};var yd=/^(0|[1-9]\d*)$/;
h=V.prototype;h.N=function(a){if(this.e())return null;var b={},c=0,d=0,e=!0;this.T(K,function(f,g){b[f]=g.N(a);c++;e&&yd.test(f)?d=Math.max(d,Number(f)):e=!1});if(!a&&e&&d<2*c){var f=[],g;for(g in b)f[g]=b[g];return f}a&&!this.K().e()&&(b[".priority"]=this.K().N());return b};h.hash=function(){if(null===this.sb){var a="";this.K().e()||(a+="priority:"+qd(this.K().N())+":");this.T(K,function(b,c){var d=c.hash();""!==d&&(a+=":"+b+":"+d)});this.sb=""===a?"":jb(a)}return this.sb};
h.df=function(a,b,c){return(c=zd(this,c))?(a=bd(c,new M(a,b)))?a.name:null:bd(this.m,a)};function Dc(a,b){var c;c=(c=zd(a,b))?(c=c.Hc())&&c.name:a.m.Hc();return c?new M(c,a.m.get(c)):null}function Ec(a,b){var c;c=(c=zd(a,b))?(c=c.Wb())&&c.name:a.m.Wb();return c?new M(c,a.m.get(c)):null}h.T=function(a,b){var c=zd(this,a);return c?c.fa(function(a){return b(a.name,a.Y)}):this.m.fa(b)};h.Nb=function(a){return this.Ob(a.Be(),a)};
h.Ob=function(a,b){var c=zd(this,b);if(c)return c.Ob(a,function(a){return a});for(var c=this.m.Ob(a.name,Ac),d=dd(c);null!=d&&0>b.compare(d,a);)O(c),d=dd(c);return c};h.ef=function(a){return this.Qb(a.Ae(),a)};h.Qb=function(a,b){var c=zd(this,b);if(c)return c.Qb(a,function(a){return a});for(var c=this.m.Qb(a.name,Ac),d=dd(c);null!=d&&0<b.compare(d,a);)O(c),d=dd(c);return c};h.he=function(a){return this.e()?a.e()?0:-1:a.L()||a.e()?1:a===qc?-1:0};
h.Eb=function(a){if(a===sc||Ad(this.ob.Ub,a.toString()))return this;var b=this.ob,c=this.m;w(a!==sc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var d=[],e=!1,c=c.Nb(Ac),f=O(c);f;)e=e||a.te(f.Y),d.push(f),f=O(c);d=e?vd(d,nc(a)):mc;e=a.toString();c=Bd(b.Ub);c[e]=a;a=Bd(b.pd);a[e]=d;return new V(this.m,this.ha,new sd(a,c))};h.Ac=function(a){return a===sc||Ad(this.ob.Ub,a.toString())};
h.ea=function(a){if(a===this)return!0;if(a.L())return!1;if(this.K().ea(a.K())&&this.m.count()===a.m.count()){var b=this.Nb(K);a=a.Nb(K);for(var c=O(b),d=O(a);c&&d;){if(c.name!==d.name||!c.Y.ea(d.Y))return!1;c=O(b);d=O(a)}return null===c&&null===d}return!1};function zd(a,b){return b===sc?null:a.ob.get(b.toString())}h.toString=function(){var a="{",b=!0;this.T(K,function(c,d){b?b=!1:a+=", ";a+='"'+c+'" : '+d.toString()});return a+="}"};function N(a,b){if(null===a)return L;var c=null;"object"===typeof a&&".priority"in a?c=a[".priority"]:"undefined"!==typeof b&&(c=b);w(null===c||"string"===typeof c||"number"===typeof c||"object"===typeof c&&".sv"in c,"Invalid priority type found: "+typeof c);"object"===typeof a&&".value"in a&&null!==a[".value"]&&(a=a[".value"]);if("object"!==typeof a||".sv"in a)return new od(a,N(c));if(a instanceof Array){var d=L,e=a;z(e,function(a,b){if(s(e,b)&&"."!==b.substring(0,1)){var c=N(a);if(c.L()||!c.e())d=
d.P(b,c)}});return d.Z(N(c))}var f=[],g=!1,k=a;ua(k,function(a){if("string"!==typeof a||"."!==a.substring(0,1)){var b=N(k[a]);b.e()||(g=g||!b.K().e(),f.push(new M(a,b)))}});var l=vd(f,jc,function(a){return a.name},kc);if(g){var n=vd(f,nc(K));return new V(l,N(c),new sd({".priority":n},{".priority":K}))}return new V(l,N(c),xd)}var Cd=Math.log(2);function Dd(a){this.count=parseInt(Math.log(a+1)/Cd,10);this.Xe=this.count-1;this.Nf=a+1&parseInt(Array(this.count+1).join("1"),2)}
function Ed(a){var b=!(a.Nf&1<<a.Xe);a.Xe--;return b}
function vd(a,b,c,d){function e(b,d){var f=d-b;if(0==f)return null;if(1==f){var n=a[b],u=c?c(n):n;return new ed(u,n.Y,!1,null,null)}var n=parseInt(f/2,10)+b,f=e(b,n),x=e(n+1,d),n=a[n],u=c?c(n):n;return new ed(u,n.Y,!1,f,x)}a.sort(b);var f=function(b){function d(b,g){var k=u-b,x=u;u-=b;var x=e(k+1,x),k=a[k],E=c?c(k):k,x=new ed(E,k.Y,g,null,x);f?f.left=x:n=x;f=x}for(var f=null,n=null,u=a.length,x=0;x<b.count;++x){var E=Ed(b),fd=Math.pow(2,b.count-(x+1));E?d(fd,!1):(d(fd,!1),d(fd,!0))}return n}(new Dd(a.length));
return null!==f?new $c(d||b,f):new $c(d||b)}function qd(a){return"number"===typeof a?"number:"+Bb(a):"string:"+a}function pd(a){if(a.L()){var b=a.N();w("string"===typeof b||"number"===typeof b||"object"===typeof b&&s(b,".sv"),"Priority must be a string or number.")}else w(a===qc||a.e(),"priority of unexpected type.");w(a===qc||a.K().e(),"Priority nodes can't have a priority of their own.")}var L=new V(new $c(kc),null,xd);function Fd(){V.call(this,new $c(kc),L,xd)}ma(Fd,V);h=Fd.prototype;
h.he=function(a){return a===this?0:1};h.ea=function(a){return a===this};h.K=function(){throw gb("Why is this called?");};h.J=function(){return L};h.e=function(){return!1};var qc=new Fd,oc=new M("[MIN_NAME]",L);function C(a,b,c){this.B=a;this.V=b;this.g=c}C.prototype.N=function(){D("Firebase.DataSnapshot.val",0,0,arguments.length);return this.B.N()};C.prototype.val=C.prototype.N;C.prototype.Ze=function(){D("Firebase.DataSnapshot.exportVal",0,0,arguments.length);return this.B.N(!0)};C.prototype.exportVal=C.prototype.Ze;C.prototype.Wf=function(){D("Firebase.DataSnapshot.exists",0,0,arguments.length);return!this.B.e()};C.prototype.exists=C.prototype.Wf;
C.prototype.n=function(a){D("Firebase.DataSnapshot.child",0,1,arguments.length);ga(a)&&(a=String(a));Zb("Firebase.DataSnapshot.child",a);var b=new R(a),c=this.V.n(b);return new C(this.B.ra(b),c,K)};C.prototype.child=C.prototype.n;C.prototype.Da=function(a){D("Firebase.DataSnapshot.hasChild",1,1,arguments.length);Zb("Firebase.DataSnapshot.hasChild",a);var b=new R(a);return!this.B.ra(b).e()};C.prototype.hasChild=C.prototype.Da;
C.prototype.K=function(){D("Firebase.DataSnapshot.getPriority",0,0,arguments.length);return this.B.K().N()};C.prototype.getPriority=C.prototype.K;C.prototype.forEach=function(a){D("Firebase.DataSnapshot.forEach",1,1,arguments.length);G("Firebase.DataSnapshot.forEach",1,a,!1);if(this.B.L())return!1;var b=this;return!!this.B.T(this.g,function(c,d){return a(new C(d,b.V.n(c),K))})};C.prototype.forEach=C.prototype.forEach;
C.prototype.ld=function(){D("Firebase.DataSnapshot.hasChildren",0,0,arguments.length);return this.B.L()?!1:!this.B.e()};C.prototype.hasChildren=C.prototype.ld;C.prototype.name=function(){y("Firebase.DataSnapshot.name() being deprecated. Please use Firebase.DataSnapshot.key() instead.");D("Firebase.DataSnapshot.name",0,0,arguments.length);return this.key()};C.prototype.name=C.prototype.name;C.prototype.key=function(){D("Firebase.DataSnapshot.key",0,0,arguments.length);return this.V.key()};
C.prototype.key=C.prototype.key;C.prototype.ub=function(){D("Firebase.DataSnapshot.numChildren",0,0,arguments.length);return this.B.ub()};C.prototype.numChildren=C.prototype.ub;C.prototype.cc=function(){D("Firebase.DataSnapshot.ref",0,0,arguments.length);return this.V};C.prototype.ref=C.prototype.cc;function Gd(a){w(ea(a)&&0<a.length,"Requires a non-empty array");this.Ff=a;this.Fc={}}Gd.prototype.Vd=function(a,b){for(var c=this.Fc[a]||[],d=0;d<c.length;d++)c[d].pc.apply(c[d].Ja,Array.prototype.slice.call(arguments,1))};Gd.prototype.vb=function(a,b,c){Hd(this,a);this.Fc[a]=this.Fc[a]||[];this.Fc[a].push({pc:b,Ja:c});(a=this.pe(a))&&b.apply(c,a)};Gd.prototype.Yb=function(a,b,c){Hd(this,a);a=this.Fc[a]||[];for(var d=0;d<a.length;d++)if(a[d].pc===b&&(!c||c===a[d].Ja)){a.splice(d,1);break}};
function Hd(a,b){w(Na(a.Ff,function(a){return a===b}),"Unknown event: "+b)};function Id(){Gd.call(this,["visible"]);var a,b;"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(b="visibilitychange",a="hidden"):"undefined"!==typeof document.mozHidden?(b="mozvisibilitychange",a="mozHidden"):"undefined"!==typeof document.msHidden?(b="msvisibilitychange",a="msHidden"):"undefined"!==typeof document.webkitHidden&&(b="webkitvisibilitychange",a="webkitHidden"));this.lc=!0;if(b){var c=this;document.addEventListener(b,
function(){var b=!document[a];b!==c.lc&&(c.lc=b,c.Vd("visible",b))},!1)}}ma(Id,Gd);ca(Id);Id.prototype.pe=function(a){w("visible"===a,"Unknown event type: "+a);return[this.lc]};function Jd(){Gd.call(this,["online"]);this.Kc=!0;if("undefined"!==typeof window&&"undefined"!==typeof window.addEventListener){var a=this;window.addEventListener("online",function(){a.Kc||a.Vd("online",!0);a.Kc=!0},!1);window.addEventListener("offline",function(){a.Kc&&a.Vd("online",!1);a.Kc=!1},!1)}}ma(Jd,Gd);ca(Jd);Jd.prototype.pe=function(a){w("online"===a,"Unknown event type: "+a);return[this.Kc]};function z(a,b){for(var c in a)b.call(void 0,a[c],c,a)}function ud(a,b){var c={},d;for(d in a)c[d]=b.call(void 0,a[d],d,a);return c}function Mb(a,b){for(var c in a)if(!b.call(void 0,a[c],c,a))return!1;return!0}function Kb(a){var b=0,c;for(c in a)b++;return b}function Lb(a){for(var b in a)return b}function Kd(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function Ld(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function Ad(a,b){for(var c in a)if(a[c]==b)return!0;return!1}
function Md(a,b,c){for(var d in a)if(b.call(c,a[d],d,a))return d}function Nd(a,b){var c=Md(a,b,void 0);return c&&a[c]}function Od(a){for(var b in a)return!1;return!0}function Pd(a,b){return b in a?a[b]:void 0}function Bd(a){var b={},c;for(c in a)b[c]=a[c];return b}var Qd="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function Rd(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<Qd.length;f++)c=Qd[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function Sd(){this.sc={}}function Td(a,b,c){m(c)||(c=1);s(a.sc,b)||(a.sc[b]=0);a.sc[b]+=c}Sd.prototype.get=function(){return Bd(this.sc)};function Ud(a){this.Pf=a;this.rd=null}Ud.prototype.get=function(){var a=this.Pf.get(),b=Bd(a);if(this.rd)for(var c in this.rd)b[c]-=this.rd[c];this.rd=a;return b};function Vd(a,b){this.yf={};this.Pd=new Ud(a);this.S=b;var c=1E4+2E4*Math.random();setTimeout(q(this.rf,this),Math.floor(c))}Vd.prototype.rf=function(){var a=this.Pd.get(),b={},c=!1,d;for(d in a)0<a[d]&&s(this.yf,d)&&(b[d]=a[d],c=!0);c&&(a=this.S,a.ja&&(b={c:b},a.f("reportStats",b),a.Ca("s",b)));setTimeout(q(this.rf,this),Math.floor(6E5*Math.random()))};var Wd={},Xd={};function Yd(a){a=a.toString();Wd[a]||(Wd[a]=new Sd);return Wd[a]}function Zd(a,b){var c=a.toString();Xd[c]||(Xd[c]=b());return Xd[c]};var $d=null;"undefined"!==typeof MozWebSocket?$d=MozWebSocket:"undefined"!==typeof WebSocket&&($d=WebSocket);function ae(a,b,c){this.ie=a;this.f=pb(this.ie);this.frames=this.Bc=null;this.ib=this.jb=this.Qe=0;this.Ra=Yd(b);this.$a=(b.zb?"wss://":"ws://")+b.La+"/.ws?v=5";"undefined"!==typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(this.$a+="&r=f");b.host!==b.La&&(this.$a=this.$a+"&ns="+b.tb);c&&(this.$a=this.$a+"&s="+c)}var be;
ae.prototype.open=function(a,b){this.fb=b;this.hg=a;this.f("Websocket connecting to "+this.$a);this.wc=!1;za.set("previous_websocket_failure",!0);try{this.ta=new $d(this.$a)}catch(c){this.f("Error instantiating WebSocket.");var d=c.message||c.data;d&&this.f(d);this.eb();return}var e=this;this.ta.onopen=function(){e.f("Websocket connected.");e.wc=!0};this.ta.onclose=function(){e.f("Websocket connection was disconnected.");e.ta=null;e.eb()};this.ta.onmessage=function(a){if(null!==e.ta)if(a=a.data,e.ib+=
a.length,Td(e.Ra,"bytes_received",a.length),ce(e),null!==e.frames)de(e,a);else{a:{w(null===e.frames,"We already have a frame buffer");if(6>=a.length){var b=Number(a);if(!isNaN(b)){e.Qe=b;e.frames=[];a=null;break a}}e.Qe=1;e.frames=[]}null!==a&&de(e,a)}};this.ta.onerror=function(a){e.f("WebSocket error.  Closing connection.");(a=a.message||a.data)&&e.f(a);e.eb()}};ae.prototype.start=function(){};
ae.isAvailable=function(){var a=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var b=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);b&&1<b.length&&4.4>parseFloat(b[1])&&(a=!0)}return!a&&null!==$d&&!be};ae.responsesRequiredToBeHealthy=2;ae.healthyTimeout=3E4;h=ae.prototype;h.sd=function(){za.remove("previous_websocket_failure")};function de(a,b){a.frames.push(b);if(a.frames.length==a.Qe){var c=a.frames.join("");a.frames=null;c=ta(c);a.hg(c)}}
h.send=function(a){ce(this);a=r(a);this.jb+=a.length;Td(this.Ra,"bytes_sent",a.length);a=zb(a,16384);1<a.length&&this.ta.send(String(a.length));for(var b=0;b<a.length;b++)this.ta.send(a[b])};h.Uc=function(){this.qb=!0;this.Bc&&(clearInterval(this.Bc),this.Bc=null);this.ta&&(this.ta.close(),this.ta=null)};h.eb=function(){this.qb||(this.f("WebSocket is closing itself"),this.Uc(),this.fb&&(this.fb(this.wc),this.fb=null))};h.close=function(){this.qb||(this.f("WebSocket is being closed"),this.Uc())};
function ce(a){clearInterval(a.Bc);a.Bc=setInterval(function(){a.ta&&a.ta.send("0");ce(a)},Math.floor(45E3))};function ee(a){this.Zb=a;this.Cd=[];this.Ib=0;this.ge=-1;this.wb=null}function fe(a,b,c){a.ge=b;a.wb=c;a.ge<a.Ib&&(a.wb(),a.wb=null)}function ge(a,b,c){for(a.Cd[b]=c;a.Cd[a.Ib];){var d=a.Cd[a.Ib];delete a.Cd[a.Ib];for(var e=0;e<d.length;++e)if(d[e]){var f=a;Db(function(){f.Zb(d[e])})}if(a.Ib===a.ge){a.wb&&(clearTimeout(a.wb),a.wb(),a.wb=null);break}a.Ib++}};function he(){this.set={}}h=he.prototype;h.add=function(a,b){this.set[a]=null!==b?b:!0};h.contains=function(a){return s(this.set,a)};h.get=function(a){return this.contains(a)?this.set[a]:void 0};h.remove=function(a){delete this.set[a]};h.clear=function(){this.set={}};h.e=function(){return Od(this.set)};h.count=function(){return Kb(this.set)};function ie(a,b){z(a.set,function(a,d){b(d,a)})};function je(a,b,c){this.ie=a;this.f=pb(a);this.ib=this.jb=0;this.Ra=Yd(b);this.Md=c;this.wc=!1;this.Zc=function(a){b.host!==b.La&&(a.ns=b.tb);var c=[],f;for(f in a)a.hasOwnProperty(f)&&c.push(f+"="+a[f]);return(b.zb?"https://":"http://")+b.La+"/.lp?"+c.join("&")}}var ke,le;
je.prototype.open=function(a,b){this.We=0;this.ga=b;this.kf=new ee(a);this.qb=!1;var c=this;this.lb=setTimeout(function(){c.f("Timed out trying to connect.");c.eb();c.lb=null},Math.floor(3E4));ub(function(){if(!c.qb){c.Oa=new me(function(a,b,d,k,l){ne(c,arguments);if(c.Oa)if(c.lb&&(clearTimeout(c.lb),c.lb=null),c.wc=!0,"start"==a)c.id=b,c.pf=d;else if("close"===a)b?(c.Oa.Kd=!1,fe(c.kf,b,function(){c.eb()})):c.eb();else throw Error("Unrecognized command received: "+a);},function(a,b){ne(c,arguments);
ge(c.kf,a,b)},function(){c.eb()},c.Zc);var a={start:"t"};a.ser=Math.floor(1E8*Math.random());c.Oa.Wd&&(a.cb=c.Oa.Wd);a.v="5";c.Md&&(a.s=c.Md);"undefined"!==typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(a.r="f");a=c.Zc(a);c.f("Connecting via long-poll to "+a);oe(c.Oa,a,function(){})}})};
je.prototype.start=function(){var a=this.Oa,b=this.pf;a.cg=this.id;a.dg=b;for(a.ae=!0;pe(a););a=this.id;b=this.pf;this.Xb=document.createElement("iframe");var c={dframe:"t"};c.id=a;c.pw=b;this.Xb.src=this.Zc(c);this.Xb.style.display="none";document.body.appendChild(this.Xb)};je.isAvailable=function(){return!le&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.Eg)&&(ke||!0)};h=je.prototype;
h.sd=function(){};h.Uc=function(){this.qb=!0;this.Oa&&(this.Oa.close(),this.Oa=null);this.Xb&&(document.body.removeChild(this.Xb),this.Xb=null);this.lb&&(clearTimeout(this.lb),this.lb=null)};h.eb=function(){this.qb||(this.f("Longpoll is closing itself"),this.Uc(),this.ga&&(this.ga(this.wc),this.ga=null))};h.close=function(){this.qb||(this.f("Longpoll is being closed."),this.Uc())};
h.send=function(a){a=r(a);this.jb+=a.length;Td(this.Ra,"bytes_sent",a.length);a=kb(a);a=db(a,!0);a=zb(a,1840);for(var b=0;b<a.length;b++){var c=this.Oa;c.Pc.push({tg:this.We,Bg:a.length,Ye:a[b]});c.ae&&pe(c);this.We++}};function ne(a,b){var c=r(b).length;a.ib+=c;Td(a.Ra,"bytes_received",c)}
function me(a,b,c,d){this.Zc=d;this.fb=c;this.He=new he;this.Pc=[];this.ke=Math.floor(1E8*Math.random());this.Kd=!0;this.Wd=fb();window["pLPCommand"+this.Wd]=a;window["pRTLPCB"+this.Wd]=b;a=document.createElement("iframe");a.style.display="none";if(document.body){document.body.appendChild(a);try{a.contentWindow.document||ib("No IE domain setting required")}catch(e){a.src="javascript:void((function(){document.open();document.domain='"+document.domain+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";
a.contentDocument?a.ab=a.contentDocument:a.contentWindow?a.ab=a.contentWindow.document:a.document&&(a.ab=a.document);this.Ba=a;a="";this.Ba.src&&"javascript:"===this.Ba.src.substr(0,11)&&(a='<script>document.domain="'+document.domain+'";\x3c/script>');a="<html><body>"+a+"</body></html>";try{this.Ba.ab.open(),this.Ba.ab.write(a),this.Ba.ab.close()}catch(f){ib("frame writing exception"),f.stack&&ib(f.stack),ib(f)}}
me.prototype.close=function(){this.ae=!1;if(this.Ba){this.Ba.ab.body.innerHTML="";var a=this;setTimeout(function(){null!==a.Ba&&(document.body.removeChild(a.Ba),a.Ba=null)},Math.floor(0))}var b=this.fb;b&&(this.fb=null,b())};
function pe(a){if(a.ae&&a.Kd&&a.He.count()<(0<a.Pc.length?2:1)){a.ke++;var b={};b.id=a.cg;b.pw=a.dg;b.ser=a.ke;for(var b=a.Zc(b),c="",d=0;0<a.Pc.length;)if(1870>=a.Pc[0].Ye.length+30+c.length){var e=a.Pc.shift(),c=c+"&seg"+d+"="+e.tg+"&ts"+d+"="+e.Bg+"&d"+d+"="+e.Ye;d++}else break;qe(a,b+c,a.ke);return!0}return!1}function qe(a,b,c){function d(){a.He.remove(c);pe(a)}a.He.add(c);var e=setTimeout(d,Math.floor(25E3));oe(a,b,function(){clearTimeout(e);d()})}
function oe(a,b,c){setTimeout(function(){try{if(a.Kd){var d=a.Ba.ab.createElement("script");d.type="text/javascript";d.async=!0;d.src=b;d.onload=d.onreadystatechange=function(){var a=d.readyState;a&&"loaded"!==a&&"complete"!==a||(d.onload=d.onreadystatechange=null,d.parentNode&&d.parentNode.removeChild(d),c())};d.onerror=function(){ib("Long-poll script failed to load: "+b);a.Kd=!1;a.close()};a.Ba.ab.body.appendChild(d)}}catch(e){}},Math.floor(1))};function re(a){se(this,a)}var te=[je,ae];function se(a,b){var c=ae&&ae.isAvailable(),d=c&&!(za.jf||!0===za.get("previous_websocket_failure"));b.Dg&&(c||y("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),d=!0);if(d)a.Xc=[ae];else{var e=a.Xc=[];Ab(te,function(a,b){b&&b.isAvailable()&&e.push(b)})}}function ue(a){if(0<a.Xc.length)return a.Xc[0];throw Error("No transports available");};function ve(a,b,c,d,e,f){this.id=a;this.f=pb("c:"+this.id+":");this.Zb=c;this.Jc=d;this.ga=e;this.Fe=f;this.O=b;this.Bd=[];this.Ue=0;this.Af=new re(b);this.Qa=0;this.f("Connection created");we(this)}
function we(a){var b=ue(a.Af);a.I=new b("c:"+a.id+":"+a.Ue++,a.O);a.Je=b.responsesRequiredToBeHealthy||0;var c=xe(a,a.I),d=ye(a,a.I);a.Yc=a.I;a.Tc=a.I;a.C=null;a.rb=!1;setTimeout(function(){a.I&&a.I.open(c,d)},Math.floor(0));b=b.healthyTimeout||0;0<b&&(a.nd=setTimeout(function(){a.nd=null;a.rb||(a.I&&102400<a.I.ib?(a.f("Connection exceeded healthy timeout but has received "+a.I.ib+" bytes.  Marking connection healthy."),a.rb=!0,a.I.sd()):a.I&&10240<a.I.jb?a.f("Connection exceeded healthy timeout but has sent "+
a.I.jb+" bytes.  Leaving connection alive."):(a.f("Closing unhealthy connection after timeout."),a.close()))},Math.floor(b)))}function ye(a,b){return function(c){b===a.I?(a.I=null,c||0!==a.Qa?1===a.Qa&&a.f("Realtime connection lost."):(a.f("Realtime connection failed."),"s-"===a.O.La.substr(0,2)&&(za.remove("host:"+a.O.host),a.O.La=a.O.host)),a.close()):b===a.C?(a.f("Secondary connection lost."),c=a.C,a.C=null,a.Yc!==c&&a.Tc!==c||a.close()):a.f("closing an old connection")}}
function xe(a,b){return function(c){if(2!=a.Qa)if(b===a.Tc){var d=xb("t",c);c=xb("d",c);if("c"==d){if(d=xb("t",c),"d"in c)if(c=c.d,"h"===d){var d=c.ts,e=c.v,f=c.h;a.Md=c.s;Ca(a.O,f);0==a.Qa&&(a.I.start(),ze(a,a.I,d),"5"!==e&&y("Protocol version mismatch detected"),c=a.Af,(c=1<c.Xc.length?c.Xc[1]:null)&&Ae(a,c))}else if("n"===d){a.f("recvd end transmission on primary");a.Tc=a.C;for(c=0;c<a.Bd.length;++c)a.xd(a.Bd[c]);a.Bd=[];Be(a)}else"s"===d?(a.f("Connection shutdown command received. Shutting down..."),
a.Fe&&(a.Fe(c),a.Fe=null),a.ga=null,a.close()):"r"===d?(a.f("Reset packet received.  New host: "+c),Ca(a.O,c),1===a.Qa?a.close():(Ce(a),we(a))):"e"===d?qb("Server Error: "+c):"o"===d?(a.f("got pong on primary."),De(a),Ee(a)):qb("Unknown control packet command: "+d)}else"d"==d&&a.xd(c)}else if(b===a.C)if(d=xb("t",c),c=xb("d",c),"c"==d)"t"in c&&(c=c.t,"a"===c?Fe(a):"r"===c?(a.f("Got a reset on secondary, closing it"),a.C.close(),a.Yc!==a.C&&a.Tc!==a.C||a.close()):"o"===c&&(a.f("got pong on secondary."),
a.xf--,Fe(a)));else if("d"==d)a.Bd.push(c);else throw Error("Unknown protocol layer: "+d);else a.f("message on old connection")}}ve.prototype.Ca=function(a){Ge(this,{t:"d",d:a})};function Be(a){a.Yc===a.C&&a.Tc===a.C&&(a.f("cleaning up and promoting a connection: "+a.C.ie),a.I=a.C,a.C=null)}
function Fe(a){0>=a.xf?(a.f("Secondary connection is healthy."),a.rb=!0,a.C.sd(),a.C.start(),a.f("sending client ack on secondary"),a.C.send({t:"c",d:{t:"a",d:{}}}),a.f("Ending transmission on primary"),a.I.send({t:"c",d:{t:"n",d:{}}}),a.Yc=a.C,Be(a)):(a.f("sending ping on secondary."),a.C.send({t:"c",d:{t:"p",d:{}}}))}ve.prototype.xd=function(a){De(this);this.Zb(a)};function De(a){a.rb||(a.Je--,0>=a.Je&&(a.f("Primary connection is healthy."),a.rb=!0,a.I.sd()))}
function Ae(a,b){a.C=new b("c:"+a.id+":"+a.Ue++,a.O,a.Md);a.xf=b.responsesRequiredToBeHealthy||0;a.C.open(xe(a,a.C),ye(a,a.C));setTimeout(function(){a.C&&(a.f("Timed out trying to upgrade."),a.C.close())},Math.floor(6E4))}function ze(a,b,c){a.f("Realtime connection established.");a.I=b;a.Qa=1;a.Jc&&(a.Jc(c),a.Jc=null);0===a.Je?(a.f("Primary connection is healthy."),a.rb=!0):setTimeout(function(){Ee(a)},Math.floor(5E3))}
function Ee(a){a.rb||1!==a.Qa||(a.f("sending ping on primary."),Ge(a,{t:"c",d:{t:"p",d:{}}}))}function Ge(a,b){if(1!==a.Qa)throw"Connection is not connected";a.Yc.send(b)}ve.prototype.close=function(){2!==this.Qa&&(this.f("Closing realtime connection."),this.Qa=2,Ce(this),this.ga&&(this.ga(),this.ga=null))};function Ce(a){a.f("Shutting down all connections");a.I&&(a.I.close(),a.I=null);a.C&&(a.C.close(),a.C=null);a.nd&&(clearTimeout(a.nd),a.nd=null)};function He(a){var b={},c={},d={},e="";try{var f=a.split("."),b=ta(hb(f[0])||""),c=ta(hb(f[1])||""),e=f[2],d=c.d||{};delete c.d}catch(g){}return{Gg:b,fe:c,data:d,xg:e}}function Ie(a){a=He(a).fe;return"object"===typeof a&&a.hasOwnProperty("iat")?t(a,"iat"):null}function Je(a){a=He(a);var b=a.fe;return!!a.xg&&!!b&&"object"===typeof b&&b.hasOwnProperty("iat")};function Ke(a,b,c,d){this.id=Le++;this.f=pb("p:"+this.id+":");this.Bb=!0;this.Aa={};this.la=[];this.Mc=0;this.Ic=[];this.ja=!1;this.Wa=1E3;this.td=3E5;this.yd=b;this.wd=c;this.Ge=d;this.O=a;this.Me=null;this.Rc={};this.sg=0;this.Cc=this.ve=null;Me(this,0);Id.Mb().vb("visible",this.kg,this);-1===a.host.indexOf("fblocal")&&Jd.Mb().vb("online",this.ig,this)}var Le=0,Ne=0;h=Ke.prototype;
h.Ca=function(a,b,c){var d=++this.sg;a={r:d,a:a,b:b};this.f(r(a));w(this.ja,"sendRequest call when we're not connected not allowed.");this.Na.Ca(a);c&&(this.Rc[d]=c)};function Oe(a,b,c,d,e){var f=b.Fa(),g=b.path.toString();a.f("Listen called for "+g+" "+f);a.Aa[g]=a.Aa[g]||{};w(!a.Aa[g][f],"listen() called twice for same path/queryId.");b={H:e,md:c,pg:Qc(b),tag:d};a.Aa[g][f]=b;a.ja&&Pe(a,g,f,b)}
function Pe(a,b,c,d){a.f("Listen on "+b+" for "+c);var e={p:b};d.tag&&(e.q=d.pg,e.t=d.tag);e.h=d.md();a.Ca("q",e,function(e){if((a.Aa[b]&&a.Aa[b][c])===d){a.f("listen response",e);var g=e.s;"ok"!==g&&Qe(a,b,c);e=e.d;d.H&&d.H(g,e)}})}h.Q=function(a,b,c){this.Hb={Rf:a,$e:!1,pc:b,ad:c};this.f("Authenticating using credential: "+a);Re(this);(b=40==a.length)||(a=He(a).fe,b="object"===typeof a&&!0===t(a,"admin"));b&&(this.f("Admin auth credential detected.  Reducing max reconnect time."),this.td=3E4)};
h.Re=function(a){delete this.Hb;this.ja&&this.Ca("unauth",{},function(b){a(b.s,b.d)})};function Re(a){var b=a.Hb;a.ja&&b&&a.Ca("auth",{cred:b.Rf},function(c){var d=c.s;c=c.d||"error";"ok"!==d&&a.Hb===b&&delete a.Hb;b.$e?"ok"!==d&&b.ad&&b.ad(d,c):(b.$e=!0,b.pc&&b.pc(d,c))})}function Se(a,b,c,d){a.ja?Te(a,"o",b,c,d):a.Ic.push({Oc:b,action:"o",data:c,H:d})}function Ue(a,b,c,d){a.ja?Te(a,"om",b,c,d):a.Ic.push({Oc:b,action:"om",data:c,H:d})}
h.Ee=function(a,b){this.ja?Te(this,"oc",a,null,b):this.Ic.push({Oc:a,action:"oc",data:null,H:b})};function Te(a,b,c,d,e){c={p:c,d:d};a.f("onDisconnect "+b,c);a.Ca(b,c,function(a){e&&setTimeout(function(){e(a.s,a.d)},Math.floor(0))})}h.put=function(a,b,c,d){Ve(this,"p",a,b,c,d)};function We(a,b,c,d){Ve(a,"m",b,c,d,void 0)}function Ve(a,b,c,d,e,f){d={p:c,d:d};m(f)&&(d.h=f);a.la.push({action:b,sf:d,H:e});a.Mc++;b=a.la.length-1;a.ja?Xe(a,b):a.f("Buffering put: "+c)}
function Xe(a,b){var c=a.la[b].action,d=a.la[b].sf,e=a.la[b].H;a.la[b].qg=a.ja;a.Ca(c,d,function(d){a.f(c+" response",d);delete a.la[b];a.Mc--;0===a.Mc&&(a.la=[]);e&&e(d.s,d.d)})}
h.xd=function(a){if("r"in a){this.f("from server: "+r(a));var b=a.r,c=this.Rc[b];c&&(delete this.Rc[b],c(a.b))}else{if("error"in a)throw"A server-side error has occurred: "+a.error;"a"in a&&(b=a.a,c=a.b,this.f("handleServerMessage",b,c),"d"===b?this.yd(c.p,c.d,!1,c.t):"m"===b?this.yd(c.p,c.d,!0,c.t):"c"===b?Ye(this,c.p,c.q):"ac"===b?(a=c.s,b=c.d,c=this.Hb,delete this.Hb,c&&c.ad&&c.ad(a,b)):"sd"===b?this.Me?this.Me(c):"msg"in c&&"undefined"!==typeof console&&console.log("FIREBASE: "+c.msg.replace("\n",
"\nFIREBASE: ")):qb("Unrecognized action received from server: "+r(b)+"\nAre you using the latest client?"))}};h.Jc=function(a){this.f("connection ready");this.ja=!0;this.Cc=(new Date).getTime();this.Ge({serverTimeOffset:a-(new Date).getTime()});Ze(this);this.wd(!0)};function Me(a,b){w(!a.Na,"Scheduling a connect when we're already connected/ing?");a.Jb&&clearTimeout(a.Jb);a.Jb=setTimeout(function(){a.Jb=null;$e(a)},Math.floor(b))}
h.kg=function(a){a&&!this.lc&&this.Wa===this.td&&(this.f("Window became visible.  Reducing delay."),this.Wa=1E3,this.Na||Me(this,0));this.lc=a};h.ig=function(a){a?(this.f("Browser went online.  Reconnecting."),this.Wa=1E3,this.Bb=!0,this.Na||Me(this,0)):(this.f("Browser went offline.  Killing connection; don't reconnect."),this.Bb=!1,this.Na&&this.Na.close())};
h.mf=function(){this.f("data client disconnected");this.ja=!1;this.Na=null;for(var a=0;a<this.la.length;a++){var b=this.la[a];b&&"h"in b.sf&&b.qg&&(b.H&&b.H("disconnect"),delete this.la[a],this.Mc--)}0===this.Mc&&(this.la=[]);if(this.Bb)this.lc?this.Cc&&(3E4<(new Date).getTime()-this.Cc&&(this.Wa=1E3),this.Cc=null):(this.f("Window isn't visible.  Delaying reconnect."),this.Wa=this.td,this.ve=(new Date).getTime()),a=Math.max(0,this.Wa-((new Date).getTime()-this.ve)),a*=Math.random(),this.f("Trying to reconnect in "+
a+"ms"),Me(this,a),this.Wa=Math.min(this.td,1.3*this.Wa);else for(var c in this.Rc)delete this.Rc[c];this.wd(!1)};function $e(a){if(a.Bb){a.f("Making a connection attempt");a.ve=(new Date).getTime();a.Cc=null;var b=q(a.xd,a),c=q(a.Jc,a),d=q(a.mf,a),e=a.id+":"+Ne++;a.Na=new ve(e,a.O,b,c,d,function(b){y(b+" ("+a.O.toString()+")");a.Bb=!1})}}h.pb=function(){this.Bb=!1;this.Na?this.Na.close():(this.Jb&&(clearTimeout(this.Jb),this.Jb=null),this.ja&&this.mf())};
h.gc=function(){this.Bb=!0;this.Wa=1E3;this.Na||Me(this,0)};function Ye(a,b,c){c=c?Ka(c,function(a){return yb(a)}).join("$"):"default";(a=Qe(a,b,c))&&a.H&&a.H("permission_denied")}function Qe(a,b,c){b=(new R(b)).toString();var d=a.Aa[b][c];delete a.Aa[b][c];0===Kb(a.Aa[b])&&delete a.Aa[b];return d}function Ze(a){Re(a);z(a.Aa,function(b,d){z(b,function(b,c){Pe(a,d,c,b)})});for(var b=0;b<a.la.length;b++)a.la[b]&&Xe(a,b);for(;a.Ic.length;)b=a.Ic.shift(),Te(a,b.action,b.Oc,b.data,b.H)};function af(){this.m=this.A=null}af.prototype.dc=function(a,b){if(a.e())this.A=b,this.m=null;else if(null!==this.A)this.A=this.A.D(a,b);else{null==this.m&&(this.m=new he);var c=H(a);this.m.contains(c)||this.m.add(c,new af);c=this.m.get(c);a=S(a);c.dc(a,b)}};
function bf(a,b){if(b.e())return a.A=null,a.m=null,!0;if(null!==a.A){if(a.A.L())return!1;var c=a.A;a.A=null;c.T(K,function(b,c){a.dc(new R(b),c)});return bf(a,b)}return null!==a.m?(c=H(b),b=S(b),a.m.contains(c)&&bf(a.m.get(c),b)&&a.m.remove(c),a.m.e()?(a.m=null,!0):!1):!0}function cf(a,b,c){null!==a.A?c(b,a.A):a.T(function(a,e){var f=new R(b.toString()+"/"+a);cf(e,f,c)})}af.prototype.T=function(a){null!==this.m&&ie(this.m,function(b,c){a(b,c)})};function df(){this.Jd=L}df.prototype.j=function(a){return this.Jd.ra(a)};df.prototype.toString=function(){return this.Jd.toString()};function ef(){this.nb=[]}function ff(a,b){for(var c=null,d=0;d<b.length;d++){var e=b[d],f=e.Pb();null===c||f.ea(c.Pb())||(a.nb.push(c),c=null);null===c&&(c=new gf(f));c.add(e)}c&&a.nb.push(c)}function Pc(a,b,c){ff(a,c);hf(a,function(a){return a.ea(b)})}function jf(a,b,c){ff(a,c);hf(a,function(a){return a.contains(b)||b.contains(a)})}
function hf(a,b){for(var c=!0,d=0;d<a.nb.length;d++){var e=a.nb[d];if(e)if(e=e.Pb(),b(e)){for(var e=a.nb[d],f=0;f<e.kd.length;f++){var g=e.kd[f];if(null!==g){e.kd[f]=null;var k=g.Kb();mb&&ib("event: "+g.toString());Db(k)}}a.nb[d]=null}else c=!1}c&&(a.nb=[])}function gf(a){this.Ea=a;this.kd=[]}gf.prototype.add=function(a){this.kd.push(a)};gf.prototype.Pb=function(){return this.Ea};var kf="auth.firebase.com";function lf(a,b,c){this.cd=a||{};this.Ud=b||{};this.Xa=c||{};this.cd.remember||(this.cd.remember="default")}var mf=["remember","redirectTo"];function nf(a){var b={},c={};ua(a||{},function(a,e){0<=Ha(mf,a)?b[a]=e:c[a]=e});return new lf(b,{},c)};var of={NETWORK_ERROR:"Unable to contact the Firebase server.",SERVER_ERROR:"An unknown server error occurred.",TRANSPORT_UNAVAILABLE:"There are no login transports available for the requested method.",REQUEST_INTERRUPTED:"The browser redirected the page before the login request could complete.",USER_CANCELLED:"The user cancelled authentication."};function W(a){var b=Error(t(of,a),a);b.code=a;return b};function pf(){var a=window.opener.frames,b;for(b=a.length-1;0<=b;b--)try{if(a[b].location.protocol===window.location.protocol&&a[b].location.host===window.location.host&&"__winchan_relay_frame"===a[b].name)return a[b]}catch(c){}return null}function qf(a,b,c){a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener&&a.addEventListener(b,c,!1)}function rf(a,b,c){a.detachEvent?a.detachEvent("on"+b,c):a.removeEventListener&&a.removeEventListener(b,c,!1)}
function sf(a){/^https?:\/\//.test(a)||(a=window.location.href);var b=/^(https?:\/\/[\-_a-zA-Z\.0-9:]+)/.exec(a);return b?b[1]:a}function tf(a){var b="";try{a=a.replace("#","");var c={},d=a.replace(/^\?/,"").split("&");for(a=0;a<d.length;a++)if(d[a]){var e=d[a].split("=");c[e[0]]=e[1]}c&&s(c,"__firebase_request_key")&&(b=t(c,"__firebase_request_key"))}catch(f){}return b}
function uf(a){var b=[],c;for(c in a)if(s(a,c)){var d=t(a,c);if(ea(d))for(var e=0;e<d.length;e++)b.push(encodeURIComponent(c)+"="+encodeURIComponent(d[e]));else b.push(encodeURIComponent(c)+"="+encodeURIComponent(t(a,c)))}return b?"&"+b.join("&"):""}function vf(){var a=sb(kf);return a.scheme+"://"+a.host+"/v2"};function wf(){return!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(navigator.userAgent)}function xf(){var a=navigator.userAgent;if("Microsoft Internet Explorer"===navigator.appName){if((a=a.match(/MSIE ([0-9]{1,}[\.0-9]{0,})/))&&1<a.length)return 8<=parseFloat(a[1])}else if(-1<a.indexOf("Trident")&&(a=a.match(/rv:([0-9]{2,2}[\.0-9]{0,})/))&&1<a.length)return 8<=parseFloat(a[1]);return!1};function yf(a){a=a||{};a.method||(a.method="GET");a.headers||(a.headers={});a.headers.content_type||(a.headers.content_type="application/json");a.headers.content_type=a.headers.content_type.toLowerCase();this.options=a}
yf.prototype.open=function(a,b,c){function d(){c&&(c(W("REQUEST_INTERRUPTED")),c=null)}var e=new XMLHttpRequest,f=this.options.method.toUpperCase(),g;qf(window,"beforeunload",d);e.onreadystatechange=function(){if(c&&4===e.readyState){var a;if(200<=e.status&&300>e.status){try{a=ta(e.responseText)}catch(b){}c(null,a)}else 500<=e.status&&600>e.status?c(W("SERVER_ERROR")):c(W("NETWORK_ERROR"));c=null;rf(window,"beforeunload",d)}};if("GET"===f)a+=(/\?/.test(a)?"":"?")+uf(b),g=null;else{var k=this.options.headers.content_type;
"application/json"===k&&(g=r(b));"application/x-www-form-urlencoded"===k&&(g=uf(b))}e.open(f,a,!0);a={"X-Requested-With":"XMLHttpRequest",Accept:"application/json;text/plain"};Rd(a,this.options.headers);for(var l in a)e.setRequestHeader(l,a[l]);e.send(g)};yf.isAvailable=function(){return!!window.XMLHttpRequest&&"string"===typeof(new XMLHttpRequest).responseType&&(!(navigator.userAgent.match(/MSIE/)||navigator.userAgent.match(/Trident/))||xf())};yf.prototype.rc=function(){return"json"};function zf(a){a=a||{};this.Sc=Ga()+Ga()+Ga();this.nf=a||{}}
zf.prototype.open=function(a,b,c){function d(){c&&(c(W("USER_CANCELLED")),c=null)}var e=this,f=sb(kf),g;b.requestId=this.Sc;b.redirectTo=f.scheme+"://"+f.host+"/blank/page.html";a+=/\?/.test(a)?"":"?";a+=uf(b);(g=window.open(a,"_blank","location=no"))&&ha(g.addEventListener)?(g.addEventListener("loadstart",function(a){var b;if(b=a&&a.url)a:{var n=a.url;try{var u=document.createElement("a");u.href=n;b=u.host===f.host&&"/blank/page.html"===u.pathname;break a}catch(x){}b=!1}b&&(a=tf(a.url),g.removeEventListener("exit",
d),g.close(),a=new lf(null,null,{requestId:e.Sc,requestKey:a}),e.nf.requestWithCredential("/auth/session",a,c),c=null)}),g.addEventListener("exit",d)):c(W("TRANSPORT_UNAVAILABLE"))};zf.isAvailable=function(){return wf()};zf.prototype.rc=function(){return"redirect"};function Af(a){a=a||{};if(!a.window_features||-1!==navigator.userAgent.indexOf("Fennec/")||-1!==navigator.userAgent.indexOf("Firefox/")&&-1!==navigator.userAgent.indexOf("Android"))a.window_features=void 0;a.window_name||(a.window_name="_blank");a.relay_url||(a.relay_url=vf()+"/auth/channel");this.options=a}
Af.prototype.open=function(a,b,c){function d(a){g&&(document.body.removeChild(g),g=void 0);u&&(u=clearInterval(u));rf(window,"message",e);rf(window,"unload",d);if(n&&!a)try{n.close()}catch(b){k.postMessage("die",l)}n=k=void 0}function e(a){if(a.origin===l)try{var b=ta(a.data);"ready"===b.a?k.postMessage(x,l):"error"===b.a?(d(!1),c&&(c(b.d),c=null)):"response"===b.a&&(d(b.forceKeepWindowOpen),c&&(c(null,b.d),c=null))}catch(e){}}var f=xf(),g,k,l=sf(a);if(l!==sf(this.options.relay_url))c&&setTimeout(function(){c(Error("invalid arguments: origin of url and relay_url must match"))},
0);else{f&&(g=document.createElement("iframe"),g.setAttribute("src",this.options.relay_url),g.style.display="none",g.setAttribute("name","__winchan_relay_frame"),document.body.appendChild(g),k=g.contentWindow);a+=(/\?/.test(a)?"":"?")+uf(b);var n=window.open(a,this.options.window_name,this.options.window_features);k||(k=n);var u=setInterval(function(){n&&n.closed&&(d(!1),c&&(c(W("USER_CANCELLED")),c=null))},500),x=r({a:"request",d:b});qf(window,"unload",d);qf(window,"message",e)}};
Af.isAvailable=function(){return"postMessage"in window&&!/^file:\//.test(location.href)&&!(wf()||navigator.userAgent.match(/Windows Phone/)||window.Windows&&/^ms-appx:/.test(location.href)||navigator.userAgent.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i)||navigator.userAgent.match(/CriOS/)||navigator.userAgent.match(/Twitter for iPhone/)||navigator.userAgent.match(/FBAN\/FBIOS/)||window.navigator.standalone)&&!navigator.userAgent.match(/PhantomJS/)};Af.prototype.rc=function(){return"popup"};function Bf(a){a=a||{};a.callback_parameter||(a.callback_parameter="callback");this.options=a;window.__firebase_auth_jsonp=window.__firebase_auth_jsonp||{}}
Bf.prototype.open=function(a,b,c){function d(){c&&(c(W("REQUEST_INTERRUPTED")),c=null)}function e(){setTimeout(function(){window.__firebase_auth_jsonp[f]=void 0;Od(window.__firebase_auth_jsonp)&&(window.__firebase_auth_jsonp=void 0);try{var a=document.getElementById(f);a&&a.parentNode.removeChild(a)}catch(b){}},1);rf(window,"beforeunload",d)}var f="fn"+(new Date).getTime()+Math.floor(99999*Math.random());b[this.options.callback_parameter]="__firebase_auth_jsonp."+f;a+=(/\?/.test(a)?"":"?")+uf(b);
qf(window,"beforeunload",d);window.__firebase_auth_jsonp[f]=function(a){c&&(c(null,a),c=null);e()};Cf(f,a,c)};
function Cf(a,b,c){setTimeout(function(){try{var d=document.createElement("script");d.type="text/javascript";d.id=a;d.async=!0;d.src=b;d.onerror=function(){var b=document.getElementById(a);null!==b&&b.parentNode.removeChild(b);c&&c(W("NETWORK_ERROR"))};var e=document.getElementsByTagName("head");(e&&0!=e.length?e[0]:document.documentElement).appendChild(d)}catch(f){c&&c(W("NETWORK_ERROR"))}},0)}Bf.isAvailable=function(){return!wf()};Bf.prototype.rc=function(){return"json"};function Df(a,b){this.Ie=["session",a.Dd,a.tb].join(":");this.Rd=b}Df.prototype.set=function(a,b){if(!b)if(this.Rd.length)b=this.Rd[0];else throw Error("fb.login.SessionManager : No storage options available!");b.set(this.Ie,a)};Df.prototype.get=function(){var a=Ka(this.Rd,q(this.Zf,this)),a=Ja(a,function(a){return null!==a});Ra(a,function(a,c){return Ie(c.token)-Ie(a.token)});return 0<a.length?a.shift():null};Df.prototype.Zf=function(a){try{var b=a.get(this.Ie);if(b&&b.token)return b}catch(c){}return null};
Df.prototype.clear=function(){var a=this;Ia(this.Rd,function(b){b.remove(a.Ie)})};function Ef(a){a=a||{};this.Sc=Ga()+Ga()+Ga();this.nf=a||{}}Ef.prototype.open=function(a,b){Aa.set("redirect_request_id",this.Sc);b.requestId=this.Sc;b.redirectTo=b.redirectTo||window.location.href;a+=(/\?/.test(a)?"":"?")+uf(b);window.location=a};Ef.isAvailable=function(){return!/^file:\//.test(location.href)&&!wf()};Ef.prototype.rc=function(){return"redirect"};function Ff(a,b,c,d){Gd.call(this,["auth_status"]);this.O=a;this.Te=b;this.Cg=c;this.De=d;this.hc=new Df(a,[za,Aa]);this.hb=null;Gf(this)}ma(Ff,Gd);h=Ff.prototype;h.me=function(){return this.hb||null};function Gf(a){Aa.get("redirect_request_id")&&Hf(a);var b=a.hc.get();b&&b.token?(If(a,b),a.Te(b.token,function(c,d){Jf(a,c,d,!1,b.token,b)},function(b,d){Kf(a,"resumeSession()",b,d)})):If(a,null)}
function Lf(a,b,c,d,e,f){"firebaseio-demo.com"===a.O.domain&&y("Firebase authentication is not supported on demo Firebases (*.firebaseio-demo.com). To secure your Firebase, create a production Firebase at https://www.firebase.com.");a.Te(b,function(f,k){Jf(a,f,k,!0,b,c,d||{},e)},function(b,c){Kf(a,"auth()",b,c,f)})}function Mf(a,b){a.hc.clear();If(a,null);a.Cg(function(a,d){if("ok"===a)A(b,null);else{var e=(a||"error").toUpperCase(),f=e;d&&(f+=": "+d);f=Error(f);f.code=e;A(b,f)}})}
function Jf(a,b,c,d,e,f,g,k){"ok"===b?(d&&(b=c.auth,f.auth=b,f.expires=c.expires,f.token=Je(e)?e:"",c=null,b&&s(b,"uid")?c=t(b,"uid"):s(f,"uid")&&(c=t(f,"uid")),f.uid=c,c="custom",b&&s(b,"provider")?c=t(b,"provider"):s(f,"provider")&&(c=t(f,"provider")),f.provider=c,a.hc.clear(),Je(e)&&(g=g||{},c=za,"sessionOnly"===g.remember&&(c=Aa),"none"!==g.remember&&a.hc.set(f,c)),If(a,f)),A(k,null,f)):(a.hc.clear(),If(a,null),f=a=(b||"error").toUpperCase(),c&&(f+=": "+c),f=Error(f),f.code=a,A(k,f))}
function Kf(a,b,c,d,e){y(b+" was canceled: "+d);a.hc.clear();If(a,null);a=Error(d);a.code=c.toUpperCase();A(e,a)}function Nf(a,b,c,d,e){Of(a);c=new lf(d||{},{},c||{});Pf(a,[yf,Bf],"/auth/"+b,c,e)}
function Qf(a,b,c,d){Of(a);var e=[Af,zf];c=nf(c);"anonymous"===b||"password"===b?setTimeout(function(){A(d,W("TRANSPORT_UNAVAILABLE"))},0):(c.Ud.window_features="menubar=yes,modal=yes,alwaysRaised=yeslocation=yes,resizable=yes,scrollbars=yes,status=yes,height=625,width=625,top="+("object"===typeof screen?.5*(screen.height-625):0)+",left="+("object"===typeof screen?.5*(screen.width-625):0),c.Ud.relay_url=vf()+"/"+a.O.tb+"/auth/channel",c.Ud.requestWithCredential=q(a.fc,a),Pf(a,e,"/auth/"+b,c,d))}
function Hf(a){var b=Aa.get("redirect_request_id");if(b){var c=Aa.get("redirect_client_options");Aa.remove("redirect_request_id");Aa.remove("redirect_client_options");var d=[yf,Bf],b={requestId:b,requestKey:tf(document.location.hash)},c=new lf(c,{},b);try{document.location.hash=document.location.hash.replace(/&__firebase_request_key=([a-zA-z0-9]*)/,"")}catch(e){}Pf(a,d,"/auth/session",c)}}h.je=function(a,b){Of(this);var c=nf(a);c.Xa._method="POST";this.fc("/users",c,function(a,c){a?A(b,a):A(b,a,c)})};
h.Ke=function(a,b){var c=this;Of(this);var d="/users/"+encodeURIComponent(a.email),e=nf(a);e.Xa._method="DELETE";this.fc(d,e,function(a,d){!a&&d&&d.uid&&c.hb&&c.hb.uid&&c.hb.uid===d.uid&&Mf(c);A(b,a)})};h.ee=function(a,b){Of(this);var c="/users/"+encodeURIComponent(a.email)+"/password",d=nf(a);d.Xa._method="PUT";d.Xa.password=a.newPassword;this.fc(c,d,function(a){A(b,a)})};
h.de=function(a,b){Of(this);var c="/users/"+encodeURIComponent(a.oldEmail)+"/email",d=nf(a);d.Xa._method="PUT";d.Xa.email=a.newEmail;d.Xa.password=a.password;this.fc(c,d,function(a){A(b,a)})};h.Le=function(a,b){Of(this);var c="/users/"+encodeURIComponent(a.email)+"/password",d=nf(a);d.Xa._method="POST";this.fc(c,d,function(a){A(b,a)})};h.fc=function(a,b,c){Rf(this,[yf,Bf],a,b,c)};
function Pf(a,b,c,d,e){Rf(a,b,c,d,function(b,c){!b&&c&&c.token&&c.uid?Lf(a,c.token,c,d.cd,function(a,b){a?A(e,a):A(e,null,b)}):A(e,b||W("UNKNOWN_ERROR"))})}
function Rf(a,b,c,d,e){b=Ja(b,function(a){return"function"===typeof a.isAvailable&&a.isAvailable()});0===b.length?setTimeout(function(){A(e,W("TRANSPORT_UNAVAILABLE"))},0):(b=new (b.shift())(d.Ud),d=va(d.Xa),d.v="js-2.1.1",d.transport=b.rc(),d.suppress_status_codes=!0,a=vf()+"/"+a.O.tb+c,b.open(a,d,function(a,b){if(a)A(e,a);else if(b&&b.error){var c=Error(b.error.message);c.code=b.error.code;c.details=b.error.details;A(e,c)}else A(e,null,b)}))}
function If(a,b){var c=null!==a.hb||null!==b;a.hb=b;c&&a.Vd("auth_status",b);a.De(null!==b)}h.pe=function(a){w("auth_status"===a,'initial event must be of type "auth_status"');return[this.hb]};function Of(a){var b=a.O;if("firebaseio.com"!==b.domain&&"firebaseio-demo.com"!==b.domain&&"auth.firebase.com"===kf)throw Error("This custom Firebase server ('"+a.O.domain+"') does not support delegated login.");};function Sf(a,b){return a&&"object"===typeof a?(w(".sv"in a,"Unexpected leaf node or priority contents"),b[a[".sv"]]):a}function Tf(a,b){var c=new af;cf(a,new R(""),function(a,e){c.dc(a,Uf(e,b))});return c}function Uf(a,b){var c=a.K().N(),c=Sf(c,b),d;if(a.L()){var e=Sf(a.za(),b);return e!==a.za()||c!==a.K().N()?new od(e,N(c)):a}d=a;c!==a.K().N()&&(d=d.Z(new od(c)));a.T(K,function(a,c){var e=Uf(c,b);e!==c&&(d=d.P(a,e))});return d};function xc(a,b,c){this.B=a;this.aa=b;this.xc=c}function Vf(a){return a.aa}function wc(a,b){return a.aa&&!a.xc||a.B.Da(b)}xc.prototype.j=function(){return this.B};function Wf(a,b){this.F=a;this.Ld=b}function Xf(a,b,c,d){return new Wf(new xc(b,c,d),a.Ld)}function Yf(a){return a.F.aa?a.F.j():null}Wf.prototype.o=function(){return this.Ld};function yc(a){return a.Ld.aa?a.Ld.j():null};function Zf(a,b){this.Yd=a;this.Of=b}function $f(a){this.G=a}
$f.prototype.Ya=function(a,b,c,d){var e=new zc,f;if(b.type===ag)b.source.bf?c=bg(this,a,b.path,b.Pa,c,d,e):(w(b.source.af,"Unknown source."),f=b.source.zf,c=cg(this,a,b.path,b.Pa,c,d,f,e));else if(b.type===dg)b.source.bf?c=eg(this,a,b.path,b.children,c,d,e):(w(b.source.af,"Unknown source."),f=b.source.zf,c=fg(this,a,b.path,b.children,c,d,f,e));else if(b.type===gg)if(b.wf)if(f=b.path,null!=c.ic(f))c=a;else{b=new vc(c,a,d);d=a.F.j();if(f.e()||".priority"===H(f))Vf(a.o())?b=c.pa(yc(a)):(b=a.o().j(),
w(b instanceof V,"serverChildren would be complete if leaf node"),b=c.oc(b)),b=this.G.oa(d,b,e);else{f=H(f);var g=c.Ta(f,a.o());null==g&&wc(a.o(),f)&&(g=d.J(f));b=null!=g?this.G.D(d,f,g,b,e):a.F.j().Da(f)?this.G.D(d,f,L,b,e):d;b.e()&&Vf(a.o())&&(d=c.pa(yc(a)),d.L()&&(b=this.G.oa(b,d,e)))}d=Vf(a.o())||null!=c.ic(T);c=Xf(a,b,d,this.G.ya())}else c=hg(this,a,b.path,c,d,e);else if(b.type===ig)d=b.path,b=a.o(),f=b.j(),g=b.aa||d.e(),c=jg(this,new Wf(a.F,new xc(f,g,b.xc)),d,c,uc,e);else throw gb("Unknown operation type: "+
b.type);e=Kd(e.Za);d=c;b=d.F;b.aa&&(f=b.j().L()||b.j().e(),g=Yf(a),(0<e.length||!a.F.aa||f&&!b.j().ea(g)||!b.j().K().ea(g.K()))&&e.push(Gb(Yf(d))));return new Zf(c,e)};
function jg(a,b,c,d,e,f){var g=b.F;if(null!=d.ic(c))return b;var k;if(c.e())w(Vf(b.o()),"If change path is empty, we must have complete server data"),a.G.ya()?(e=yc(b),d=d.oc(e instanceof V?e:L)):d=d.pa(yc(b)),f=a.G.oa(b.F.j(),d,f);else{var l=H(c);if(".priority"==l)w(1==Rc(c),"Can't have a priority with additional path components"),f=g.j(),k=b.o().j(),d=d.$c(c,f,k),f=null!=d?a.G.Z(f,d):g.j();else{var n=S(c);wc(g,l)?(k=b.o().j(),d=d.$c(c,g.j(),k),d=null!=d?g.j().J(l).D(n,d):g.j().J(l)):d=d.Ta(l,b.o());
f=null!=d?a.G.D(g.j(),l,d,e,f):g.j()}}return Xf(b,f,g.aa||c.e(),a.G.ya())}function cg(a,b,c,d,e,f,g,k){var l=b.o();g=g?a.G:a.G.Lb();if(c.e())d=g.oa(l.j(),d,null);else if(g.ya()&&!l.xc)d=l.j().D(c,d),d=g.oa(l.j(),d,null);else{var n=H(c);if((c.e()?!l.aa||l.xc:!wc(l,H(c)))&&1<Rc(c))return b;d=l.j().J(n).D(S(c),d);d=".priority"==n?g.Z(l.j(),d):g.D(l.j(),n,d,uc,null)}l=l.aa||c.e();b=new Wf(b.F,new xc(d,l,g.ya()));return jg(a,b,c,e,new vc(e,b,f),k)}
function bg(a,b,c,d,e,f,g){var k=b.F;e=new vc(e,b,f);if(c.e())g=a.G.oa(b.F.j(),d,g),a=Xf(b,g,!0,a.G.ya());else if(f=H(c),".priority"===f)g=a.G.Z(b.F.j(),d),a=Xf(b,g,k.aa,k.xc);else{var l=S(c);c=k.j().J(f);if(!l.e()){var n=e.cf(f);d=null!=n?".priority"===Sc(l)&&n.ra(l.parent()).e()?n:n.D(l,d):L}c.ea(d)?a=b:(g=a.G.D(k.j(),f,d,e,g),a=Xf(b,g,k.aa,a.G.ya()))}return a}
function eg(a,b,c,d,e,f,g){var k=b;kg(d,function(d,n){var u=c.n(d);wc(b.F,H(u))&&(k=bg(a,k,u,n,e,f,g))});kg(d,function(d,n){var u=c.n(d);wc(b.F,H(u))||(k=bg(a,k,u,n,e,f,g))});return k}function lg(a,b){kg(b,function(b,d){a=a.D(b,d)});return a}
function fg(a,b,c,d,e,f,g,k){if(b.o().j().e()&&!Vf(b.o()))return b;var l=b;c=c.e()?d:mg(ng,c,d);var n=b.o().j();c.children.fa(function(c,d){if(n.Da(c)){var E=b.o().j().J(c),E=lg(E,d);l=cg(a,l,new R(c),E,e,f,g,k)}});c.children.fa(function(c,d){var E=!Vf(b.o())&&null==d.value;n.Da(c)||E||(E=b.o().j().J(c),E=lg(E,d),l=cg(a,l,new R(c),E,e,f,g,k))});return l}
function hg(a,b,c,d,e,f){if(null!=d.ic(c))return b;var g=new vc(d,b,e),k=e=b.F.j();if(Vf(b.o())){if(c.e())e=d.pa(yc(b)),k=a.G.oa(b.F.j(),e,f);else if(".priority"===H(c)){var l=d.Ta(H(c),b.o());null==l||e.e()||e.K().ea(l)||(k=a.G.Z(e,l))}else l=H(c),e=d.Ta(l,b.o()),null!=e&&(k=a.G.D(b.F.j(),l,e,g,f));e=!0}else b.F.aa?(k=e,e=Yf(b),e.L()||e.T(K,function(c){var e=d.Ta(c,b.o());null!=e&&(k=a.G.D(k,c,e,g,f))}),e=!0):(!c.e()&&(l=H(c),1==Rc(c)||wc(b.F,l))&&(c=d.Ta(l,b.o()),null!=c&&(k=a.G.D(e,l,c,g,f))),
e=!1);return Xf(b,k,e,a.G.ya())};function og(a){this.V=a;this.g=a.w.g}function pg(a,b,c,d){var e=[],f=[];Ia(b,function(b){"child_changed"===b.type&&a.g.gf(b.Ce,b.Ga)&&f.push(new B("child_moved",b.Ga,b.Ua))});qg(a,e,"child_removed",b,d,c);qg(a,e,"child_added",b,d,c);qg(a,e,"child_moved",f,d,c);qg(a,e,"child_changed",b,d,c);qg(a,e,Hb,b,d,c);return e}function qg(a,b,c,d,e,f){d=Ja(d,function(a){return a.type===c});Ra(d,q(a.Qf,a));Ia(d,function(c){var d=rg(a,c,f);Ia(e,function(e){e.tf(c.type)&&b.push(e.createEvent(d,a.V))})})}
function rg(a,b,c){"value"!==b.type&&"child_removed"!==b.type&&(b.Fd=c.df(b.Ua,b.Ga,a.g));return b}og.prototype.Qf=function(a,b){if(null==a.Ua||null==b.Ua)throw gb("Should only compare child_ events.");return this.g.compare(new M(a.Ua,a.Ga),new M(b.Ua,b.Ga))};function sg(a,b){this.V=a;var c=a.w,d=new cc(c.g),c=Jc(c)?new cc(c.g):c.ka?new Bc(c):new ec(c);this.qf=new $f(c);var e=b.o(),f=b.F,g=d.oa(L,e.j(),null),k=c.oa(L,f.j(),null);this.Ha=new Wf(new xc(k,f.aa,c.ya()),new xc(g,e.aa,d.ya()));this.Va=[];this.Uf=new og(a)}function tg(a){return a.V}h=sg.prototype;h.o=function(){return this.Ha.o().j()};h.bb=function(a){var b=yc(this.Ha);return b&&(Jc(this.V.w)||!a.e()&&!b.J(H(a)).e())?b.ra(a):null};h.e=function(){return 0===this.Va.length};h.Fb=function(a){this.Va.push(a)};
h.gb=function(a,b){var c=[];if(b){w(null==a,"A cancel should cancel all event registrations.");var d=this.V.path;Ia(this.Va,function(a){(a=a.Ve(b,d))&&c.push(a)})}if(a){for(var e=[],f=0;f<this.Va.length;++f){var g=this.Va[f];if(!g.matches(a))e.push(g);else if(a.ff()){e=e.concat(this.Va.slice(f+1));break}}this.Va=e}else this.Va=[];return c};
h.Ya=function(a,b,c){a.type===dg&&null!==a.source.ac&&(w(yc(this.Ha),"We should always have a full cache before handling merges"),w(Yf(this.Ha),"Missing event cache, even though we have a server cache"));var d=this.Ha;a=this.qf.Ya(d,a,b,c);b=this.qf;c=a.Yd;w(c.F.j().Ac(b.G.g),"Event snap not indexed");w(c.o().j().Ac(b.G.g),"Server snap not indexed");w(Vf(a.Yd.o())||!Vf(d.o()),"Once a server snap is complete, it should never go back");this.Ha=a.Yd;return ug(this,a.Of,a.Yd.F.j(),null)};
function vg(a,b){var c=a.Ha.F,d=[];c.j().L()||c.j().T(K,function(a,b){d.push(new B("child_added",b,a))});c.aa&&d.push(Gb(c.j()));return ug(a,d,c.j(),b)}function ug(a,b,c,d){return pg(a.Uf,b,c,d?[d]:a.Va)};function wg(a,b){this.value=a;this.children=b||xg}var xg=new $c(function(a,b){return a===b?0:a<b?-1:1}),ng=new wg(null);function yg(a){var b=ng;z(a,function(a,d){b=b.set(new R(d),a)});return b}h=wg.prototype;h.e=function(){return null===this.value&&this.children.e()};function zg(a,b,c){if(null!=a.value&&c(a.value))return{path:T,value:a.value};if(b.e())return null;var d=H(b);a=a.children.get(d);return null!==a?(b=zg(a,S(b),c),null!=b?{path:(new R(d)).n(b.path),value:b.value}:null):null}
function Ag(a,b){return zg(a,b,function(){return!0})}h.subtree=function(a){if(a.e())return this;var b=this.children.get(H(a));return null!==b?b.subtree(S(a)):ng};h.set=function(a,b){if(a.e())return new wg(b,this.children);var c=H(a),d=(this.children.get(c)||ng).set(S(a),b),c=this.children.Ka(c,d);return new wg(this.value,c)};
h.remove=function(a){if(a.e())return this.children.e()?ng:new wg(null,this.children);var b=H(a),c=this.children.get(b);return c?(a=c.remove(S(a)),b=a.e()?this.children.remove(b):this.children.Ka(b,a),null===this.value&&b.e()?ng:new wg(this.value,b)):this};h.get=function(a){if(a.e())return this.value;var b=this.children.get(H(a));return b?b.get(S(a)):null};
function mg(a,b,c){if(b.e())return c;var d=H(b);b=mg(a.children.get(d)||ng,S(b),c);d=b.e()?a.children.remove(d):a.children.Ka(d,b);return new wg(a.value,d)}function Bg(a,b){return Cg(a,T,b)}function Cg(a,b,c){var d={};a.children.fa(function(a,f){d[a]=Cg(f,b.n(a),c)});return c(b,a.value,d)}function Dg(a,b,c){return Eg(a,b,T,c)}function Eg(a,b,c,d){var e=a.value?d(c,a.value):!1;if(e)return e;if(b.e())return null;e=H(b);return(a=a.children.get(e))?Eg(a,S(b),c.n(e),d):null}
function Fg(a,b,c){if(!b.e()){var d=!0;a.value&&(d=c(T,a.value));!0===d&&(d=H(b),(a=a.children.get(d))&&Gg(a,S(b),T.n(d),c))}}function Gg(a,b,c,d){if(b.e())return a;a.value&&d(c,a.value);var e=H(b);return(a=a.children.get(e))?Gg(a,S(b),c.n(e),d):ng}function kg(a,b){Hg(a,T,b)}function Hg(a,b,c){a.children.fa(function(a,e){Hg(e,b.n(a),c)});a.value&&c(b,a.value)}function Ig(a,b){a.children.fa(function(a,d){d.value&&b(a,d.value)})};function Jg(){this.va={}}h=Jg.prototype;h.e=function(){return Od(this.va)};h.Ya=function(a,b,c){var d=a.source.ac;if(null!==d)return d=t(this.va,d),w(null!=d,"SyncTree gave us an op for an invalid query."),d.Ya(a,b,c);var e=[];z(this.va,function(d){e=e.concat(d.Ya(a,b,c))});return e};h.Fb=function(a,b,c,d,e){var f=a.Fa(),g=t(this.va,f);if(!g){var g=c.pa(e?d:null),k=!1;g?k=!0:(g=d instanceof V?c.oc(d):L,k=!1);g=new sg(a,new Wf(new xc(g,k,!1),new xc(d,e,!1)));this.va[f]=g}g.Fb(b);return vg(g,b)};
h.gb=function(a,b,c){var d=a.Fa(),e=[],f=[],g=null!=Kg(this);if("default"===d){var k=this;z(this.va,function(a,d){f=f.concat(a.gb(b,c));a.e()&&(delete k.va[d],Jc(a.V.w)||e.push(a.V))})}else{var l=t(this.va,d);l&&(f=f.concat(l.gb(b,c)),l.e()&&(delete this.va[d],Jc(l.V.w)||e.push(l.V)))}g&&null==Kg(this)&&e.push(new Q(a.k,a.path));return{rg:e,Vf:f}};function Lg(a){return Ja(Kd(a.va),function(a){return!Jc(a.V.w)})}h.bb=function(a){var b=null;z(this.va,function(c){b=b||c.bb(a)});return b};
function Mg(a,b){if(Jc(b.w))return Kg(a);var c=b.Fa();return t(a.va,c)}function Kg(a){return Nd(a.va,function(a){return Jc(a.V.w)})||null};function Ng(a){this.W=a}var Og=new Ng(new wg(null));function Pg(a,b,c){if(b.e())return new Ng(new wg(c));var d=Ag(a.W,b);if(null!=d){var e=d.path,d=d.value;b=U(e,b);d=d.D(b,c);return new Ng(a.W.set(e,d))}a=mg(a.W,b,new wg(c));return new Ng(a)}function Qg(a,b,c){var d=a;ua(c,function(a,c){d=Pg(d,b.n(a),c)});return d}Ng.prototype.Gd=function(a){if(a.e())return Og;a=mg(this.W,a,ng);return new Ng(a)};function Rg(a,b){var c=Ag(a.W,b);return null!=c?a.W.get(c.path).ra(U(c.path,b)):null}
function Sg(a){var b=[],c=a.W.value;null!=c?c.L()||c.T(K,function(a,c){b.push(new M(a,c))}):a.W.children.fa(function(a,c){null!=c.value&&b.push(new M(a,c.value))});return b}function Tg(a,b){if(b.e())return a;var c=Rg(a,b);return null!=c?new Ng(new wg(c)):new Ng(a.W.subtree(b))}Ng.prototype.e=function(){return this.W.e()};Ng.prototype.apply=function(a){return Ug(T,this.W,a)};
function Ug(a,b,c){if(null!=b.value)return c.D(a,b.value);var d=null;b.children.fa(function(b,f){".priority"===b?(w(null!==f.value,"Priority writes must always be leaf nodes"),d=f.value):c=Ug(a.n(b),f,c)});c.ra(a).e()||null===d||(c=c.D(a.n(".priority"),d));return c};function Vg(){this.U=Og;this.wa=[];this.Dc=-1}h=Vg.prototype;
h.Gd=function(a){var b=Oa(this.wa,function(b){return b.Zd===a});w(0<=b,"removeWrite called with nonexistent writeId.");var c=this.wa[b];this.wa.splice(b,1);for(var d=c.visible,e=!1,f=this.wa.length-1;d&&0<=f;){var g=this.wa[f];g.visible&&(f>=b&&Wg(g,c.path)?d=!1:c.path.contains(g.path)&&(e=!0));f--}if(d){if(e)this.U=Xg(this.wa,Yg,T),this.Dc=0<this.wa.length?this.wa[this.wa.length-1].Zd:-1;else if(c.Pa)this.U=this.U.Gd(c.path);else{var k=this;z(c.children,function(a,b){k.U=k.U.Gd(c.path.n(b))})}return c.path}return null};
h.pa=function(a,b,c,d){if(c||d){var e=Tg(this.U,a);return!d&&e.e()?b:d||null!=b||null!=Rg(e,T)?(e=Xg(this.wa,function(b){return(b.visible||d)&&(!c||!(0<=Ha(c,b.Zd)))&&(b.path.contains(a)||a.contains(b.path))},a),b=b||L,e.apply(b)):null}e=Rg(this.U,a);if(null!=e)return e;e=Tg(this.U,a);return e.e()?b:null!=b||null!=Rg(e,T)?(b=b||L,e.apply(b)):null};
h.oc=function(a,b){var c=L,d=Rg(this.U,a);if(d)d.L()||d.T(K,function(a,b){c=c.P(a,b)});else if(b){var e=Tg(this.U,a);b.T(K,function(a,b){var d=Tg(e,new R(a)).apply(b);c=c.P(a,d)});Ia(Sg(e),function(a){c=c.P(a.name,a.Y)})}else e=Tg(this.U,a),Ia(Sg(e),function(a){c=c.P(a.name,a.Y)});return c};h.$c=function(a,b,c,d){w(c||d,"Either existingEventSnap or existingServerSnap must exist");a=a.n(b);if(null!=Rg(this.U,a))return null;a=Tg(this.U,a);return a.e()?d.ra(b):a.apply(d.ra(b))};
h.Ta=function(a,b,c){a=a.n(b);var d=Rg(this.U,a);return null!=d?d:wc(c,b)?Tg(this.U,a).apply(c.j().J(b)):null};h.ic=function(a){return Rg(this.U,a)};h.ce=function(a,b,c,d,e,f){var g;a=Tg(this.U,a);g=Rg(a,T);if(null==g)if(null!=b)g=a.apply(b);else return[];g=g.Eb(f);if(g.e()||g.L())return[];b=[];a=nc(f);e=e?g.Qb(c,f):g.Ob(c,f);for(f=O(e);f&&b.length<d;)0!==a(f,c)&&b.push(f),f=O(e);return b};
function Wg(a,b){return a.Pa?a.path.contains(b):!!Md(a.children,function(c,d){return a.path.n(d).contains(b)})}function Yg(a){return a.visible}
function Xg(a,b,c){for(var d=Og,e=0;e<a.length;++e){var f=a[e];if(b(f)){var g=f.path;if(f.Pa)c.contains(g)?(g=U(c,g),d=Pg(d,g,f.Pa)):g.contains(c)&&(g=U(g,c),d=Pg(d,T,f.Pa.ra(g)));else if(f.children)if(c.contains(g))g=U(c,g),d=Qg(d,g,f.children);else{if(g.contains(c))if(g=U(g,c),g.e())d=Qg(d,T,f.children);else if(f=t(f.children,H(g)))f=f.ra(S(g)),d=Pg(d,T,f)}else throw gb("WriteRecord should have .snap or .children");}}return d}function Zg(a,b){this.Cb=a;this.W=b}h=Zg.prototype;
h.pa=function(a,b,c){return this.W.pa(this.Cb,a,b,c)};h.oc=function(a){return this.W.oc(this.Cb,a)};h.$c=function(a,b,c){return this.W.$c(this.Cb,a,b,c)};h.ic=function(a){return this.W.ic(this.Cb.n(a))};h.ce=function(a,b,c,d,e){return this.W.ce(this.Cb,a,b,c,d,e)};h.Ta=function(a,b){return this.W.Ta(this.Cb,a,b)};h.n=function(a){return new Zg(this.Cb.n(a),this.W)};function $g(a,b,c){this.type=ag;this.source=a;this.path=b;this.Pa=c}$g.prototype.Lc=function(a){return this.path.e()?new $g(this.source,T,this.Pa.J(a)):new $g(this.source,S(this.path),this.Pa)};function ah(a,b){this.type=gg;this.source=bh;this.path=a;this.wf=b}ah.prototype.Lc=function(){return this.path.e()?this:new ah(S(this.path),this.wf)};function ch(a,b){this.type=ig;this.source=a;this.path=b}ch.prototype.Lc=function(){return this.path.e()?new ch(this.source,T):new ch(this.source,S(this.path))};function dh(a,b,c){this.type=dg;this.source=a;this.path=b;this.children=c}dh.prototype.Lc=function(a){if(this.path.e())return a=this.children.subtree(new R(a)),a.e()?null:a.value?new $g(this.source,T,a.value):new dh(this.source,T,a);w(H(this.path)===a,"Can't get a merge for a child not on the path of the operation");return new dh(this.source,S(this.path),this.children)};var ag=0,dg=1,gg=2,ig=3;function eh(a,b,c,d){this.bf=a;this.af=b;this.ac=c;this.zf=d;w(!d||b,"Tagged queries must be from server.")}var bh=new eh(!0,!1,null,!1),fh=new eh(!1,!0,null,!1);function gh(a){this.na=ng;this.xb=new Vg;this.Wc={};this.bc={};this.Ec=a}function hh(a,b,c,d,e){var f=a.xb,g=e;w(d>f.Dc,"Stacking an older write on top of newer ones");m(g)||(g=!0);f.wa.push({path:b,Pa:c,Zd:d,visible:g});g&&(f.U=Pg(f.U,b,c));f.Dc=d;return e?ih(a,new $g(bh,b,c)):[]}function jh(a,b,c,d){var e=a.xb;w(d>e.Dc,"Stacking an older merge on top of newer ones");e.wa.push({path:b,children:c,Zd:d,visible:!0});e.U=Qg(e.U,b,c);e.Dc=d;c=yg(c);return ih(a,new dh(bh,b,c))}
function kh(a,b,c){c=c||!1;b=a.xb.Gd(b);return null==b?[]:ih(a,new ah(b,c))}function lh(a,b,c){c=yg(c);return ih(a,new dh(fh,b,c))}function mh(a,b,c,d){d=Pd(a.Wc,"_"+d);if(null!=d){var e=nh(d);d=e.path;e=e.ac;b=U(d,b);c=new $g(new eh(!1,!0,e,!0),b,c);return oh(a,d,c)}return[]}function ph(a,b,c,d){if(d=Pd(a.Wc,"_"+d)){var e=nh(d);d=e.path;e=e.ac;b=U(d,b);c=yg(c);c=new dh(new eh(!1,!0,e,!0),b,c);return oh(a,d,c)}return[]}
gh.prototype.Fb=function(a,b){var c=a.path,d=null,e=!1;Fg(this.na,c,function(a,b){var f=U(a,c);d=b.bb(f);e=e||null!=Kg(b);return!d});var f=this.na.get(c);f?(e=e||null!=Kg(f),d=d||f.bb(T)):(f=new Jg,this.na=this.na.set(c,f));var g;null!=d?g=!0:(g=!1,d=L,Ig(this.na.subtree(c),function(a,b){var c=b.bb(T);c&&(d=d.P(a,c))}));var k=null!=Mg(f,a);if(!k&&!Jc(a.w)){var l=qh(a);w(!(l in this.bc),"View does not exist, but we have a tag");var n=rh++;this.bc[l]=n;this.Wc["_"+n]=l}g=f.Fb(a,b,new Zg(c,this.xb),
d,g);k||e||(f=Mg(f,a),g=g.concat(sh(this,a,f)));return g};
gh.prototype.gb=function(a,b,c){var d=a.path,e=this.na.get(d),f=[];if(e&&("default"===a.Fa()||null!=Mg(e,a))){f=e.gb(a,b,c);e.e()&&(this.na=this.na.remove(d));e=f.rg;f=f.Vf;b=-1!==Oa(e,function(a){return Jc(a.w)});var g=Dg(this.na,d,function(a,b){return null!=Kg(b)});if(b&&!g&&(d=this.na.subtree(d),!d.e()))for(var d=th(d),k=0;k<d.length;++k){var l=d[k],n=l.V,l=uh(this,l);this.Ec.Ne(n,vh(this,n),l.md,l.H)}if(!g&&0<e.length&&!c)if(b)this.Ec.Qd(a,null);else{var u=this;Ia(e,function(a){a.Fa();var b=u.bc[qh(a)];
u.Ec.Qd(a,b)})}wh(this,e)}return f};gh.prototype.pa=function(a,b){var c=this.xb,d=Dg(this.na,a,function(b,c){var d=U(b,a);if(d=c.bb(d))return d});return c.pa(a,d,b,!0)};function th(a){return Bg(a,function(a,c,d){if(c&&null!=Kg(c))return[Kg(c)];var e=[];c&&(e=Lg(c));z(d,function(a){e=e.concat(a)});return e})}function wh(a,b){for(var c=0;c<b.length;++c){var d=b[c];if(!Jc(d.w)){var d=qh(d),e=a.bc[d];delete a.bc[d];delete a.Wc["_"+e]}}}
function sh(a,b,c){var d=b.path,e=vh(a,b);c=uh(a,c);b=a.Ec.Ne(b,e,c.md,c.H);d=a.na.subtree(d);if(e)w(null==Kg(d.value),"If we're adding a query, it shouldn't be shadowed");else for(e=Bg(d,function(a,b,c){if(!a.e()&&b&&null!=Kg(b))return[tg(Kg(b))];var d=[];b&&(d=d.concat(Ka(Lg(b),function(a){return a.V})));z(c,function(a){d=d.concat(a)});return d}),d=0;d<e.length;++d)c=e[d],a.Ec.Qd(c,vh(a,c));return b}
function uh(a,b){var c=b.V,d=vh(a,c);return{md:function(){return(b.o()||L).hash()},H:function(b,f){if("ok"===b){if(f&&"object"===typeof f&&s(f,"w")){var g=t(f,"w");ea(g)&&0<=Ha(g,"no_index")&&y("Using an unspecified index. Consider adding "+('".indexOn": "'+c.w.g.toString()+'"')+" at "+c.path.toString()+" to your security rules for better performance")}if(d){var k=c.path;if(g=Pd(a.Wc,"_"+d))var l=nh(g),g=l.path,l=l.ac,k=U(g,k),k=new ch(new eh(!1,!0,l,!0),k),g=oh(a,g,k);else g=[]}else g=ih(a,new ch(fh,
c.path));return g}g="Unknown Error";"too_big"===b?g="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==b?g="Client doesn't have permission to access the desired data.":"unavailable"==b&&(g="The service is unavailable");g=Error(b+": "+g);g.code=b.toUpperCase();return a.gb(c,null,g)}}}function qh(a){return a.path.toString()+"$"+a.Fa()}
function nh(a){var b=a.indexOf("$");w(-1!==b&&b<a.length-1,"Bad queryKey.");return{ac:a.substr(b+1),path:new R(a.substr(0,b))}}function vh(a,b){var c=qh(b);return t(a.bc,c)}var rh=1;function oh(a,b,c){var d=a.na.get(b);w(d,"Missing sync point for query tag that we're tracking");return d.Ya(c,new Zg(b,a.xb),null)}function ih(a,b){return xh(a,b,a.na,null,new Zg(T,a.xb))}
function xh(a,b,c,d,e){if(b.path.e())return yh(a,b,c,d,e);var f=c.get(T);null==d&&null!=f&&(d=f.bb(T));var g=[],k=H(b.path),l=b.Lc(k);if((c=c.children.get(k))&&l)var n=d?d.J(k):null,k=e.n(k),g=g.concat(xh(a,l,c,n,k));f&&(g=g.concat(f.Ya(b,e,d)));return g}function yh(a,b,c,d,e){var f=c.get(T);null==d&&null!=f&&(d=f.bb(T));var g=[];c.children.fa(function(c,f){var n=d?d.J(c):null,u=e.n(c),x=b.Lc(c);x&&(g=g.concat(yh(a,x,f,n,u)))});f&&(g=g.concat(f.Ya(b,e,d)));return g};function zh(a){this.O=a;this.Ra=Yd(a);this.$=new ef;this.vd=1;this.S=new Ke(this.O,q(this.yd,this),q(this.wd,this),q(this.Ge,this));this.zg=Zd(a,q(function(){return new Vd(this.Ra,this.S)},this));this.kc=new Uc;this.re=new df;var b=this;this.qd=new gh({Ne:function(a,d,e,f){d=[];e=b.re.j(a.path);e.e()||(d=ih(b.qd,new $g(fh,a.path,e)),setTimeout(function(){f("ok")},0));return d},Qd:ba});Ah(this,"connected",!1);this.ga=new af;this.Q=new Ff(a,q(this.S.Q,this.S),q(this.S.Re,this.S),q(this.De,this));this.gd=
0;this.se=null;this.M=new gh({Ne:function(a,d,e,f){Oe(b.S,a,e,d,function(d,e){var l=f(d,e);jf(b.$,a.path,l)});return[]},Qd:function(a,d){var e=b.S,f=a.path.toString(),g=a.Fa();e.f("Unlisten called for "+f+" "+g);if(Qe(e,f,g)&&e.ja){var k=Qc(a);e.f("Unlisten on "+f+" for "+g);f={p:f};d&&(f.q=k,f.t=d);e.Ca("n",f)}}})}h=zh.prototype;h.toString=function(){return(this.O.zb?"https://":"http://")+this.O.host};h.name=function(){return this.O.tb};
function Bh(a){a=a.re.j(new R(".info/serverTimeOffset")).N()||0;return(new Date).getTime()+a}function Ch(a){a=a={timestamp:Bh(a)};a.timestamp=a.timestamp||(new Date).getTime();return a}h.yd=function(a,b,c,d){this.gd++;var e=new R(a);b=this.se?this.se(a,b):b;a=[];d?c?(b=ud(b,function(a){return N(a)}),a=ph(this.M,e,b,d)):(b=N(b),a=mh(this.M,e,b,d)):c?(d=ud(b,function(a){return N(a)}),a=lh(this.M,e,d)):(d=N(b),a=ih(this.M,new $g(fh,e,d)));d=e;0<a.length&&(d=Dh(this,e));jf(this.$,d,a)};
h.wd=function(a){Ah(this,"connected",a);!1===a&&Eh(this)};h.Ge=function(a){var b=this;Ab(a,function(a,d){Ah(b,d,a)})};h.De=function(a){Ah(this,"authenticated",a)};function Ah(a,b,c){b=new R("/.info/"+b);c=N(c);var d=a.re;d.Jd=d.Jd.D(b,c);c=ih(a.qd,new $g(fh,b,c));jf(a.$,b,c)}
h.Ab=function(a,b,c,d){this.f("set",{path:a.toString(),value:b,Hg:c});var e=Ch(this);b=N(b,c);var e=Uf(b,e),f=this.vd++,e=hh(this.M,a,e,f,!0);ff(this.$,e);var g=this;this.S.put(a.toString(),b.N(!0),function(b,c){var e="ok"===b;e||y("set at "+a+" failed: "+b);e=kh(g.M,f,!e);jf(g.$,a,e);Fh(d,b,c)});e=Gh(this,a);Dh(this,e);jf(this.$,e,[])};
h.update=function(a,b,c){this.f("update",{path:a.toString(),value:b});var d=!0,e=Ch(this),f={};z(b,function(a,b){d=!1;var c=N(a);f[b]=Uf(c,e)});if(d)ib("update() called with empty data.  Don't do anything."),Fh(c,"ok");else{var g=this.vd++,k=jh(this.M,a,f,g);ff(this.$,k);var l=this;We(this.S,a.toString(),b,function(b,d){w("ok"===b||"permission_denied"===b,"merge at "+a+" failed.");var e="ok"===b;e||y("update at "+a+" failed: "+b);var e=kh(l.M,g,!e),f=a;0<e.length&&(f=Dh(l,a));jf(l.$,f,e);Fh(c,b,d)});
b=Gh(this,a);Dh(this,b);jf(this.$,a,[])}};function Eh(a){a.f("onDisconnectEvents");var b=Ch(a),c=[];cf(Tf(a.ga,b),T,function(b,e){c=c.concat(ih(a.M,new $g(fh,b,e)));var f=Gh(a,b);Dh(a,f)});a.ga=new af;jf(a.$,T,c)}h.Ee=function(a,b){var c=this;this.S.Ee(a.toString(),function(d,e){"ok"===d&&bf(c.ga,a);Fh(b,d,e)})};function Hh(a,b,c,d){var e=N(c);Se(a.S,b.toString(),e.N(!0),function(c,g){"ok"===c&&a.ga.dc(b,e);Fh(d,c,g)})}
function Ih(a,b,c,d,e){var f=N(c,d);Se(a.S,b.toString(),f.N(!0),function(c,d){"ok"===c&&a.ga.dc(b,f);Fh(e,c,d)})}function Jh(a,b,c,d){var e=!0,f;for(f in c)e=!1;e?(ib("onDisconnect().update() called with empty data.  Don't do anything."),Fh(d,"ok")):Ue(a.S,b.toString(),c,function(e,f){if("ok"===e)for(var l in c){var n=N(c[l]);a.ga.dc(b.n(l),n)}Fh(d,e,f)})}function Oc(a,b,c){c=".info"===H(b.path)?a.qd.Fb(b,c):a.M.Fb(b,c);Pc(a.$,b.path,c)}h.pb=function(){this.S.pb()};h.gc=function(){this.S.gc()};
h.Oe=function(a){if("undefined"!==typeof console){a?(this.Pd||(this.Pd=new Ud(this.Ra)),a=this.Pd.get()):a=this.Ra.get();var b=La(Ld(a),function(a,b){return Math.max(b.length,a)},0),c;for(c in a){for(var d=a[c],e=c.length;e<b+2;e++)c+=" ";console.log(c+d)}}};h.Pe=function(a){Td(this.Ra,a);this.zg.yf[a]=!0};h.f=function(a){ib("r:"+this.S.id+":",arguments)};function Fh(a,b,c){a&&Db(function(){if("ok"==b)a(null);else{var d=(b||"error").toUpperCase(),e=d;c&&(e+=": "+c);e=Error(e);e.code=d;a(e)}})};function Kh(a,b,c,d,e){function f(){}a.f("transaction on "+b);var g=new Q(a,b);g.vb("value",f);c={path:b,update:c,H:d,status:null,of:fb(),Se:e,uf:0,Xd:function(){g.Yb("value",f)},$d:null,xa:null,dd:null,ed:null,fd:null};d=a.M.pa(b,void 0)||L;c.dd=d;d=c.update(d.N());if(m(d)){Tb("transaction failed: Data returned ",d);c.status=1;e=Vc(a.kc,b);var k=e.za()||[];k.push(c);Wc(e,k);"object"===typeof d&&null!==d&&s(d,".priority")?(k=t(d,".priority"),w(Rb(k),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):
k=(a.M.pa(b)||L).K().N();e=Ch(a);d=N(d,k);e=Uf(d,e);c.ed=d;c.fd=e;c.xa=a.vd++;c=hh(a.M,b,e,c.xa,c.Se);jf(a.$,b,c);Lh(a)}else c.Xd(),c.ed=null,c.fd=null,c.H&&(a=new C(c.dd,new Q(a,c.path),K),c.H(null,!1,a))}function Lh(a,b){var c=b||a.kc;b||Mh(a,c);if(null!==c.za()){var d=Nh(a,c);w(0<d.length,"Sending zero length transaction queue");Ma(d,function(a){return 1===a.status})&&Oh(a,c.path(),d)}else c.ld()&&c.T(function(b){Lh(a,b)})}
function Oh(a,b,c){for(var d=Ka(c,function(a){return a.xa}),e=a.M.pa(b,d)||L,d=e,e=e.hash(),f=0;f<c.length;f++){var g=c[f];w(1===g.status,"tryToSendTransactionQueue_: items in queue should all be run.");g.status=2;g.uf++;var k=U(b,g.path),d=d.D(k,g.ed)}d=d.N(!0);a.S.put(b.toString(),d,function(d){a.f("transaction put response",{path:b.toString(),status:d});var e=[];if("ok"===d){d=[];for(f=0;f<c.length;f++){c[f].status=3;e=e.concat(kh(a.M,c[f].xa));if(c[f].H){var g=c[f].fd,k=new Q(a,c[f].path);d.push(q(c[f].H,
null,null,!0,new C(g,k,K)))}c[f].Xd()}Mh(a,Vc(a.kc,b));Lh(a);jf(a.$,b,e);for(f=0;f<d.length;f++)Db(d[f])}else{if("datastale"===d)for(f=0;f<c.length;f++)c[f].status=4===c[f].status?5:1;else for(y("transaction at "+b.toString()+" failed: "+d),f=0;f<c.length;f++)c[f].status=5,c[f].$d=d;Dh(a,b)}},e)}function Dh(a,b){var c=Ph(a,b),d=c.path(),c=Nh(a,c);Qh(a,c,d);return d}
function Qh(a,b,c){if(0!==b.length){for(var d=[],e=[],f=Ka(b,function(a){return a.xa}),g=0;g<b.length;g++){var k=b[g],l=U(c,k.path),n=!1,u;w(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null.");if(5===k.status)n=!0,u=k.$d,e=e.concat(kh(a.M,k.xa,!0));else if(1===k.status)if(25<=k.uf)n=!0,u="maxretry",e=e.concat(kh(a.M,k.xa,!0));else{var x=a.M.pa(k.path,f)||L;k.dd=x;var E=b[g].update(x.N());m(E)?(Tb("transaction failed: Data returned ",E),l=N(E),"object"===typeof E&&null!=E&&s(E,
".priority")||(l=l.Z(x.K())),x=k.xa,E=Ch(a),E=Uf(l,E),k.ed=l,k.fd=E,k.xa=a.vd++,Pa(f,x),e=e.concat(hh(a.M,k.path,E,k.xa,k.Se)),e=e.concat(kh(a.M,x,!0))):(n=!0,u="nodata",e=e.concat(kh(a.M,k.xa,!0)))}jf(a.$,c,e);e=[];n&&(b[g].status=3,setTimeout(b[g].Xd,Math.floor(0)),b[g].H&&("nodata"===u?(k=new Q(a,b[g].path),d.push(q(b[g].H,null,null,!1,new C(b[g].dd,k,K)))):d.push(q(b[g].H,null,Error(u),!1,null))))}Mh(a,a.kc);for(g=0;g<d.length;g++)Db(d[g]);Lh(a)}}
function Ph(a,b){for(var c,d=a.kc;null!==(c=H(b))&&null===d.za();)d=Vc(d,c),b=S(b);return d}function Nh(a,b){var c=[];Rh(a,b,c);c.sort(function(a,b){return a.of-b.of});return c}function Rh(a,b,c){var d=b.za();if(null!==d)for(var e=0;e<d.length;e++)c.push(d[e]);b.T(function(b){Rh(a,b,c)})}function Mh(a,b){var c=b.za();if(c){for(var d=0,e=0;e<c.length;e++)3!==c[e].status&&(c[d]=c[e],d++);c.length=d;Wc(b,0<c.length?c:null)}b.T(function(b){Mh(a,b)})}
function Gh(a,b){var c=Ph(a,b).path(),d=Vc(a.kc,b);Zc(d,function(b){Sh(a,b)});Sh(a,d);Yc(d,function(b){Sh(a,b)});return c}
function Sh(a,b){var c=b.za();if(null!==c){for(var d=[],e=[],f=-1,g=0;g<c.length;g++)4!==c[g].status&&(2===c[g].status?(w(f===g-1,"All SENT items should be at beginning of queue."),f=g,c[g].status=4,c[g].$d="set"):(w(1===c[g].status,"Unexpected transaction status in abort"),c[g].Xd(),e=e.concat(kh(a.M,c[g].xa,!0)),c[g].H&&d.push(q(c[g].H,null,Error("set"),!1,null))));-1===f?Wc(b,null):c.length=f+1;jf(a.$,b.path(),e);for(g=0;g<d.length;g++)Db(d[g])}};function X(){this.ec={}}ca(X);X.prototype.pb=function(){for(var a in this.ec)this.ec[a].pb()};X.prototype.interrupt=X.prototype.pb;X.prototype.gc=function(){for(var a in this.ec)this.ec[a].gc()};X.prototype.resume=X.prototype.gc;function Th(a){var b=this;this.qc=a;this.Sd="*";xf()?this.Gc=this.od=pf():(this.Gc=window.opener,this.od=window);if(!b.Gc)throw"Unable to find relay frame";qf(this.od,"message",q(this.Zb,this));qf(this.od,"message",q(this.lf,this));try{Uh(this,{a:"ready"})}catch(c){qf(this.Gc,"load",function(){Uh(b,{a:"ready"})})}qf(window,"unload",q(this.jg,this))}function Uh(a,b){b=r(b);xf()?a.Gc.doPost(b,a.Sd):a.Gc.postMessage(b,a.Sd)}
Th.prototype.Zb=function(a){var b=this,c;try{c=ta(a.data)}catch(d){}c&&"request"===c.a&&(rf(window,"message",this.Zb),this.Sd=a.origin,this.qc&&setTimeout(function(){b.qc(b.Sd,c.d,function(a,c){b.Mf=!c;b.qc=void 0;Uh(b,{a:"response",d:a,forceKeepWindowOpen:c})})},0))};Th.prototype.jg=function(){try{rf(this.od,"message",this.lf)}catch(a){}this.qc&&(Uh(this,{a:"error",d:"unknown closed window"}),this.qc=void 0);try{window.close()}catch(b){}};Th.prototype.lf=function(a){if(this.Mf&&"die"===a.data)try{window.close()}catch(b){}};var Y={Xf:function(){ke=be=!0}};Y.forceLongPolling=Y.Xf;Y.Yf=function(){le=!0};Y.forceWebSockets=Y.Yf;Y.wg=function(a,b){a.k.S.Me=b};Y.setSecurityDebugCallback=Y.wg;Y.Oe=function(a,b){a.k.Oe(b)};Y.stats=Y.Oe;Y.Pe=function(a,b){a.k.Pe(b)};Y.statsIncrementCounter=Y.Pe;Y.gd=function(a){return a.k.gd};Y.dataUpdateCount=Y.gd;Y.ag=function(a,b){a.k.se=b};Y.interceptServerData=Y.ag;Y.gg=function(a){new Th(a)};Y.onPopupOpen=Y.gg;Y.ug=function(a){kf=a};Y.setAuthenticationServer=Y.ug;function Z(a,b){this.Qc=a;this.Ea=b}Z.prototype.cancel=function(a){D("Firebase.onDisconnect().cancel",0,1,arguments.length);G("Firebase.onDisconnect().cancel",1,a,!0);this.Qc.Ee(this.Ea,a||null)};Z.prototype.cancel=Z.prototype.cancel;Z.prototype.remove=function(a){D("Firebase.onDisconnect().remove",0,1,arguments.length);$b("Firebase.onDisconnect().remove",this.Ea);G("Firebase.onDisconnect().remove",1,a,!0);Hh(this.Qc,this.Ea,null,a)};Z.prototype.remove=Z.prototype.remove;
Z.prototype.set=function(a,b){D("Firebase.onDisconnect().set",1,2,arguments.length);$b("Firebase.onDisconnect().set",this.Ea);Sb("Firebase.onDisconnect().set",a,!1);G("Firebase.onDisconnect().set",2,b,!0);Hh(this.Qc,this.Ea,a,b)};Z.prototype.set=Z.prototype.set;
Z.prototype.Ab=function(a,b,c){D("Firebase.onDisconnect().setWithPriority",2,3,arguments.length);$b("Firebase.onDisconnect().setWithPriority",this.Ea);Sb("Firebase.onDisconnect().setWithPriority",a,!1);Wb("Firebase.onDisconnect().setWithPriority",2,b);G("Firebase.onDisconnect().setWithPriority",3,c,!0);Ih(this.Qc,this.Ea,a,b,c)};Z.prototype.setWithPriority=Z.prototype.Ab;
Z.prototype.update=function(a,b){D("Firebase.onDisconnect().update",1,2,arguments.length);$b("Firebase.onDisconnect().update",this.Ea);if(ea(a)){for(var c={},d=0;d<a.length;++d)c[""+d]=a[d];a=c;y("Passing an Array to Firebase.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Vb("Firebase.onDisconnect().update",a);G("Firebase.onDisconnect().update",2,b,!0);Jh(this.Qc,
this.Ea,a,b)};Z.prototype.update=Z.prototype.update;var $={};$.mc=Ke;$.DataConnection=$.mc;Ke.prototype.yg=function(a,b){this.Ca("q",{p:a},b)};$.mc.prototype.simpleListen=$.mc.prototype.yg;Ke.prototype.Sf=function(a,b){this.Ca("echo",{d:a},b)};$.mc.prototype.echo=$.mc.prototype.Sf;Ke.prototype.interrupt=Ke.prototype.pb;$.Df=ve;$.RealTimeConnection=$.Df;ve.prototype.sendRequest=ve.prototype.Ca;ve.prototype.close=ve.prototype.close;
$.$f=function(a){var b=Ke.prototype.put;Ke.prototype.put=function(c,d,e,f){m(f)&&(f=a());b.call(this,c,d,e,f)};return function(){Ke.prototype.put=b}};$.hijackHash=$.$f;$.Cf=Ba;$.ConnectionTarget=$.Cf;$.Fa=function(a){return a.Fa()};$.queryIdentifier=$.Fa;$.bg=function(a){return a.k.S.Aa};$.listens=$.bg;var Vh=function(){var a=0,b=[];return function(c){var d=c===a;a=c;for(var e=Array(8),f=7;0<=f;f--)e[f]="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(c%64),c=Math.floor(c/64);w(0===c,"Cannot push at time == 0");c=e.join("");if(d){for(f=11;0<=f&&63===b[f];f--)b[f]=0;b[f]++}else for(f=0;12>f;f++)b[f]=Math.floor(64*Math.random());for(f=0;12>f;f++)c+="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(b[f]);w(20===c.length,"NextPushId: Length should be 20.");
return c}}();function Q(a,b){var c,d,e;if(a instanceof zh)c=a,d=b;else{D("new Firebase",1,2,arguments.length);d=sb(arguments[0]);c=d.Ag;"firebase"===d.domain&&rb(d.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead");c||rb("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com");d.zb||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&y("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");
c=new Ba(d.host,d.zb,c,"ws"===d.scheme||"wss"===d.scheme);d=new R(d.Oc);e=d.toString();var f;!(f=!p(c.host)||0===c.host.length||!Qb(c.tb))&&(f=0!==e.length)&&(e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),f=!(p(e)&&0!==e.length&&!Pb.test(e)));if(f)throw Error(F("new Firebase",1,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".');if(b)if(b instanceof X)e=b;else if(p(b))e=X.Mb(),c.Dd=b;else throw Error("Expected a valid Firebase.Context for second argument to new Firebase()");
else e=X.Mb();f=c.toString();var g=t(e.ec,f);g||(g=new zh(c),e.ec[f]=g);c=g}P.call(this,c,d,Gc,!1)}ma(Q,P);var Wh=Q,Xh=["Firebase"],Yh=aa;Xh[0]in Yh||!Yh.execScript||Yh.execScript("var "+Xh[0]);for(var Zh;Xh.length&&(Zh=Xh.shift());)!Xh.length&&m(Wh)?Yh[Zh]=Wh:Yh=Yh[Zh]?Yh[Zh]:Yh[Zh]={};Q.prototype.name=function(){y("Firebase.name() being deprecated. Please use Firebase.key() instead.");D("Firebase.name",0,0,arguments.length);return this.key()};Q.prototype.name=Q.prototype.name;
Q.prototype.key=function(){D("Firebase.key",0,0,arguments.length);return this.path.e()?null:Sc(this.path)};Q.prototype.key=Q.prototype.key;Q.prototype.n=function(a){D("Firebase.child",1,1,arguments.length);if(ga(a))a=String(a);else if(!(a instanceof R))if(null===H(this.path)){var b=a;b&&(b=b.replace(/^\/*\.info(\/|$)/,"/"));Zb("Firebase.child",b)}else Zb("Firebase.child",a);return new Q(this.k,this.path.n(a))};Q.prototype.child=Q.prototype.n;
Q.prototype.parent=function(){D("Firebase.parent",0,0,arguments.length);var a=this.path.parent();return null===a?null:new Q(this.k,a)};Q.prototype.parent=Q.prototype.parent;Q.prototype.root=function(){D("Firebase.ref",0,0,arguments.length);for(var a=this;null!==a.parent();)a=a.parent();return a};Q.prototype.root=Q.prototype.root;
Q.prototype.toString=function(){D("Firebase.toString",0,0,arguments.length);var a;if(null===this.parent())a=this.k.toString();else{a=this.parent().toString()+"/";var b=this.key();a+=encodeURIComponent(String(b))}return a};Q.prototype.toString=Q.prototype.toString;Q.prototype.set=function(a,b){D("Firebase.set",1,2,arguments.length);$b("Firebase.set",this.path);Sb("Firebase.set",a,!1);G("Firebase.set",2,b,!0);this.k.Ab(this.path,a,null,b||null)};Q.prototype.set=Q.prototype.set;
Q.prototype.update=function(a,b){D("Firebase.update",1,2,arguments.length);$b("Firebase.update",this.path);if(ea(a)){for(var c={},d=0;d<a.length;++d)c[""+d]=a[d];a=c;y("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Vb("Firebase.update",a);G("Firebase.update",2,b,!0);if(s(a,".priority"))throw Error("update() does not currently support updating .priority.");
this.k.update(this.path,a,b||null)};Q.prototype.update=Q.prototype.update;Q.prototype.Ab=function(a,b,c){D("Firebase.setWithPriority",2,3,arguments.length);$b("Firebase.setWithPriority",this.path);Sb("Firebase.setWithPriority",a,!1);Wb("Firebase.setWithPriority",2,b);G("Firebase.setWithPriority",3,c,!0);if(".length"===this.key()||".keys"===this.key())throw"Firebase.setWithPriority failed: "+this.key()+" is a read-only object.";this.k.Ab(this.path,a,b,c||null)};Q.prototype.setWithPriority=Q.prototype.Ab;
Q.prototype.remove=function(a){D("Firebase.remove",0,1,arguments.length);$b("Firebase.remove",this.path);G("Firebase.remove",1,a,!0);this.set(null,a)};Q.prototype.remove=Q.prototype.remove;
Q.prototype.transaction=function(a,b,c){D("Firebase.transaction",1,3,arguments.length);$b("Firebase.transaction",this.path);G("Firebase.transaction",1,a,!1);G("Firebase.transaction",2,b,!0);if(m(c)&&"boolean"!=typeof c)throw Error(F("Firebase.transaction",3,!0)+"must be a boolean.");if(".length"===this.key()||".keys"===this.key())throw"Firebase.transaction failed: "+this.key()+" is a read-only object.";"undefined"===typeof c&&(c=!0);Kh(this.k,this.path,a,b||null,c)};Q.prototype.transaction=Q.prototype.transaction;
Q.prototype.vg=function(a,b){D("Firebase.setPriority",1,2,arguments.length);$b("Firebase.setPriority",this.path);Wb("Firebase.setPriority",1,a);G("Firebase.setPriority",2,b,!0);this.k.Ab(this.path.n(".priority"),a,null,b)};Q.prototype.setPriority=Q.prototype.vg;Q.prototype.push=function(a,b){D("Firebase.push",0,2,arguments.length);$b("Firebase.push",this.path);Sb("Firebase.push",a,!0);G("Firebase.push",2,b,!0);var c=Bh(this.k),c=Vh(c),c=this.n(c);"undefined"!==typeof a&&null!==a&&c.set(a,b);return c};
Q.prototype.push=Q.prototype.push;Q.prototype.fb=function(){$b("Firebase.onDisconnect",this.path);return new Z(this.k,this.path)};Q.prototype.onDisconnect=Q.prototype.fb;Q.prototype.Q=function(a,b,c){y("FirebaseRef.auth() being deprecated. Please use FirebaseRef.authWithCustomToken() instead.");D("Firebase.auth",1,3,arguments.length);ac("Firebase.auth",a);G("Firebase.auth",2,b,!0);G("Firebase.auth",3,b,!0);Lf(this.k.Q,a,{},{remember:"none"},b,c)};Q.prototype.auth=Q.prototype.Q;
Q.prototype.Re=function(a){D("Firebase.unauth",0,1,arguments.length);G("Firebase.unauth",1,a,!0);Mf(this.k.Q,a)};Q.prototype.unauth=Q.prototype.Re;Q.prototype.me=function(){D("Firebase.getAuth",0,0,arguments.length);return this.k.Q.me()};Q.prototype.getAuth=Q.prototype.me;Q.prototype.fg=function(a,b){D("Firebase.onAuth",1,2,arguments.length);G("Firebase.onAuth",1,a,!1);Nb("Firebase.onAuth",2,b);this.k.Q.vb("auth_status",a,b)};Q.prototype.onAuth=Q.prototype.fg;
Q.prototype.eg=function(a,b){D("Firebase.offAuth",1,2,arguments.length);G("Firebase.offAuth",1,a,!1);Nb("Firebase.offAuth",2,b);this.k.Q.Yb("auth_status",a,b)};Q.prototype.offAuth=Q.prototype.eg;Q.prototype.Hf=function(a,b,c){D("Firebase.authWithCustomToken",2,3,arguments.length);ac("Firebase.authWithCustomToken",a);G("Firebase.authWithCustomToken",2,b,!1);I("Firebase.authWithCustomToken",3,c,!0);Lf(this.k.Q,a,{},c||{},b)};Q.prototype.authWithCustomToken=Q.prototype.Hf;
Q.prototype.If=function(a,b,c){D("Firebase.authWithOAuthPopup",2,3,arguments.length);bc("Firebase.authWithOAuthPopup",1,a);G("Firebase.authWithOAuthPopup",2,b,!1);I("Firebase.authWithOAuthPopup",3,c,!0);Qf(this.k.Q,a,c,b)};Q.prototype.authWithOAuthPopup=Q.prototype.If;
Q.prototype.Jf=function(a,b,c){D("Firebase.authWithOAuthRedirect",2,3,arguments.length);bc("Firebase.authWithOAuthRedirect",1,a);G("Firebase.authWithOAuthRedirect",2,b,!1);I("Firebase.authWithOAuthRedirect",3,c,!0);var d=this.k.Q;Of(d);var e=[Ef],f=nf(c);"anonymous"===a||"firebase"===a?A(b,W("TRANSPORT_UNAVAILABLE")):(Aa.set("redirect_client_options",f.cd),Pf(d,e,"/auth/"+a,f,b))};Q.prototype.authWithOAuthRedirect=Q.prototype.Jf;
Q.prototype.Kf=function(a,b,c,d){D("Firebase.authWithOAuthToken",3,4,arguments.length);bc("Firebase.authWithOAuthToken",1,a);G("Firebase.authWithOAuthToken",3,c,!1);I("Firebase.authWithOAuthToken",4,d,!0);p(b)?(bc("Firebase.authWithOAuthToken",2,b),Nf(this.k.Q,a+"/token",{access_token:b},d,c)):(I("Firebase.authWithOAuthToken",2,b,!1),Nf(this.k.Q,a+"/token",b,d,c))};Q.prototype.authWithOAuthToken=Q.prototype.Kf;
Q.prototype.Gf=function(a,b){D("Firebase.authAnonymously",1,2,arguments.length);G("Firebase.authAnonymously",1,a,!1);I("Firebase.authAnonymously",2,b,!0);Nf(this.k.Q,"anonymous",{},b,a)};Q.prototype.authAnonymously=Q.prototype.Gf;
Q.prototype.Lf=function(a,b,c){D("Firebase.authWithPassword",2,3,arguments.length);I("Firebase.authWithPassword",1,a,!1);J("Firebase.authWithPassword",a,"email");J("Firebase.authWithPassword",a,"password");G("Firebase.authAnonymously",2,b,!1);I("Firebase.authAnonymously",3,c,!0);Nf(this.k.Q,"password",a,c,b)};Q.prototype.authWithPassword=Q.prototype.Lf;
Q.prototype.je=function(a,b){D("Firebase.createUser",2,2,arguments.length);I("Firebase.createUser",1,a,!1);J("Firebase.createUser",a,"email");J("Firebase.createUser",a,"password");G("Firebase.createUser",2,b,!1);this.k.Q.je(a,b)};Q.prototype.createUser=Q.prototype.je;Q.prototype.Ke=function(a,b){D("Firebase.removeUser",2,2,arguments.length);I("Firebase.removeUser",1,a,!1);J("Firebase.removeUser",a,"email");J("Firebase.removeUser",a,"password");G("Firebase.removeUser",2,b,!1);this.k.Q.Ke(a,b)};
Q.prototype.removeUser=Q.prototype.Ke;Q.prototype.ee=function(a,b){D("Firebase.changePassword",2,2,arguments.length);I("Firebase.changePassword",1,a,!1);J("Firebase.changePassword",a,"email");J("Firebase.changePassword",a,"oldPassword");J("Firebase.changePassword",a,"newPassword");G("Firebase.changePassword",2,b,!1);this.k.Q.ee(a,b)};Q.prototype.changePassword=Q.prototype.ee;
Q.prototype.de=function(a,b){D("Firebase.changeEmail",2,2,arguments.length);I("Firebase.changeEmail",1,a,!1);J("Firebase.changeEmail",a,"oldEmail");J("Firebase.changeEmail",a,"newEmail");J("Firebase.changeEmail",a,"password");G("Firebase.changeEmail",2,b,!1);this.k.Q.de(a,b)};Q.prototype.changeEmail=Q.prototype.de;
Q.prototype.Le=function(a,b){D("Firebase.resetPassword",2,2,arguments.length);I("Firebase.resetPassword",1,a,!1);J("Firebase.resetPassword",a,"email");G("Firebase.resetPassword",2,b,!1);this.k.Q.Le(a,b)};Q.prototype.resetPassword=Q.prototype.Le;Q.goOffline=function(){D("Firebase.goOffline",0,0,arguments.length);X.Mb().pb()};Q.goOnline=function(){D("Firebase.goOnline",0,0,arguments.length);X.Mb().gc()};
function ob(a,b){w(!b||!0===a||!1===a,"Can't turn on custom loggers persistently.");!0===a?("undefined"!==typeof console&&("function"===typeof console.log?mb=q(console.log,console):"object"===typeof console.log&&(mb=function(a){console.log(a)})),b&&Aa.set("logging_enabled",!0)):a?mb=a:(mb=null,Aa.remove("logging_enabled"))}Q.enableLogging=ob;Q.ServerValue={TIMESTAMP:{".sv":"timestamp"}};Q.SDK_VERSION="2.1.1";Q.INTERNAL=Y;Q.Context=X;Q.TEST_ACCESS=$;})();
module.exports = Firebase;

},{}]},{},["/Users/sarith21/Documents/Programing/goodMorningAnna/js/main.js"])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy93YXRjaGlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3Nlci1wYWNrL19wcmVsdWRlLmpzIiwianMvYmFja2dyb3VuZEltYWdlLmpzIiwianMvY2hhdC5qcyIsImpzL2dyZWV0aW5nLmpzIiwianMvbWFpbi5qcyIsImpzL3NldHRpbmdzLmpzIiwianMvd2VhdGhlcldpZGdldC5qcyIsIm5vZGVfbW9kdWxlcy9maXJlYmFzZS9saWIvZmlyZWJhc2Utd2ViLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3RCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDekNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCIvL2Nob29zZSB0b2RheSdzIGltYWdlIGFuZCBkaXNwbGF5IGl0XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCl7XG4gIHZhciBzdGFydCA9IERhdGUucGFyc2UoXCJGcmkgSmFuIDE2IDIwMTUgMjE6MTg6MzMgR01ULTA4MDAgKFBTVClcIik7XG4gIHZhciBkYXkgPSAxMDAwKjYwKjYwKjI0O1xuICB2YXIgZWxhcHNlZERheXMgPSAoRGF0ZS5ub3coKSAtIHN0YXJ0KSAvIGRheTtcbiAgd2hpbGUoZWxhcHNlZERheXMgPiA2NCl7IGVsYXBzZWREYXlzID0gZWxhcHNlZERheXMgLSA2NDt9XG4gIHZhciBzcmMgPSAnLi9pbWFnZXMvJyArIE1hdGguY2VpbChlbGFwc2VkRGF5cykgKyAnLmpwZyc7XG5cbiAgdmFyIGltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICBpbWcuc3JjID0gc3JjO1xuICBpbWcuY2xhc3NOYW1lID0gJ2JnJztcbiAgaW1nLnN0eWxlLnpJbmRleCA9ICctMSc7XG4gIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoaW1nKTtcbn07XG4iLCJ2YXIgRmlyZWJhc2UgPSByZXF1aXJlKCdmaXJlYmFzZScpO1xudmFyIG1lc3NhZ2VSZWYgPSBuZXcgRmlyZWJhc2UoJ2h0dHBzOi8vZ29vZG1vcm5pbmdhbm5hLmZpcmViYXNlSU8uY29tL21lc3NhZ2VzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKXtcblxuICAvL2xvYWQgdXAgbWVzc2FnZXMgZnJvbSBtZXNzYWdlUmVmXG4gIG1lc3NhZ2VSZWZcbiAgLmxpbWl0VG9MYXN0KDI1KVxuICAub24oJ3ZhbHVlJywgZnVuY3Rpb24oc25hcHNob3Qpe1xuICAgIC8vZW1wdHkgdGhlIG1lc3NhZ2Vib3hcbiAgICAkKFwiI21lc3NhZ2Vib3hcIikuZW1wdHkoKTtcblxuICAgIHZhciBtZXNzYWdlQXJyYXkgPSBbXTtcbiAgICB2YXIgZGF0YSA9IHNuYXBzaG90LnZhbCgpO1xuXG4gICAgZm9yKHZhciBtZXNzYWdlIGluIGRhdGEpe1xuICAgICAgbWVzc2FnZUFycmF5LnB1c2goZGF0YVttZXNzYWdlXSk7XG4gICAgfVxuXG4gICAgdmFyIGZvcm1hdHRlZE1lc3NhZ2VzID0gbWVzc2FnZUFycmF5XG4gICAgLnNvcnQoZnVuY3Rpb24oYSwgYil7XG4gICAgICByZXR1cm4gYS50aW1lIC0gYi50aW1lO1xuICAgIH0pXG4gICAgLm1hcChmdW5jdGlvbihlbGVtZW50LCBpbmRleCl7XG4gICAgICByZXR1cm4gXCI8cCBjbGFzcz0nbWVzc2FnZSc+PHN0cm9uZz5cIitlbGVtZW50LnNlbmRlcitcIjogPC9zdHJvbmc+XCIrIGVsZW1lbnQudGV4dCArXCI8L3A+XCI7XG4gICAgfSk7XG5cbiAgICAkKFwiI21lc3NhZ2Vib3hcIikuYXBwZW5kKGZvcm1hdHRlZE1lc3NhZ2VzKTtcbiAgfSk7XG4gIFxuICAvL2FkZCBldmVudCBsaXN0ZW5lciB0byBjaGF0cGFuZSBidXR0b25cbiAgJChcIiNjaGF0YnV0dG9uXCIpLmNsaWNrKGZ1bmN0aW9uKGUpe1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgJChcIiNjaGF0cGFuZVwiKS5hbmltYXRlKHt3aWR0aDondG9nZ2xlJ30sMzUwKTtcbiAgfSk7XG5cbiAgLy9hZGQgZXZlbnQgbGlzdGVuZXIgZm9yIGNoYXQgc3VibWlzc2lvblxuICAkKFwiI2lucHV0Ym94XCIpLmtleXByZXNzKGZ1bmN0aW9uKGUpe1xuICAgIC8vaWYga2V5IHdhcyBlbnRlciBrZXlcbiAgICBpZihldmVudC5rZXlDb2RlID09PSAxMyl7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgdmFyIG1lc3NhZ2UgPSBlLnRhcmdldC50ZXh0Q29udGVudDtcbiAgICAgIG1lc3NhZ2VSZWYucHVzaCh7XG4gICAgICAgIHNlbmRlcjogd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiZ29vZE1vcm5pbmdBbm5hX3VzZXJOYW1lXCIpLFxuICAgICAgICB0ZXh0OiBtZXNzYWdlLFxuICAgICAgICB0aW1lOiBEYXRlLm5vdygpXG4gICAgICB9KTtcbiAgICAgIGUudGFyZ2V0LnRleHRDb250ZW50ID0gJyc7XG4gICAgfVxuICB9KTtcblxuICAvL3NldCB0aGUgaGVpZ2h0IG9mIHRoZSBtZXNzYWdlQm94XG4gIHZhciBzZXRDaGF0SGVpZ2h0ID0gZnVuY3Rpb24oKXtcbiAgICBwYW5lbEhlaWdodCA9ICQod2luZG93KS5oZWlnaHQoKSAtICgxNTAgKyAzNSArIDQ4KTtcbiAgICAkKFwiI21lc3NhZ2Vib3hcIikuaGVpZ2h0KHBhbmVsSGVpZ2h0KTtcbiAgICBjb25zb2xlLmxvZyhwYW5lbEhlaWdodCk7XG4gIH07XG5cbiAgc2V0Q2hhdEhlaWdodCgpO1xuXG4gICQod2luZG93KS5vbigncmVzaXplJywgZnVuY3Rpb24oZSl7XG4gICAgc2V0Q2hhdEhlaWdodCgpO1xuICB9KTtcblxufTtcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24odXNlck5hbWUpe1xuXG4gIHZhciBjbG9jaywgaG91cnMsIG1pbnV0ZXMsIGdyZWV0aW5nLCB0aW1lT2ZEYXk7XG4gIHNldEludGVydmFsKGZ1bmN0aW9uKCl7XG4gICAgLy91cGRhdGUgY2xvY2tcbiAgICBjbG9jayA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjbG9jaycpO1xuICAgIGhvdXJzID0gbmV3IERhdGUoKS5nZXRIb3VycygpLnRvU3RyaW5nKCk7XG4gICAgaG91cnMgPSBob3Vycy5sZW5ndGggPCAyID8gJzAnICsgaG91cnMgOiBob3VycztcbiAgICBtaW51dGVzID0gbmV3IERhdGUoKS5nZXRNaW51dGVzKCkudG9TdHJpbmcoKTtcbiAgICBtaW51dGVzID0gbWludXRlcy5sZW5ndGggPCAyID8gJzAnICsgbWludXRlcyA6IG1pbnV0ZXM7XG4gICAgY2xvY2suaW5uZXJIVE1MID0gaG91cnMgKyBcIjpcIiArIG1pbnV0ZXM7XG5cbiAgICAvL3VwZGF0ZSBtb3JuaW5nL2V2ZW5pbmcgaW4gdXNlciBncmVldGluZ1xuICAgIGdyZWV0aW5nID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dyZWV0aW5nJyk7XG4gICAgaG91cnMgPSBuZXcgRGF0ZSgpLmdldEhvdXJzKCk7XG4gICAgaWYoaG91cnMgPCAyNCkgdGltZU9mRGF5ID0gJ2V2ZW5pbmcnO1xuICAgIGlmKGhvdXJzIDwgMTcpIHRpbWVPZkRheSA9ICdhZnRlcm5vb24nO1xuICAgIGlmKGhvdXJzIDwgMTIpIHRpbWVPZkRheSA9ICdtb3JuaW5nJztcbiAgICBncmVldGluZy5pbm5lckhUTUwgPSBcIkdvb2QgXCIgKyB0aW1lT2ZEYXkgKyBcIiwgXCIgKyAodXNlck5hbWUgfHwgJ19fX19fXycpICsgXCIuXCI7XG4gIH0sIDEwMCk7XG5cbn07XG4iLCJcblxuJChkb2N1bWVudCkub24oJ3JlYWR5JywgZnVuY3Rpb24oKXtcbiAgLypzZXR1cCBzZXR0aW5ncyBwYW5lbCovXG4gIHJlcXVpcmUoJy4vc2V0dGluZ3MuanMnKSgpO1xuXG4gIC8qY2hvb3NlIHRvZGF5J3MgaW1hZ2UgYW5kIGRpc3BsYXkgaXQqL1xuICByZXF1aXJlKCcuL2JhY2tncm91bmRJbWFnZS5qcycpKCk7XG5cbiAgLypQYXJzZSBvdXQgdG9kYXkncyB0aW1lIGFuZCBncmVldGluZyBhbmQgZGlzcGxheSBpdCovXG4gIHJlcXVpcmUoJy4vZ3JlZXRpbmcuanMnKSh3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJnb29kTW9ybmluZ0FubmFfdXNlck5hbWVcIikpO1xuXG4gIC8qRmV0Y2ggdGhlIGxvY2F0aW9uIGFuZCB3ZWF0aGVyIGFuZCBkaXNwbGF5IGl0Ki9cbiAgcmVxdWlyZSgnLi93ZWF0aGVyV2lkZ2V0LmpzJykoKTtcblxuICAvKlNldCB1cCBmaXJlYmFzZSBjaGF0Ki9cbiAgcmVxdWlyZSgnLi9jaGF0LmpzJykoKTtcblxufSk7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCl7XG5cbiAgJChcIiNzZXR0aW5nc2J1dHRvblwiKS5jbGljayhmdW5jdGlvbihlKXtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICQoXCIjc2V0dGluZ3NwYW5lXCIpLmFuaW1hdGUoe3dpZHRoOid0b2dnbGUnfSwzNTApO1xuICB9KTtcblxuICAkKFwiI25hbWVib3hcIikua2V5cHJlc3MoZnVuY3Rpb24oZSl7XG4gICAgLy9pZiBrZXkgd2FzIGVudGVyIGtleVxuICAgIGlmKGV2ZW50LmtleUNvZGUgPT09IDEzKXtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB2YXIgbmFtZSA9IGUudGFyZ2V0LnRleHRDb250ZW50O1xuICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiZ29vZE1vcm5pbmdBbm5hX3VzZXJOYW1lXCIsIG5hbWUpO1xuICAgICAgZS50YXJnZXQudGV4dENvbnRlbnQgPSAnJztcbiAgICB9XG4gIH0pO1xuXG4gICQoXCIjcmVmZXJlcmJveFwiKS5rZXlwcmVzcyhmdW5jdGlvbihlKXtcbiAgICAvL2lmIGtleSB3YXMgZW50ZXIga2V5XG4gICAgaWYoZXZlbnQua2V5Q29kZSA9PT0gMTMpe1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIHZhciByZWZlcmVyID0gZS50YXJnZXQudGV4dENvbnRlbnQ7XG4gICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJnb29kTW9ybmluZ0FubmFfcmVmZXJlck5hbWVcIiwgcmVmZXJlcik7XG4gICAgICBlLnRhcmdldC50ZXh0Q29udGVudCA9ICcnO1xuICAgIH1cbiAgfSk7XG5cbiAgJChcIiNyZWZlcnJlZGdyb3VwYm94XCIpLmtleXByZXNzKGZ1bmN0aW9uKGUpe1xuICAgIC8vaWYga2V5IHdhcyBlbnRlciBrZXlcbiAgICBpZihldmVudC5rZXlDb2RlID09PSAxMyl7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgdmFyIHJlZmVycmVkR3JvdXAgPSBlLnRhcmdldC50ZXh0Q29udGVudDtcbiAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImdvb2RNb3JuaW5nQW5uYV9yZWZlcnJlZEdyb3VwXCIsIHJlZmVycmVkR3JvdXApO1xuICAgICAgZS50YXJnZXQudGV4dENvbnRlbnQgPSAnJztcbiAgICB9XG4gIH0pO1xuXG59O1xuIiwidmFyIGZvcmVjYXN0T3B0aW9ucyA9IHtcbiAgY2xlYXJfZGF5OiBcIndpLWRheS1zdW5ueVwiLFxuICBjbGVhcl9uaWdodDogXCJ3aS1uaWdodC1jbGVhclwiLFxuICByYWluOiBcIndpLXJhaW5cIixcbiAgc25vdzogXCJ3aS1zbm93XCIsXG4gIHNsZWV0OiBcIndpLXNsZWV0XCIsXG4gIHdpbmQ6IFwid2ktc3Ryb25nLXdpbmRcIixcbiAgZm9nOiBcIndpLWZvZ1wiLFxuICBjbG91ZHk6IFwid2ktY2xvdWR5XCIsXG4gIHBhcnRseV9jbG91ZHlfZGF5OiBcIndpLWRheS1jbG91ZHlcIixcbiAgcGFydGx5X2Nsb3VkeV9uaWdodDogXCJ3aS1uaWdodC1jbG91ZHlcIixcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKXtcbiAgbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbihmdW5jdGlvbihwb3NpdGlvbil7XG4gICAgdmFyIGxhdCA9IHBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZTtcbiAgICB2YXIgbG9uZyA9IHBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGU7XG5cbiAgICAvL2NiIGZ1bmN0aW9uIHRvIGRpc3BsYXkgd2VhdGhlciB3aGVuIHdlIGtub3cgaXRcblxuICAgICQuYWpheCh7XG4gICAgICB1cmw6IFwiaHR0cHM6Ly9hcGkuZm9yZWNhc3QuaW8vZm9yZWNhc3QvMmY4ZWZlNzQxMzI0YmQ2NzBjOTFjNGNkNTkzYTQwNjIvXCIrbGF0K1wiLFwiK2xvbmcrXCI/dW5pdHM9c2lcIixcbiAgICAgIGpzb25wOiBcImNhbGxiYWNrXCIsXG4gICAgICBkYXRhVHlwZTogXCJqc29ucFwiLFxuICAgICAgc3VjY2VzczogZnVuY3Rpb24oIHJlc3BvbnNlICkge1xuICAgICAgICAgIFxuICAgICAgICAgIC8vZmV0Y2ggdGhlIGljb24gY2xhc3NuYW1lIGZvciBkaXNwbGF5XG4gICAgICAgICAgdmFyIGljb24gPSByZXNwb25zZS5jdXJyZW50bHkuaWNvbjtcbiAgICAgICAgICBpZihpY29uICYmIHR5cGVvZiBpY29uID09PSAnc3RyaW5nJyl7XG4gICAgICAgICAgICBpY29uID0gaWNvbi5yZXBsYWNlKC9cXC0vZywgJ18nKTtcbiAgICAgICAgICAgIGljb24gPSBmb3JlY2FzdE9wdGlvbnNbaWNvbl07XG4gICAgICAgICAgICBpZihpY29uKXtcbiAgICAgICAgICAgICAgJChcIiN3ZWF0aGVyaWNvblwiKVxuICAgICAgICAgICAgICAucmVtb3ZlQ2xhc3MoXCJ3aS10aGVybW9tZXRlci1leHRlcmlvclwiKVxuICAgICAgICAgICAgICAuYWRkQ2xhc3MoaWNvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy9zZXQgdGhlIHRlbXBlcmF0dXJlXG4gICAgICAgICAgdmFyIHRlbXBlcmF0dXJlID0gTWF0aC5yb3VuZChyZXNwb25zZS5jdXJyZW50bHkudGVtcGVyYXR1cmUpO1xuICAgICAgICAgIHZhciBtYXggPSBNYXRoLnJvdW5kKHJlc3BvbnNlLmRhaWx5LmRhdGFbMF0udGVtcGVyYXR1cmVNYXgpO1xuICAgICAgICAgIHZhciB0ZW1wU3RyaW5nID0gdGVtcGVyYXR1cmUgKyAnLycgKyBtYXg7XG4gICAgICAgICAgJCgnI3RlbXBlcmF0dXJlJykudGV4dCh0ZW1wU3RyaW5nKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICB9KTtcbn07XG4iLCIvKiEgQGxpY2Vuc2UgRmlyZWJhc2UgdjIuMS4xIC0gTGljZW5zZTogaHR0cHM6Ly93d3cuZmlyZWJhc2UuY29tL3Rlcm1zL3Rlcm1zLW9mLXNlcnZpY2UuaHRtbCAqLyAoZnVuY3Rpb24oKSB7dmFyIGgsYWE9dGhpcztmdW5jdGlvbiBtKGEpe3JldHVybiB2b2lkIDAhPT1hfWZ1bmN0aW9uIGJhKCl7fWZ1bmN0aW9uIGNhKGEpe2EuTWI9ZnVuY3Rpb24oKXtyZXR1cm4gYS5oZj9hLmhmOmEuaGY9bmV3IGF9fVxuZnVuY3Rpb24gZGEoYSl7dmFyIGI9dHlwZW9mIGE7aWYoXCJvYmplY3RcIj09YilpZihhKXtpZihhIGluc3RhbmNlb2YgQXJyYXkpcmV0dXJuXCJhcnJheVwiO2lmKGEgaW5zdGFuY2VvZiBPYmplY3QpcmV0dXJuIGI7dmFyIGM9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGEpO2lmKFwiW29iamVjdCBXaW5kb3ddXCI9PWMpcmV0dXJuXCJvYmplY3RcIjtpZihcIltvYmplY3QgQXJyYXldXCI9PWN8fFwibnVtYmVyXCI9PXR5cGVvZiBhLmxlbmd0aCYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEuc3BsaWNlJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgYS5wcm9wZXJ0eUlzRW51bWVyYWJsZSYmIWEucHJvcGVydHlJc0VudW1lcmFibGUoXCJzcGxpY2VcIikpcmV0dXJuXCJhcnJheVwiO2lmKFwiW29iamVjdCBGdW5jdGlvbl1cIj09Y3x8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEuY2FsbCYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEucHJvcGVydHlJc0VudW1lcmFibGUmJiFhLnByb3BlcnR5SXNFbnVtZXJhYmxlKFwiY2FsbFwiKSlyZXR1cm5cImZ1bmN0aW9uXCJ9ZWxzZSByZXR1cm5cIm51bGxcIjtcbmVsc2UgaWYoXCJmdW5jdGlvblwiPT1iJiZcInVuZGVmaW5lZFwiPT10eXBlb2YgYS5jYWxsKXJldHVyblwib2JqZWN0XCI7cmV0dXJuIGJ9ZnVuY3Rpb24gZWEoYSl7cmV0dXJuXCJhcnJheVwiPT1kYShhKX1mdW5jdGlvbiBmYShhKXt2YXIgYj1kYShhKTtyZXR1cm5cImFycmF5XCI9PWJ8fFwib2JqZWN0XCI9PWImJlwibnVtYmVyXCI9PXR5cGVvZiBhLmxlbmd0aH1mdW5jdGlvbiBwKGEpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBhfWZ1bmN0aW9uIGdhKGEpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiBhfWZ1bmN0aW9uIGhhKGEpe3JldHVyblwiZnVuY3Rpb25cIj09ZGEoYSl9ZnVuY3Rpb24gaWEoYSl7dmFyIGI9dHlwZW9mIGE7cmV0dXJuXCJvYmplY3RcIj09YiYmbnVsbCE9YXx8XCJmdW5jdGlvblwiPT1ifWZ1bmN0aW9uIGphKGEsYixjKXtyZXR1cm4gYS5jYWxsLmFwcGx5KGEuYmluZCxhcmd1bWVudHMpfVxuZnVuY3Rpb24ga2EoYSxiLGMpe2lmKCFhKXRocm93IEVycm9yKCk7aWYoMjxhcmd1bWVudHMubGVuZ3RoKXt2YXIgZD1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMik7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGM9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtBcnJheS5wcm90b3R5cGUudW5zaGlmdC5hcHBseShjLGQpO3JldHVybiBhLmFwcGx5KGIsYyl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBhLmFwcGx5KGIsYXJndW1lbnRzKX19ZnVuY3Rpb24gcShhLGIsYyl7cT1GdW5jdGlvbi5wcm90b3R5cGUuYmluZCYmLTEhPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLnRvU3RyaW5nKCkuaW5kZXhPZihcIm5hdGl2ZSBjb2RlXCIpP2phOmthO3JldHVybiBxLmFwcGx5KG51bGwsYXJndW1lbnRzKX12YXIgbGE9RGF0ZS5ub3d8fGZ1bmN0aW9uKCl7cmV0dXJuK25ldyBEYXRlfTtcbmZ1bmN0aW9uIG1hKGEsYil7ZnVuY3Rpb24gYygpe31jLnByb3RvdHlwZT1iLnByb3RvdHlwZTthLkpnPWIucHJvdG90eXBlO2EucHJvdG90eXBlPW5ldyBjO2EuRmc9ZnVuY3Rpb24oYSxjLGYpe3JldHVybiBiLnByb3RvdHlwZVtjXS5hcHBseShhLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKSl9fTtmdW5jdGlvbiBuYShhKXthPVN0cmluZyhhKTtpZigvXlxccyokLy50ZXN0KGEpPzA6L15bXFxdLDp7fVxcc1xcdTIwMjhcXHUyMDI5XSokLy50ZXN0KGEucmVwbGFjZSgvXFxcXFtcIlxcXFxcXC9iZm5ydHVdL2csXCJAXCIpLnJlcGxhY2UoL1wiW15cIlxcXFxcXG5cXHJcXHUyMDI4XFx1MjAyOVxceDAwLVxceDA4XFx4MGEtXFx4MWZdKlwifHRydWV8ZmFsc2V8bnVsbHwtP1xcZCsoPzpcXC5cXGQqKT8oPzpbZUVdWytcXC1dP1xcZCspPy9nLFwiXVwiKS5yZXBsYWNlKC8oPzpefDp8LCkoPzpbXFxzXFx1MjAyOFxcdTIwMjldKlxcWykrL2csXCJcIikpKXRyeXtyZXR1cm4gZXZhbChcIihcIithK1wiKVwiKX1jYXRjaChiKXt9dGhyb3cgRXJyb3IoXCJJbnZhbGlkIEpTT04gc3RyaW5nOiBcIithKTt9ZnVuY3Rpb24gb2EoKXt0aGlzLkhkPXZvaWQgMH1cbmZ1bmN0aW9uIHBhKGEsYixjKXtzd2l0Y2godHlwZW9mIGIpe2Nhc2UgXCJzdHJpbmdcIjpxYShiLGMpO2JyZWFrO2Nhc2UgXCJudW1iZXJcIjpjLnB1c2goaXNGaW5pdGUoYikmJiFpc05hTihiKT9iOlwibnVsbFwiKTticmVhaztjYXNlIFwiYm9vbGVhblwiOmMucHVzaChiKTticmVhaztjYXNlIFwidW5kZWZpbmVkXCI6Yy5wdXNoKFwibnVsbFwiKTticmVhaztjYXNlIFwib2JqZWN0XCI6aWYobnVsbD09Yil7Yy5wdXNoKFwibnVsbFwiKTticmVha31pZihlYShiKSl7dmFyIGQ9Yi5sZW5ndGg7Yy5wdXNoKFwiW1wiKTtmb3IodmFyIGU9XCJcIixmPTA7ZjxkO2YrKyljLnB1c2goZSksZT1iW2ZdLHBhKGEsYS5IZD9hLkhkLmNhbGwoYixTdHJpbmcoZiksZSk6ZSxjKSxlPVwiLFwiO2MucHVzaChcIl1cIik7YnJlYWt9Yy5wdXNoKFwie1wiKTtkPVwiXCI7Zm9yKGYgaW4gYilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYixmKSYmKGU9YltmXSxcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiYoYy5wdXNoKGQpLHFhKGYsYyksXG5jLnB1c2goXCI6XCIpLHBhKGEsYS5IZD9hLkhkLmNhbGwoYixmLGUpOmUsYyksZD1cIixcIikpO2MucHVzaChcIn1cIik7YnJlYWs7Y2FzZSBcImZ1bmN0aW9uXCI6YnJlYWs7ZGVmYXVsdDp0aHJvdyBFcnJvcihcIlVua25vd24gdHlwZTogXCIrdHlwZW9mIGIpO319dmFyIHJhPXsnXCInOidcXFxcXCInLFwiXFxcXFwiOlwiXFxcXFxcXFxcIixcIi9cIjpcIlxcXFwvXCIsXCJcXGJcIjpcIlxcXFxiXCIsXCJcXGZcIjpcIlxcXFxmXCIsXCJcXG5cIjpcIlxcXFxuXCIsXCJcXHJcIjpcIlxcXFxyXCIsXCJcXHRcIjpcIlxcXFx0XCIsXCJcXHgwQlwiOlwiXFxcXHUwMDBiXCJ9LHNhPS9cXHVmZmZmLy50ZXN0KFwiXFx1ZmZmZlwiKT8vW1xcXFxcXFwiXFx4MDAtXFx4MWZcXHg3Zi1cXHVmZmZmXS9nOi9bXFxcXFxcXCJcXHgwMC1cXHgxZlxceDdmLVxceGZmXS9nO1xuZnVuY3Rpb24gcWEoYSxiKXtiLnB1c2goJ1wiJyxhLnJlcGxhY2Uoc2EsZnVuY3Rpb24oYSl7aWYoYSBpbiByYSlyZXR1cm4gcmFbYV07dmFyIGI9YS5jaGFyQ29kZUF0KDApLGU9XCJcXFxcdVwiOzE2PmI/ZSs9XCIwMDBcIjoyNTY+Yj9lKz1cIjAwXCI6NDA5Nj5iJiYoZSs9XCIwXCIpO3JldHVybiByYVthXT1lK2IudG9TdHJpbmcoMTYpfSksJ1wiJyl9O2Z1bmN0aW9uIHRhKGEpe3JldHVyblwidW5kZWZpbmVkXCIhPT10eXBlb2YgSlNPTiYmbShKU09OLnBhcnNlKT9KU09OLnBhcnNlKGEpOm5hKGEpfWZ1bmN0aW9uIHIoYSl7aWYoXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBKU09OJiZtKEpTT04uc3RyaW5naWZ5KSlhPUpTT04uc3RyaW5naWZ5KGEpO2Vsc2V7dmFyIGI9W107cGEobmV3IG9hLGEsYik7YT1iLmpvaW4oXCJcIil9cmV0dXJuIGF9O2Z1bmN0aW9uIHMoYSxiKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsYil9ZnVuY3Rpb24gdChhLGIpe2lmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhLGIpKXJldHVybiBhW2JdfWZ1bmN0aW9uIHVhKGEsYil7Zm9yKHZhciBjIGluIGEpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsYykmJmIoYyxhW2NdKX1mdW5jdGlvbiB2YShhKXt2YXIgYj17fTt1YShhLGZ1bmN0aW9uKGEsZCl7YlthXT1kfSk7cmV0dXJuIGJ9O2Z1bmN0aW9uIHdhKGEpe3RoaXMudGM9YTt0aGlzLkVkPVwiZmlyZWJhc2U6XCJ9aD13YS5wcm90b3R5cGU7aC5zZXQ9ZnVuY3Rpb24oYSxiKXtudWxsPT1iP3RoaXMudGMucmVtb3ZlSXRlbSh0aGlzLkVkK2EpOnRoaXMudGMuc2V0SXRlbSh0aGlzLkVkK2EscihiKSl9O2guZ2V0PWZ1bmN0aW9uKGEpe2E9dGhpcy50Yy5nZXRJdGVtKHRoaXMuRWQrYSk7cmV0dXJuIG51bGw9PWE/bnVsbDp0YShhKX07aC5yZW1vdmU9ZnVuY3Rpb24oYSl7dGhpcy50Yy5yZW1vdmVJdGVtKHRoaXMuRWQrYSl9O2guamY9ITE7aC50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRjLnRvU3RyaW5nKCl9O2Z1bmN0aW9uIHhhKCl7dGhpcy5uYz17fX14YS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGEsYil7bnVsbD09Yj9kZWxldGUgdGhpcy5uY1thXTp0aGlzLm5jW2FdPWJ9O3hhLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHModGhpcy5uYyxhKT90aGlzLm5jW2FdOm51bGx9O3hhLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oYSl7ZGVsZXRlIHRoaXMubmNbYV19O3hhLnByb3RvdHlwZS5qZj0hMDtmdW5jdGlvbiB5YShhKXt0cnl7aWYoXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiB3aW5kb3cmJlwidW5kZWZpbmVkXCIhPT10eXBlb2Ygd2luZG93W2FdKXt2YXIgYj13aW5kb3dbYV07Yi5zZXRJdGVtKFwiZmlyZWJhc2U6c2VudGluZWxcIixcImNhY2hlXCIpO2IucmVtb3ZlSXRlbShcImZpcmViYXNlOnNlbnRpbmVsXCIpO3JldHVybiBuZXcgd2EoYil9fWNhdGNoKGMpe31yZXR1cm4gbmV3IHhhfXZhciB6YT15YShcImxvY2FsU3RvcmFnZVwiKSxBYT15YShcInNlc3Npb25TdG9yYWdlXCIpO2Z1bmN0aW9uIEJhKGEsYixjLGQsZSl7dGhpcy5ob3N0PWEudG9Mb3dlckNhc2UoKTt0aGlzLmRvbWFpbj10aGlzLmhvc3Quc3Vic3RyKHRoaXMuaG9zdC5pbmRleE9mKFwiLlwiKSsxKTt0aGlzLnpiPWI7dGhpcy50Yj1jO3RoaXMuRGc9ZDt0aGlzLkRkPWV8fFwiXCI7dGhpcy5MYT16YS5nZXQoXCJob3N0OlwiK2EpfHx0aGlzLmhvc3R9ZnVuY3Rpb24gQ2EoYSxiKXtiIT09YS5MYSYmKGEuTGE9YixcInMtXCI9PT1hLkxhLnN1YnN0cigwLDIpJiZ6YS5zZXQoXCJob3N0OlwiK2EuaG9zdCxhLkxhKSl9QmEucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIGE9KHRoaXMuemI/XCJodHRwczovL1wiOlwiaHR0cDovL1wiKSt0aGlzLmhvc3Q7dGhpcy5EZCYmKGErPVwiPFwiK3RoaXMuRGQrXCI+XCIpO3JldHVybiBhfTtmdW5jdGlvbiBEYSgpe3RoaXMuU2E9LTF9O2Z1bmN0aW9uIEVhKCl7dGhpcy5TYT0tMTt0aGlzLlNhPTY0O3RoaXMuUj1bXTt0aGlzLmJlPVtdO3RoaXMuRWY9W107dGhpcy5BZD1bXTt0aGlzLkFkWzBdPTEyODtmb3IodmFyIGE9MTthPHRoaXMuU2E7KythKXRoaXMuQWRbYV09MDt0aGlzLlRkPXRoaXMuUmI9MDt0aGlzLnJlc2V0KCl9bWEoRWEsRGEpO0VhLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuUlswXT0xNzMyNTg0MTkzO3RoaXMuUlsxXT00MDIzMjMzNDE3O3RoaXMuUlsyXT0yNTYyMzgzMTAyO3RoaXMuUlszXT0yNzE3MzM4Nzg7dGhpcy5SWzRdPTMyODUzNzc1MjA7dGhpcy5UZD10aGlzLlJiPTB9O1xuZnVuY3Rpb24gRmEoYSxiLGMpe2N8fChjPTApO3ZhciBkPWEuRWY7aWYocChiKSlmb3IodmFyIGU9MDsxNj5lO2UrKylkW2VdPWIuY2hhckNvZGVBdChjKTw8MjR8Yi5jaGFyQ29kZUF0KGMrMSk8PDE2fGIuY2hhckNvZGVBdChjKzIpPDw4fGIuY2hhckNvZGVBdChjKzMpLGMrPTQ7ZWxzZSBmb3IoZT0wOzE2PmU7ZSsrKWRbZV09YltjXTw8MjR8YltjKzFdPDwxNnxiW2MrMl08PDh8YltjKzNdLGMrPTQ7Zm9yKGU9MTY7ODA+ZTtlKyspe3ZhciBmPWRbZS0zXV5kW2UtOF1eZFtlLTE0XV5kW2UtMTZdO2RbZV09KGY8PDF8Zj4+PjMxKSY0Mjk0OTY3Mjk1fWI9YS5SWzBdO2M9YS5SWzFdO2Zvcih2YXIgZz1hLlJbMl0saz1hLlJbM10sbD1hLlJbNF0sbixlPTA7ODA+ZTtlKyspNDA+ZT8yMD5lPyhmPWteYyYoZ15rKSxuPTE1MTg1MDAyNDkpOihmPWNeZ15rLG49MTg1OTc3NTM5Myk6NjA+ZT8oZj1jJmd8ayYoY3xnKSxuPTI0MDA5NTk3MDgpOihmPWNeZ15rLG49MzM5NTQ2OTc4MiksZj0oYjw8XG41fGI+Pj4yNykrZitsK24rZFtlXSY0Mjk0OTY3Mjk1LGw9ayxrPWcsZz0oYzw8MzB8Yz4+PjIpJjQyOTQ5NjcyOTUsYz1iLGI9ZjthLlJbMF09YS5SWzBdK2ImNDI5NDk2NzI5NTthLlJbMV09YS5SWzFdK2MmNDI5NDk2NzI5NTthLlJbMl09YS5SWzJdK2cmNDI5NDk2NzI5NTthLlJbM109YS5SWzNdK2smNDI5NDk2NzI5NTthLlJbNF09YS5SWzRdK2wmNDI5NDk2NzI5NX1cbkVhLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oYSxiKXttKGIpfHwoYj1hLmxlbmd0aCk7Zm9yKHZhciBjPWItdGhpcy5TYSxkPTAsZT10aGlzLmJlLGY9dGhpcy5SYjtkPGI7KXtpZigwPT1mKWZvcig7ZDw9YzspRmEodGhpcyxhLGQpLGQrPXRoaXMuU2E7aWYocChhKSlmb3IoO2Q8Yjspe2lmKGVbZl09YS5jaGFyQ29kZUF0KGQpLCsrZiwrK2QsZj09dGhpcy5TYSl7RmEodGhpcyxlKTtmPTA7YnJlYWt9fWVsc2UgZm9yKDtkPGI7KWlmKGVbZl09YVtkXSwrK2YsKytkLGY9PXRoaXMuU2Epe0ZhKHRoaXMsZSk7Zj0wO2JyZWFrfX10aGlzLlJiPWY7dGhpcy5UZCs9Yn07ZnVuY3Rpb24gR2EoKXtyZXR1cm4gTWF0aC5mbG9vcigyMTQ3NDgzNjQ4Kk1hdGgucmFuZG9tKCkpLnRvU3RyaW5nKDM2KStNYXRoLmFicyhNYXRoLmZsb29yKDIxNDc0ODM2NDgqTWF0aC5yYW5kb20oKSlebGEoKSkudG9TdHJpbmcoMzYpfTt2YXIgdj1BcnJheS5wcm90b3R5cGUsSGE9di5pbmRleE9mP2Z1bmN0aW9uKGEsYixjKXtyZXR1cm4gdi5pbmRleE9mLmNhbGwoYSxiLGMpfTpmdW5jdGlvbihhLGIsYyl7Yz1udWxsPT1jPzA6MD5jP01hdGgubWF4KDAsYS5sZW5ndGgrYyk6YztpZihwKGEpKXJldHVybiBwKGIpJiYxPT1iLmxlbmd0aD9hLmluZGV4T2YoYixjKTotMTtmb3IoO2M8YS5sZW5ndGg7YysrKWlmKGMgaW4gYSYmYVtjXT09PWIpcmV0dXJuIGM7cmV0dXJuLTF9LElhPXYuZm9yRWFjaD9mdW5jdGlvbihhLGIsYyl7di5mb3JFYWNoLmNhbGwoYSxiLGMpfTpmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPWEubGVuZ3RoLGU9cChhKT9hLnNwbGl0KFwiXCIpOmEsZj0wO2Y8ZDtmKyspZiBpbiBlJiZiLmNhbGwoYyxlW2ZdLGYsYSl9LEphPXYuZmlsdGVyP2Z1bmN0aW9uKGEsYixjKXtyZXR1cm4gdi5maWx0ZXIuY2FsbChhLGIsYyl9OmZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9YS5sZW5ndGgsZT1bXSxmPTAsZz1wKGEpP1xuYS5zcGxpdChcIlwiKTphLGs9MDtrPGQ7aysrKWlmKGsgaW4gZyl7dmFyIGw9Z1trXTtiLmNhbGwoYyxsLGssYSkmJihlW2YrK109bCl9cmV0dXJuIGV9LEthPXYubWFwP2Z1bmN0aW9uKGEsYixjKXtyZXR1cm4gdi5tYXAuY2FsbChhLGIsYyl9OmZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9YS5sZW5ndGgsZT1BcnJheShkKSxmPXAoYSk/YS5zcGxpdChcIlwiKTphLGc9MDtnPGQ7ZysrKWcgaW4gZiYmKGVbZ109Yi5jYWxsKGMsZltnXSxnLGEpKTtyZXR1cm4gZX0sTGE9di5yZWR1Y2U/ZnVuY3Rpb24oYSxiLGMsZCl7ZCYmKGI9cShiLGQpKTtyZXR1cm4gdi5yZWR1Y2UuY2FsbChhLGIsYyl9OmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWM7SWEoYSxmdW5jdGlvbihjLGcpe2U9Yi5jYWxsKGQsZSxjLGcsYSl9KTtyZXR1cm4gZX0sTWE9di5ldmVyeT9mdW5jdGlvbihhLGIsYyl7cmV0dXJuIHYuZXZlcnkuY2FsbChhLGIsYyl9OmZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9YS5sZW5ndGgsZT1cbnAoYSk/YS5zcGxpdChcIlwiKTphLGY9MDtmPGQ7ZisrKWlmKGYgaW4gZSYmIWIuY2FsbChjLGVbZl0sZixhKSlyZXR1cm4hMTtyZXR1cm4hMH07ZnVuY3Rpb24gTmEoYSxiKXt2YXIgYz1PYShhLGIsdm9pZCAwKTtyZXR1cm4gMD5jP251bGw6cChhKT9hLmNoYXJBdChjKTphW2NdfWZ1bmN0aW9uIE9hKGEsYixjKXtmb3IodmFyIGQ9YS5sZW5ndGgsZT1wKGEpP2Euc3BsaXQoXCJcIik6YSxmPTA7ZjxkO2YrKylpZihmIGluIGUmJmIuY2FsbChjLGVbZl0sZixhKSlyZXR1cm4gZjtyZXR1cm4tMX1mdW5jdGlvbiBQYShhLGIpe3ZhciBjPUhhKGEsYik7MDw9YyYmdi5zcGxpY2UuY2FsbChhLGMsMSl9ZnVuY3Rpb24gUWEoYSxiLGMpe3JldHVybiAyPj1hcmd1bWVudHMubGVuZ3RoP3Yuc2xpY2UuY2FsbChhLGIpOnYuc2xpY2UuY2FsbChhLGIsYyl9ZnVuY3Rpb24gUmEoYSxiKXthLnNvcnQoYnx8U2EpfWZ1bmN0aW9uIFNhKGEsYil7cmV0dXJuIGE+Yj8xOmE8Yj8tMTowfTt2YXIgVGE7YTp7dmFyIFVhPWFhLm5hdmlnYXRvcjtpZihVYSl7dmFyIFZhPVVhLnVzZXJBZ2VudDtpZihWYSl7VGE9VmE7YnJlYWsgYX19VGE9XCJcIn1mdW5jdGlvbiBXYShhKXtyZXR1cm4tMSE9VGEuaW5kZXhPZihhKX07dmFyIFhhPVdhKFwiT3BlcmFcIil8fFdhKFwiT1BSXCIpLFlhPVdhKFwiVHJpZGVudFwiKXx8V2EoXCJNU0lFXCIpLFphPVdhKFwiR2Vja29cIikmJi0xPT1UYS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCJ3ZWJraXRcIikmJiEoV2EoXCJUcmlkZW50XCIpfHxXYShcIk1TSUVcIikpLCRhPS0xIT1UYS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCJ3ZWJraXRcIik7KGZ1bmN0aW9uKCl7dmFyIGE9XCJcIixiO2lmKFhhJiZhYS5vcGVyYSlyZXR1cm4gYT1hYS5vcGVyYS52ZXJzaW9uLGhhKGEpP2EoKTphO1phP2I9L3J2XFw6KFteXFwpO10rKShcXCl8OykvOllhP2I9L1xcYig/Ok1TSUV8cnYpWzogXShbXlxcKTtdKykoXFwpfDspLzokYSYmKGI9L1dlYktpdFxcLyhcXFMrKS8pO2ImJihhPShhPWIuZXhlYyhUYSkpP2FbMV06XCJcIik7cmV0dXJuIFlhJiYoYj0oYj1hYS5kb2N1bWVudCk/Yi5kb2N1bWVudE1vZGU6dm9pZCAwLGI+cGFyc2VGbG9hdChhKSk/U3RyaW5nKGIpOmF9KSgpO3ZhciBhYj1udWxsLGJiPW51bGwsY2I9bnVsbDtmdW5jdGlvbiBkYihhLGIpe2lmKCFmYShhKSl0aHJvdyBFcnJvcihcImVuY29kZUJ5dGVBcnJheSB0YWtlcyBhbiBhcnJheSBhcyBhIHBhcmFtZXRlclwiKTtlYigpO2Zvcih2YXIgYz1iP2JiOmFiLGQ9W10sZT0wO2U8YS5sZW5ndGg7ZSs9Myl7dmFyIGY9YVtlXSxnPWUrMTxhLmxlbmd0aCxrPWc/YVtlKzFdOjAsbD1lKzI8YS5sZW5ndGgsbj1sP2FbZSsyXTowLHU9Zj4+MixmPShmJjMpPDw0fGs+PjQsaz0oayYxNSk8PDJ8bj4+NixuPW4mNjM7bHx8KG49NjQsZ3x8KGs9NjQpKTtkLnB1c2goY1t1XSxjW2ZdLGNba10sY1tuXSl9cmV0dXJuIGQuam9pbihcIlwiKX1cbmZ1bmN0aW9uIGViKCl7aWYoIWFiKXthYj17fTtiYj17fTtjYj17fTtmb3IodmFyIGE9MDs2NT5hO2ErKylhYlthXT1cIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89XCIuY2hhckF0KGEpLGJiW2FdPVwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODktXy5cIi5jaGFyQXQoYSksY2JbYmJbYV1dPWF9fTt2YXIgZmI9ZnVuY3Rpb24oKXt2YXIgYT0xO3JldHVybiBmdW5jdGlvbigpe3JldHVybiBhKyt9fSgpO2Z1bmN0aW9uIHcoYSxiKXtpZighYSl0aHJvdyBnYihiKTt9ZnVuY3Rpb24gZ2IoYSl7cmV0dXJuIEVycm9yKFwiRmlyZWJhc2UgSU5URVJOQUwgQVNTRVJUIEZBSUxFRDpcIithKX1cbmZ1bmN0aW9uIGhiKGEpe3RyeXt2YXIgYjtpZihcInVuZGVmaW5lZFwiIT09dHlwZW9mIGF0b2IpYj1hdG9iKGEpO2Vsc2V7ZWIoKTtmb3IodmFyIGM9Y2IsZD1bXSxlPTA7ZTxhLmxlbmd0aDspe3ZhciBmPWNbYS5jaGFyQXQoZSsrKV0sZz1lPGEubGVuZ3RoP2NbYS5jaGFyQXQoZSldOjA7KytlO3ZhciBrPWU8YS5sZW5ndGg/Y1thLmNoYXJBdChlKV06NjQ7KytlO3ZhciBsPWU8YS5sZW5ndGg/Y1thLmNoYXJBdChlKV06NjQ7KytlO2lmKG51bGw9PWZ8fG51bGw9PWd8fG51bGw9PWt8fG51bGw9PWwpdGhyb3cgRXJyb3IoKTtkLnB1c2goZjw8MnxnPj40KTs2NCE9ayYmKGQucHVzaChnPDw0JjI0MHxrPj4yKSw2NCE9bCYmZC5wdXNoKGs8PDYmMTkyfGwpKX1pZig4MTkyPmQubGVuZ3RoKWI9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLGQpO2Vsc2V7YT1cIlwiO2ZvcihjPTA7YzxkLmxlbmd0aDtjKz04MTkyKWErPVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxRYShkLGMsXG5jKzgxOTIpKTtiPWF9fXJldHVybiBifWNhdGNoKG4pe2liKFwiYmFzZTY0RGVjb2RlIGZhaWxlZDogXCIsbil9cmV0dXJuIG51bGx9ZnVuY3Rpb24gamIoYSl7dmFyIGI9a2IoYSk7YT1uZXcgRWE7YS51cGRhdGUoYik7dmFyIGI9W10sYz04KmEuVGQ7NTY+YS5SYj9hLnVwZGF0ZShhLkFkLDU2LWEuUmIpOmEudXBkYXRlKGEuQWQsYS5TYS0oYS5SYi01NikpO2Zvcih2YXIgZD1hLlNhLTE7NTY8PWQ7ZC0tKWEuYmVbZF09YyYyNTUsYy89MjU2O0ZhKGEsYS5iZSk7Zm9yKGQ9Yz0wOzU+ZDtkKyspZm9yKHZhciBlPTI0OzA8PWU7ZS09OCliW2NdPWEuUltkXT4+ZSYyNTUsKytjO3JldHVybiBkYihiKX1cbmZ1bmN0aW9uIGxiKGEpe2Zvcih2YXIgYj1cIlwiLGM9MDtjPGFyZ3VtZW50cy5sZW5ndGg7YysrKWI9ZmEoYXJndW1lbnRzW2NdKT9iK2xiLmFwcGx5KG51bGwsYXJndW1lbnRzW2NdKTpcIm9iamVjdFwiPT09dHlwZW9mIGFyZ3VtZW50c1tjXT9iK3IoYXJndW1lbnRzW2NdKTpiK2FyZ3VtZW50c1tjXSxiKz1cIiBcIjtyZXR1cm4gYn12YXIgbWI9bnVsbCxuYj0hMDtmdW5jdGlvbiBpYihhKXshMD09PW5iJiYobmI9ITEsbnVsbD09PW1iJiYhMD09PUFhLmdldChcImxvZ2dpbmdfZW5hYmxlZFwiKSYmb2IoITApKTtpZihtYil7dmFyIGI9bGIuYXBwbHkobnVsbCxhcmd1bWVudHMpO21iKGIpfX1mdW5jdGlvbiBwYihhKXtyZXR1cm4gZnVuY3Rpb24oKXtpYihhLGFyZ3VtZW50cyl9fVxuZnVuY3Rpb24gcWIoYSl7aWYoXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBjb25zb2xlKXt2YXIgYj1cIkZJUkVCQVNFIElOVEVSTkFMIEVSUk9SOiBcIitsYi5hcHBseShudWxsLGFyZ3VtZW50cyk7XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBjb25zb2xlLmVycm9yP2NvbnNvbGUuZXJyb3IoYik6Y29uc29sZS5sb2coYil9fWZ1bmN0aW9uIHJiKGEpe3ZhciBiPWxiLmFwcGx5KG51bGwsYXJndW1lbnRzKTt0aHJvdyBFcnJvcihcIkZJUkVCQVNFIEZBVEFMIEVSUk9SOiBcIitiKTt9ZnVuY3Rpb24geShhKXtpZihcInVuZGVmaW5lZFwiIT09dHlwZW9mIGNvbnNvbGUpe3ZhciBiPVwiRklSRUJBU0UgV0FSTklORzogXCIrbGIuYXBwbHkobnVsbCxhcmd1bWVudHMpO1widW5kZWZpbmVkXCIhPT10eXBlb2YgY29uc29sZS53YXJuP2NvbnNvbGUud2FybihiKTpjb25zb2xlLmxvZyhiKX19XG5mdW5jdGlvbiBzYihhKXt2YXIgYj1cIlwiLGM9XCJcIixkPVwiXCIsZT1cIlwiLGY9ITAsZz1cImh0dHBzXCIsaz00NDM7aWYocChhKSl7dmFyIGw9YS5pbmRleE9mKFwiLy9cIik7MDw9bCYmKGc9YS5zdWJzdHJpbmcoMCxsLTEpLGE9YS5zdWJzdHJpbmcobCsyKSk7bD1hLmluZGV4T2YoXCIvXCIpOy0xPT09bCYmKGw9YS5sZW5ndGgpO2I9YS5zdWJzdHJpbmcoMCxsKTtlPVwiXCI7YT1hLnN1YnN0cmluZyhsKS5zcGxpdChcIi9cIik7Zm9yKGw9MDtsPGEubGVuZ3RoO2wrKylpZigwPGFbbF0ubGVuZ3RoKXt2YXIgbj1hW2xdO3RyeXtuPWRlY29kZVVSSUNvbXBvbmVudChuLnJlcGxhY2UoL1xcKy9nLFwiIFwiKSl9Y2F0Y2godSl7fWUrPVwiL1wiK259YT1iLnNwbGl0KFwiLlwiKTszPT09YS5sZW5ndGg/KGM9YVsxXSxkPWFbMF0udG9Mb3dlckNhc2UoKSk6Mj09PWEubGVuZ3RoJiYoYz1hWzBdKTtsPWIuaW5kZXhPZihcIjpcIik7MDw9bCYmKGY9XCJodHRwc1wiPT09Z3x8XCJ3c3NcIj09PWcsaz1iLnN1YnN0cmluZyhsKzEpLGlzRmluaXRlKGspJiZcbihrPVN0cmluZyhrKSksaz1wKGspPy9eXFxzKi0/MHgvaS50ZXN0KGspP3BhcnNlSW50KGssMTYpOnBhcnNlSW50KGssMTApOk5hTil9cmV0dXJue2hvc3Q6Yixwb3J0OmssZG9tYWluOmMsQWc6ZCx6YjpmLHNjaGVtZTpnLE9jOmV9fWZ1bmN0aW9uIHRiKGEpe3JldHVybiBnYShhKSYmKGEhPWF8fGE9PU51bWJlci5QT1NJVElWRV9JTkZJTklUWXx8YT09TnVtYmVyLk5FR0FUSVZFX0lORklOSVRZKX1cbmZ1bmN0aW9uIHViKGEpe2lmKFwiY29tcGxldGVcIj09PWRvY3VtZW50LnJlYWR5U3RhdGUpYSgpO2Vsc2V7dmFyIGI9ITEsYz1mdW5jdGlvbigpe2RvY3VtZW50LmJvZHk/Ynx8KGI9ITAsYSgpKTpzZXRUaW1lb3V0KGMsTWF0aC5mbG9vcigxMCkpfTtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyPyhkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLGMsITEpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLGMsITEpKTpkb2N1bWVudC5hdHRhY2hFdmVudCYmKGRvY3VtZW50LmF0dGFjaEV2ZW50KFwib25yZWFkeXN0YXRlY2hhbmdlXCIsZnVuY3Rpb24oKXtcImNvbXBsZXRlXCI9PT1kb2N1bWVudC5yZWFkeVN0YXRlJiZjKCl9KSx3aW5kb3cuYXR0YWNoRXZlbnQoXCJvbmxvYWRcIixjKSl9fVxuZnVuY3Rpb24gdmIoYSxiKXtpZihhPT09YilyZXR1cm4gMDtpZihcIltNSU5fTkFNRV1cIj09PWF8fFwiW01BWF9OQU1FXVwiPT09YilyZXR1cm4tMTtpZihcIltNSU5fTkFNRV1cIj09PWJ8fFwiW01BWF9OQU1FXVwiPT09YSlyZXR1cm4gMTt2YXIgYz13YihhKSxkPXdiKGIpO3JldHVybiBudWxsIT09Yz9udWxsIT09ZD8wPT1jLWQ/YS5sZW5ndGgtYi5sZW5ndGg6Yy1kOi0xOm51bGwhPT1kPzE6YTxiPy0xOjF9ZnVuY3Rpb24geGIoYSxiKXtpZihiJiZhIGluIGIpcmV0dXJuIGJbYV07dGhyb3cgRXJyb3IoXCJNaXNzaW5nIHJlcXVpcmVkIGtleSAoXCIrYStcIikgaW4gb2JqZWN0OiBcIityKGIpKTt9XG5mdW5jdGlvbiB5YihhKXtpZihcIm9iamVjdFwiIT09dHlwZW9mIGF8fG51bGw9PT1hKXJldHVybiByKGEpO3ZhciBiPVtdLGM7Zm9yKGMgaW4gYSliLnB1c2goYyk7Yi5zb3J0KCk7Yz1cIntcIjtmb3IodmFyIGQ9MDtkPGIubGVuZ3RoO2QrKykwIT09ZCYmKGMrPVwiLFwiKSxjKz1yKGJbZF0pLGMrPVwiOlwiLGMrPXliKGFbYltkXV0pO3JldHVybiBjK1wifVwifWZ1bmN0aW9uIHpiKGEsYil7aWYoYS5sZW5ndGg8PWIpcmV0dXJuW2FdO2Zvcih2YXIgYz1bXSxkPTA7ZDxhLmxlbmd0aDtkKz1iKWQrYj5hP2MucHVzaChhLnN1YnN0cmluZyhkLGEubGVuZ3RoKSk6Yy5wdXNoKGEuc3Vic3RyaW5nKGQsZCtiKSk7cmV0dXJuIGN9ZnVuY3Rpb24gQWIoYSxiKXtpZihlYShhKSlmb3IodmFyIGM9MDtjPGEubGVuZ3RoOysrYyliKGMsYVtjXSk7ZWxzZSB6KGEsYil9XG5mdW5jdGlvbiBCYihhKXt3KCF0YihhKSxcIkludmFsaWQgSlNPTiBudW1iZXJcIik7dmFyIGIsYyxkLGU7MD09PWE/KGQ9Yz0wLGI9LUluZmluaXR5PT09MS9hPzE6MCk6KGI9MD5hLGE9TWF0aC5hYnMoYSksYT49TWF0aC5wb3coMiwtMTAyMik/KGQ9TWF0aC5taW4oTWF0aC5mbG9vcihNYXRoLmxvZyhhKS9NYXRoLkxOMiksMTAyMyksYz1kKzEwMjMsZD1NYXRoLnJvdW5kKGEqTWF0aC5wb3coMiw1Mi1kKS1NYXRoLnBvdygyLDUyKSkpOihjPTAsZD1NYXRoLnJvdW5kKGEvTWF0aC5wb3coMiwtMTA3NCkpKSk7ZT1bXTtmb3IoYT01MjthO2EtPTEpZS5wdXNoKGQlMj8xOjApLGQ9TWF0aC5mbG9vcihkLzIpO2ZvcihhPTExO2E7YS09MSllLnB1c2goYyUyPzE6MCksYz1NYXRoLmZsb29yKGMvMik7ZS5wdXNoKGI/MTowKTtlLnJldmVyc2UoKTtiPWUuam9pbihcIlwiKTtjPVwiXCI7Zm9yKGE9MDs2ND5hO2ErPTgpZD1wYXJzZUludChiLnN1YnN0cihhLDgpLDIpLnRvU3RyaW5nKDE2KSwxPT09ZC5sZW5ndGgmJlxuKGQ9XCIwXCIrZCksYys9ZDtyZXR1cm4gYy50b0xvd2VyQ2FzZSgpfXZhciBDYj0vXi0/XFxkezEsMTB9JC87ZnVuY3Rpb24gd2IoYSl7cmV0dXJuIENiLnRlc3QoYSkmJihhPU51bWJlcihhKSwtMjE0NzQ4MzY0ODw9YSYmMjE0NzQ4MzY0Nz49YSk/YTpudWxsfWZ1bmN0aW9uIERiKGEpe3RyeXthKCl9Y2F0Y2goYil7c2V0VGltZW91dChmdW5jdGlvbigpe3koXCJFeGNlcHRpb24gd2FzIHRocm93biBieSB1c2VyIGNhbGxiYWNrLlwiLGIuc3RhY2t8fFwiXCIpO3Rocm93IGI7fSxNYXRoLmZsb29yKDApKX19ZnVuY3Rpb24gQShhLGIpe2lmKGhhKGEpKXt2YXIgYz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSkuc2xpY2UoKTtEYihmdW5jdGlvbigpe2EuYXBwbHkobnVsbCxjKX0pfX07ZnVuY3Rpb24gRWIoYSxiLGMsZCl7dGhpcy5sZT1iO3RoaXMuTmQ9Yzt0aGlzLkZkPWQ7dGhpcy5qZD1hfUViLnByb3RvdHlwZS5QYj1mdW5jdGlvbigpe3ZhciBhPXRoaXMuTmQuY2MoKTtyZXR1cm5cInZhbHVlXCI9PT10aGlzLmpkP2EucGF0aDphLnBhcmVudCgpLnBhdGh9O0ViLnByb3RvdHlwZS5vZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmpkfTtFYi5wcm90b3R5cGUuS2I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sZS5LYih0aGlzKX07RWIucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuUGIoKS50b1N0cmluZygpK1wiOlwiK3RoaXMuamQrXCI6XCIrcih0aGlzLk5kLlplKCkpfTtmdW5jdGlvbiBGYihhLGIsYyl7dGhpcy5sZT1hO3RoaXMuZXJyb3I9Yjt0aGlzLnBhdGg9Y31GYi5wcm90b3R5cGUuUGI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXRofTtGYi5wcm90b3R5cGUub2U9ZnVuY3Rpb24oKXtyZXR1cm5cImNhbmNlbFwifTtcbkZiLnByb3RvdHlwZS5LYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxlLktiKHRoaXMpfTtGYi5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXRoLnRvU3RyaW5nKCkrXCI6Y2FuY2VsXCJ9O2Z1bmN0aW9uIEIoYSxiLGMsZCl7dGhpcy50eXBlPWE7dGhpcy5HYT1iO3RoaXMuVWE9Yzt0aGlzLkNlPWQ7dGhpcy5GZD12b2lkIDB9ZnVuY3Rpb24gR2IoYSl7cmV0dXJuIG5ldyBCKEhiLGEpfXZhciBIYj1cInZhbHVlXCI7ZnVuY3Rpb24gSWIoYSxiLGMpe3RoaXMuR2I9YTt0aGlzLmtiPWI7dGhpcy5tYj1jfHxudWxsfWg9SWIucHJvdG90eXBlO2gudGY9ZnVuY3Rpb24oYSl7cmV0dXJuXCJ2YWx1ZVwiPT09YX07aC5jcmVhdGVFdmVudD1mdW5jdGlvbihhLGIpe3ZhciBjPWIudy5nO3JldHVybiBuZXcgRWIoXCJ2YWx1ZVwiLHRoaXMsbmV3IEMoYS5HYSxiLmNjKCksYykpfTtoLktiPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMubWI7aWYoXCJjYW5jZWxcIj09PWEub2UoKSl7dyh0aGlzLmtiLFwiUmFpc2luZyBhIGNhbmNlbCBldmVudCBvbiBhIGxpc3RlbmVyIHdpdGggbm8gY2FuY2VsIGNhbGxiYWNrXCIpO3ZhciBjPXRoaXMua2I7cmV0dXJuIGZ1bmN0aW9uKCl7Yy5jYWxsKGIsYS5lcnJvcil9fXZhciBkPXRoaXMuR2I7cmV0dXJuIGZ1bmN0aW9uKCl7ZC5jYWxsKGIsYS5OZCl9fTtoLlZlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMua2I/bmV3IEZiKHRoaXMsYSxiKTpudWxsfTtcbmgubWF0Y2hlcz1mdW5jdGlvbihhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIEliP2EuR2ImJnRoaXMuR2I/YS5HYj09PXRoaXMuR2ImJmEubWI9PT10aGlzLm1iOiEwOiExfTtoLmZmPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPT10aGlzLkdifTtmdW5jdGlvbiBKYihhLGIsYyl7dGhpcy5kYT1hO3RoaXMua2I9Yjt0aGlzLm1iPWN9aD1KYi5wcm90b3R5cGU7aC50Zj1mdW5jdGlvbihhKXthPVwiY2hpbGRyZW5fYWRkZWRcIj09PWE/XCJjaGlsZF9hZGRlZFwiOmE7cmV0dXJuKFwiY2hpbGRyZW5fcmVtb3ZlZFwiPT09YT9cImNoaWxkX3JlbW92ZWRcIjphKWluIHRoaXMuZGF9O2guVmU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5rYj9uZXcgRmIodGhpcyxhLGIpOm51bGx9O1xuaC5jcmVhdGVFdmVudD1mdW5jdGlvbihhLGIpe3cobnVsbCE9YS5VYSxcIkNoaWxkIGV2ZW50cyBzaG91bGQgaGF2ZSBhIGNoaWxkTmFtZS5cIik7dmFyIGM9Yi5jYygpLm4oYS5VYSk7cmV0dXJuIG5ldyBFYihhLnR5cGUsdGhpcyxuZXcgQyhhLkdhLGMsYi53LmcpLGEuRmQpfTtoLktiPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMubWI7aWYoXCJjYW5jZWxcIj09PWEub2UoKSl7dyh0aGlzLmtiLFwiUmFpc2luZyBhIGNhbmNlbCBldmVudCBvbiBhIGxpc3RlbmVyIHdpdGggbm8gY2FuY2VsIGNhbGxiYWNrXCIpO3ZhciBjPXRoaXMua2I7cmV0dXJuIGZ1bmN0aW9uKCl7Yy5jYWxsKGIsYS5lcnJvcil9fXZhciBkPXRoaXMuZGFbYS5qZF07cmV0dXJuIGZ1bmN0aW9uKCl7ZC5jYWxsKGIsYS5OZCxhLkZkKX19O1xuaC5tYXRjaGVzPWZ1bmN0aW9uKGEpe2lmKGEgaW5zdGFuY2VvZiBKYil7aWYoIXRoaXMuZGF8fCFhLmRhKXJldHVybiEwO2lmKHRoaXMubWI9PT1hLm1iKXt2YXIgYj1LYihhLmRhKTtpZihiPT09S2IodGhpcy5kYSkpe2lmKDE9PT1iKXt2YXIgYj1MYihhLmRhKSxjPUxiKHRoaXMuZGEpO3JldHVybiBjPT09YiYmKCFhLmRhW2JdfHwhdGhpcy5kYVtjXXx8YS5kYVtiXT09PXRoaXMuZGFbY10pfXJldHVybiBNYih0aGlzLmRhLGZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEuZGFbY109PT1ifSl9fX1yZXR1cm4hMX07aC5mZj1mdW5jdGlvbigpe3JldHVybiBudWxsIT09dGhpcy5kYX07ZnVuY3Rpb24ga2IoYSl7Zm9yKHZhciBiPVtdLGM9MCxkPTA7ZDxhLmxlbmd0aDtkKyspe3ZhciBlPWEuY2hhckNvZGVBdChkKTs1NTI5Njw9ZSYmNTYzMTk+PWUmJihlLT01NTI5NixkKyssdyhkPGEubGVuZ3RoLFwiU3Vycm9nYXRlIHBhaXIgbWlzc2luZyB0cmFpbCBzdXJyb2dhdGUuXCIpLGU9NjU1MzYrKGU8PDEwKSsoYS5jaGFyQ29kZUF0KGQpLTU2MzIwKSk7MTI4PmU/YltjKytdPWU6KDIwNDg+ZT9iW2MrK109ZT4+NnwxOTI6KDY1NTM2PmU/YltjKytdPWU+PjEyfDIyNDooYltjKytdPWU+PjE4fDI0MCxiW2MrK109ZT4+MTImNjN8MTI4KSxiW2MrK109ZT4+NiY2M3wxMjgpLGJbYysrXT1lJjYzfDEyOCl9cmV0dXJuIGJ9O2Z1bmN0aW9uIEQoYSxiLGMsZCl7dmFyIGU7ZDxiP2U9XCJhdCBsZWFzdCBcIitiOmQ+YyYmKGU9MD09PWM/XCJub25lXCI6XCJubyBtb3JlIHRoYW4gXCIrYyk7aWYoZSl0aHJvdyBFcnJvcihhK1wiIGZhaWxlZDogV2FzIGNhbGxlZCB3aXRoIFwiK2QrKDE9PT1kP1wiIGFyZ3VtZW50LlwiOlwiIGFyZ3VtZW50cy5cIikrXCIgRXhwZWN0cyBcIitlK1wiLlwiKTt9ZnVuY3Rpb24gRihhLGIsYyl7dmFyIGQ9XCJcIjtzd2l0Y2goYil7Y2FzZSAxOmQ9Yz9cImZpcnN0XCI6XCJGaXJzdFwiO2JyZWFrO2Nhc2UgMjpkPWM/XCJzZWNvbmRcIjpcIlNlY29uZFwiO2JyZWFrO2Nhc2UgMzpkPWM/XCJ0aGlyZFwiOlwiVGhpcmRcIjticmVhaztjYXNlIDQ6ZD1jP1wiZm91cnRoXCI6XCJGb3VydGhcIjticmVhaztkZWZhdWx0OnRocm93IEVycm9yKFwiZXJyb3JQcmVmaXggY2FsbGVkIHdpdGggYXJndW1lbnROdW1iZXIgPiA0LiAgTmVlZCB0byB1cGRhdGUgaXQ/XCIpO31yZXR1cm4gYT1hK1wiIGZhaWxlZDogXCIrKGQrXCIgYXJndW1lbnQgXCIpfVxuZnVuY3Rpb24gRyhhLGIsYyxkKXtpZigoIWR8fG0oYykpJiYhaGEoYykpdGhyb3cgRXJyb3IoRihhLGIsZCkrXCJtdXN0IGJlIGEgdmFsaWQgZnVuY3Rpb24uXCIpO31mdW5jdGlvbiBOYihhLGIsYyl7aWYobShjKSYmKCFpYShjKXx8bnVsbD09PWMpKXRocm93IEVycm9yKEYoYSxiLCEwKStcIm11c3QgYmUgYSB2YWxpZCBjb250ZXh0IG9iamVjdC5cIik7fTt2YXIgT2I9L1tcXFtcXF0uIyRcXC9cXHUwMDAwLVxcdTAwMUZcXHUwMDdGXS8sUGI9L1tcXFtcXF0uIyRcXHUwMDAwLVxcdTAwMUZcXHUwMDdGXS87ZnVuY3Rpb24gUWIoYSl7cmV0dXJuIHAoYSkmJjAhPT1hLmxlbmd0aCYmIU9iLnRlc3QoYSl9ZnVuY3Rpb24gUmIoYSl7cmV0dXJuIG51bGw9PT1hfHxwKGEpfHxnYShhKSYmIXRiKGEpfHxpYShhKSYmcyhhLFwiLnN2XCIpfWZ1bmN0aW9uIFNiKGEsYixjKXtjJiYhbShiKXx8VGIoRihhLDEsYyksYil9XG5mdW5jdGlvbiBUYihhLGIsYyxkKXtjfHwoYz0wKTt2YXIgZT1kfHxbXTtpZighbShiKSl0aHJvdyBFcnJvcihhK1wiY29udGFpbnMgdW5kZWZpbmVkXCIrVWIoZSkpO2lmKGhhKGIpKXRocm93IEVycm9yKGErXCJjb250YWlucyBhIGZ1bmN0aW9uXCIrVWIoZSkrXCIgd2l0aCBjb250ZW50czogXCIrYi50b1N0cmluZygpKTtpZih0YihiKSl0aHJvdyBFcnJvcihhK1wiY29udGFpbnMgXCIrYi50b1N0cmluZygpK1ViKGUpKTtpZigxRTM8Yyl0aHJvdyBuZXcgVHlwZUVycm9yKGErXCJjb250YWlucyBhIGN5Y2xpYyBvYmplY3QgdmFsdWUgKFwiK2Uuc2xpY2UoMCwxMDApLmpvaW4oXCIuXCIpK1wiLi4uKVwiKTtpZihwKGIpJiZiLmxlbmd0aD4xMDQ4NTc2MC8zJiYxMDQ4NTc2MDxrYihiKS5sZW5ndGgpdGhyb3cgRXJyb3IoYStcImNvbnRhaW5zIGEgc3RyaW5nIGdyZWF0ZXIgdGhhbiAxMDQ4NTc2MCB1dGY4IGJ5dGVzXCIrVWIoZSkrXCIgKCdcIitiLnN1YnN0cmluZygwLDUwKStcIi4uLicpXCIpO2lmKGlhKGIpKXt2YXIgZj1cbiExLGc9ITE7dWEoYixmdW5jdGlvbihiLGQpe2lmKFwiLnZhbHVlXCI9PT1iKWY9ITA7ZWxzZSBpZihcIi5wcmlvcml0eVwiIT09YiYmXCIuc3ZcIiE9PWImJihnPSEwLCFRYihiKSkpdGhyb3cgRXJyb3IoYStcIiBjb250YWlucyBhbiBpbnZhbGlkIGtleSAoXCIrYitcIilcIitVYihlKSsnLiAgS2V5cyBtdXN0IGJlIG5vbi1lbXB0eSBzdHJpbmdzIGFuZCBjYW5cXCd0IGNvbnRhaW4gXCIuXCIsIFwiI1wiLCBcIiRcIiwgXCIvXCIsIFwiW1wiLCBvciBcIl1cIicpO2UucHVzaChiKTtUYihhLGQsYysxLGUpO2UucG9wKCl9KTtpZihmJiZnKXRocm93IEVycm9yKGErJyBjb250YWlucyBcIi52YWx1ZVwiIGNoaWxkJytVYihlKStcIiBpbiBhZGRpdGlvbiB0byBhY3R1YWwgY2hpbGRyZW4uXCIpO319ZnVuY3Rpb24gVWIoYSl7cmV0dXJuIDA9PWEubGVuZ3RoP1wiXCI6XCIgaW4gcHJvcGVydHkgJ1wiK2Euam9pbihcIi5cIikrXCInXCJ9XG5mdW5jdGlvbiBWYihhLGIpe2lmKCFpYShiKXx8ZWEoYikpdGhyb3cgRXJyb3IoRihhLDEsITEpK1wiIG11c3QgYmUgYW4gT2JqZWN0IGNvbnRhaW5pbmcgdGhlIGNoaWxkcmVuIHRvIHJlcGxhY2UuXCIpO2lmKHMoYixcIi52YWx1ZVwiKSl0aHJvdyBFcnJvcihGKGEsMSwhMSkrJyBtdXN0IG5vdCBjb250YWluIFwiLnZhbHVlXCIuICBUbyBvdmVyd3JpdGUgd2l0aCBhIGxlYWYgdmFsdWUsIGp1c3QgdXNlIC5zZXQoKSBpbnN0ZWFkLicpO1NiKGEsYiwhMSl9XG5mdW5jdGlvbiBXYihhLGIsYyl7aWYodGIoYykpdGhyb3cgRXJyb3IoRihhLGIsITEpK1wiaXMgXCIrYy50b1N0cmluZygpK1wiLCBidXQgbXVzdCBiZSBhIHZhbGlkIEZpcmViYXNlIHByaW9yaXR5IChhIHN0cmluZywgZmluaXRlIG51bWJlciwgc2VydmVyIHZhbHVlLCBvciBudWxsKS5cIik7aWYoIVJiKGMpKXRocm93IEVycm9yKEYoYSxiLCExKStcIm11c3QgYmUgYSB2YWxpZCBGaXJlYmFzZSBwcmlvcml0eSAoYSBzdHJpbmcsIGZpbml0ZSBudW1iZXIsIHNlcnZlciB2YWx1ZSwgb3IgbnVsbCkuXCIpO31cbmZ1bmN0aW9uIFhiKGEsYixjKXtpZighY3x8bShiKSlzd2l0Y2goYil7Y2FzZSBcInZhbHVlXCI6Y2FzZSBcImNoaWxkX2FkZGVkXCI6Y2FzZSBcImNoaWxkX3JlbW92ZWRcIjpjYXNlIFwiY2hpbGRfY2hhbmdlZFwiOmNhc2UgXCJjaGlsZF9tb3ZlZFwiOmJyZWFrO2RlZmF1bHQ6dGhyb3cgRXJyb3IoRihhLDEsYykrJ211c3QgYmUgYSB2YWxpZCBldmVudCB0eXBlOiBcInZhbHVlXCIsIFwiY2hpbGRfYWRkZWRcIiwgXCJjaGlsZF9yZW1vdmVkXCIsIFwiY2hpbGRfY2hhbmdlZFwiLCBvciBcImNoaWxkX21vdmVkXCIuJyk7fX1mdW5jdGlvbiBZYihhLGIsYyxkKXtpZigoIWR8fG0oYykpJiYhUWIoYykpdGhyb3cgRXJyb3IoRihhLGIsZCkrJ3dhcyBhbiBpbnZhbGlkIGtleTogXCInK2MrJ1wiLiAgRmlyZWJhc2Uga2V5cyBtdXN0IGJlIG5vbi1lbXB0eSBzdHJpbmdzIGFuZCBjYW5cXCd0IGNvbnRhaW4gXCIuXCIsIFwiI1wiLCBcIiRcIiwgXCIvXCIsIFwiW1wiLCBvciBcIl1cIikuJyk7fVxuZnVuY3Rpb24gWmIoYSxiKXtpZighcChiKXx8MD09PWIubGVuZ3RofHxQYi50ZXN0KGIpKXRocm93IEVycm9yKEYoYSwxLCExKSsnd2FzIGFuIGludmFsaWQgcGF0aDogXCInK2IrJ1wiLiBQYXRocyBtdXN0IGJlIG5vbi1lbXB0eSBzdHJpbmdzIGFuZCBjYW5cXCd0IGNvbnRhaW4gXCIuXCIsIFwiI1wiLCBcIiRcIiwgXCJbXCIsIG9yIFwiXVwiJyk7fWZ1bmN0aW9uICRiKGEsYil7aWYoXCIuaW5mb1wiPT09SChiKSl0aHJvdyBFcnJvcihhK1wiIGZhaWxlZDogQ2FuJ3QgbW9kaWZ5IGRhdGEgdW5kZXIgLy5pbmZvL1wiKTt9ZnVuY3Rpb24gYWMoYSxiKXtpZighcChiKSl0aHJvdyBFcnJvcihGKGEsMSwhMSkrXCJtdXN0IGJlIGEgdmFsaWQgY3JlZGVudGlhbCAoYSBzdHJpbmcpLlwiKTt9ZnVuY3Rpb24gYmMoYSxiLGMpe2lmKCFwKGMpKXRocm93IEVycm9yKEYoYSxiLCExKStcIm11c3QgYmUgYSB2YWxpZCBzdHJpbmcuXCIpO31cbmZ1bmN0aW9uIEkoYSxiLGMsZCl7aWYoIWR8fG0oYykpaWYoIWlhKGMpfHxudWxsPT09Yyl0aHJvdyBFcnJvcihGKGEsYixkKStcIm11c3QgYmUgYSB2YWxpZCBvYmplY3QuXCIpO31mdW5jdGlvbiBKKGEsYixjKXtpZighaWEoYil8fG51bGw9PT1ifHwhcyhiLGMpKXRocm93IEVycm9yKEYoYSwxLCExKSsnbXVzdCBjb250YWluIHRoZSBrZXkgXCInK2MrJ1wiJyk7aWYoIXAodChiLGMpKSl0aHJvdyBFcnJvcihGKGEsMSwhMSkrJ211c3QgY29udGFpbiB0aGUga2V5IFwiJytjKydcIiB3aXRoIHR5cGUgXCJzdHJpbmdcIicpO307ZnVuY3Rpb24gY2MoYSl7dGhpcy5nPWF9aD1jYy5wcm90b3R5cGU7aC5EPWZ1bmN0aW9uKGEsYixjLGQsZSl7dyhhLkFjKHRoaXMuZyksXCJBIG5vZGUgbXVzdCBiZSBpbmRleGVkIGlmIG9ubHkgYSBjaGlsZCBpcyB1cGRhdGVkXCIpO2Q9YS5KKGIpO2lmKGQuZWEoYykpcmV0dXJuIGE7bnVsbCE9ZSYmKGMuZSgpP2EuRGEoYik/ZGMoZSxuZXcgQihcImNoaWxkX3JlbW92ZWRcIixkLGIpKTp3KGEuTCgpLFwiQSBjaGlsZCByZW1vdmUgd2l0aG91dCBhbiBvbGQgY2hpbGQgb25seSBtYWtlcyBzZW5zZSBvbiBhIGxlYWYgbm9kZVwiKTpkLmUoKT9kYyhlLG5ldyBCKFwiY2hpbGRfYWRkZWRcIixjLGIpKTpkYyhlLG5ldyBCKFwiY2hpbGRfY2hhbmdlZFwiLGMsYixkKSkpO3JldHVybiBhLkwoKSYmYy5lKCk/YTphLlAoYixjKX07XG5oLm9hPWZ1bmN0aW9uKGEsYixjKXtudWxsIT1jJiYoYS5MKCl8fGEuVChLLGZ1bmN0aW9uKGEsZSl7Yi5EYShhKXx8ZGMoYyxuZXcgQihcImNoaWxkX3JlbW92ZWRcIixlLGEpKX0pLGIuTCgpfHxiLlQoSyxmdW5jdGlvbihiLGUpe2lmKGEuRGEoYikpe3ZhciBmPWEuSihiKTtmLmVhKGUpfHxkYyhjLG5ldyBCKFwiY2hpbGRfY2hhbmdlZFwiLGUsYixmKSl9ZWxzZSBkYyhjLG5ldyBCKFwiY2hpbGRfYWRkZWRcIixlLGIpKX0pKTtyZXR1cm4gYi5FYih0aGlzLmcpfTtoLlo9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5lKCk/TDphLlooYil9O2gueWE9ZnVuY3Rpb24oKXtyZXR1cm4hMX07aC5MYj1mdW5jdGlvbigpe3JldHVybiB0aGlzfTtmdW5jdGlvbiBlYyhhKXt0aGlzLnFlPW5ldyBjYyhhLmcpO3RoaXMuZz1hLmc7dmFyIGI7YS5pYT8oYj1mYyhhKSxiPWEuZy56ZShnYyhhKSxiKSk6Yj1hLmcuQmUoKTt0aGlzLlZjPWI7YS5xYT8oYj1oYyhhKSxhPWEuZy56ZShpYyhhKSxiKSk6YT1hLmcuQWUoKTt0aGlzLnZjPWF9aD1lYy5wcm90b3R5cGU7aC5tYXRjaGVzPWZ1bmN0aW9uKGEpe3JldHVybiAwPj10aGlzLmcuY29tcGFyZSh0aGlzLlZjLGEpJiYwPj10aGlzLmcuY29tcGFyZShhLHRoaXMudmMpfTtoLkQ9ZnVuY3Rpb24oYSxiLGMsZCxlKXt0aGlzLm1hdGNoZXMobmV3IE0oYixjKSl8fChjPUwpO3JldHVybiB0aGlzLnFlLkQoYSxiLGMsZCxlKX07aC5vYT1mdW5jdGlvbihhLGIsYyl7Yi5MKCkmJihiPUwpO3ZhciBkPWIuRWIodGhpcy5nKSxkPWQuWihMKSxlPXRoaXM7Yi5UKEssZnVuY3Rpb24oYSxiKXtlLm1hdGNoZXMobmV3IE0oYSxiKSl8fChkPWQuUChhLEwpKX0pO3JldHVybiB0aGlzLnFlLm9hKGEsZCxjKX07XG5oLlo9ZnVuY3Rpb24oYSl7cmV0dXJuIGF9O2gueWE9ZnVuY3Rpb24oKXtyZXR1cm4hMH07aC5MYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnFlfTtmdW5jdGlvbiBqYyhhLGIpe3JldHVybiB2YihhLm5hbWUsYi5uYW1lKX1mdW5jdGlvbiBrYyhhLGIpe3JldHVybiB2YihhLGIpfTtmdW5jdGlvbiBsYygpe312YXIgbWM9e307ZnVuY3Rpb24gbmMoYSl7cmV0dXJuIHEoYS5jb21wYXJlLGEpfWxjLnByb3RvdHlwZS5nZj1mdW5jdGlvbihhLGIpe3JldHVybiAwIT09dGhpcy5jb21wYXJlKG5ldyBNKFwiW01JTl9OQU1FXVwiLGEpLG5ldyBNKFwiW01JTl9OQU1FXVwiLGIpKX07bGMucHJvdG90eXBlLkJlPWZ1bmN0aW9uKCl7cmV0dXJuIG9jfTtmdW5jdGlvbiBwYyhhKXt0aGlzLlRiPWF9bWEocGMsbGMpO2g9cGMucHJvdG90eXBlO2gudGU9ZnVuY3Rpb24oYSl7cmV0dXJuIWEuSih0aGlzLlRiKS5lKCl9O2guY29tcGFyZT1mdW5jdGlvbihhLGIpe3ZhciBjPWEuWS5KKHRoaXMuVGIpLGQ9Yi5ZLkoodGhpcy5UYiksYz1jLmhlKGQpO3JldHVybiAwPT09Yz92YihhLm5hbWUsYi5uYW1lKTpjfTtoLnplPWZ1bmN0aW9uKGEsYil7dmFyIGM9TihhKSxjPUwuUCh0aGlzLlRiLGMpO3JldHVybiBuZXcgTShiLGMpfTtcbmguQWU9ZnVuY3Rpb24oKXt2YXIgYT1MLlAodGhpcy5UYixxYyk7cmV0dXJuIG5ldyBNKFwiW01BWF9OQU1FXVwiLGEpfTtoLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuVGJ9O3ZhciBLPW5ldyBwYyhcIi5wcmlvcml0eVwiKTtmdW5jdGlvbiByYygpe31tYShyYyxsYyk7aD1yYy5wcm90b3R5cGU7aC5jb21wYXJlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHZiKGEubmFtZSxiLm5hbWUpfTtoLnRlPWZ1bmN0aW9uKCl7dGhyb3cgZ2IoXCJLZXlJbmRleC5pc0RlZmluZWRPbiBub3QgZXhwZWN0ZWQgdG8gYmUgY2FsbGVkLlwiKTt9O2guZ2Y9ZnVuY3Rpb24oKXtyZXR1cm4hMX07aC5CZT1mdW5jdGlvbigpe3JldHVybiBvY307aC5BZT1mdW5jdGlvbigpe3JldHVybiBuZXcgTShcIltNQVhfTkFNRV1cIixMKX07aC56ZT1mdW5jdGlvbihhKXt3KHAoYSksXCJLZXlJbmRleCBpbmRleFZhbHVlIG11c3QgYWx3YXlzIGJlIGEgc3RyaW5nLlwiKTtyZXR1cm4gbmV3IE0oYSxMKX07XG5oLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCIua2V5XCJ9O3ZhciBzYz1uZXcgcmM7ZnVuY3Rpb24gdGMoKXt9dGMucHJvdG90eXBlLmNmPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9O3RjLnByb3RvdHlwZS5uZT1mdW5jdGlvbigpe3JldHVybiBudWxsfTt2YXIgdWM9bmV3IHRjO2Z1bmN0aW9uIHZjKGEsYixjKXt0aGlzLkJmPWE7dGhpcy5IYT1iO3RoaXMuemQ9Y312Yy5wcm90b3R5cGUuY2Y9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5IYS5GO2lmKHdjKGIsYSkpcmV0dXJuIGIuaigpLkooYSk7Yj1udWxsIT10aGlzLnpkP25ldyB4Yyh0aGlzLnpkLCEwLCExKTp0aGlzLkhhLm8oKTtyZXR1cm4gdGhpcy5CZi5UYShhLGIpfTt2Yy5wcm90b3R5cGUubmU9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPW51bGwhPXRoaXMuemQ/dGhpcy56ZDp5Yyh0aGlzLkhhKTthPXRoaXMuQmYuY2UoZCxiLDEsYyxhKTtyZXR1cm4gMD09PWEubGVuZ3RoP251bGw6YVswXX07ZnVuY3Rpb24gemMoKXt0aGlzLlphPXt9fVxuZnVuY3Rpb24gZGMoYSxiKXt2YXIgYz1iLnR5cGUsZD1iLlVhO3coXCJjaGlsZF9hZGRlZFwiPT1jfHxcImNoaWxkX2NoYW5nZWRcIj09Y3x8XCJjaGlsZF9yZW1vdmVkXCI9PWMsXCJPbmx5IGNoaWxkIGNoYW5nZXMgc3VwcG9ydGVkIGZvciB0cmFja2luZ1wiKTt3KFwiLnByaW9yaXR5XCIhPT1kLFwiT25seSBub24tcHJpb3JpdHkgY2hpbGQgY2hhbmdlcyBjYW4gYmUgdHJhY2tlZC5cIik7dmFyIGU9dChhLlphLGQpO2lmKGUpe3ZhciBmPWUudHlwZTtpZihcImNoaWxkX2FkZGVkXCI9PWMmJlwiY2hpbGRfcmVtb3ZlZFwiPT1mKWEuWmFbZF09bmV3IEIoXCJjaGlsZF9jaGFuZ2VkXCIsYi5HYSxkLGUuR2EpO2Vsc2UgaWYoXCJjaGlsZF9yZW1vdmVkXCI9PWMmJlwiY2hpbGRfYWRkZWRcIj09ZilkZWxldGUgYS5aYVtkXTtlbHNlIGlmKFwiY2hpbGRfcmVtb3ZlZFwiPT1jJiZcImNoaWxkX2NoYW5nZWRcIj09ZilhLlphW2RdPW5ldyBCKFwiY2hpbGRfcmVtb3ZlZFwiLGUuQ2UsZCk7ZWxzZSBpZihcImNoaWxkX2NoYW5nZWRcIj09YyYmXG5cImNoaWxkX2FkZGVkXCI9PWYpYS5aYVtkXT1uZXcgQihcImNoaWxkX2FkZGVkXCIsYi5HYSxkKTtlbHNlIGlmKFwiY2hpbGRfY2hhbmdlZFwiPT1jJiZcImNoaWxkX2NoYW5nZWRcIj09ZilhLlphW2RdPW5ldyBCKFwiY2hpbGRfY2hhbmdlZFwiLGIuR2EsZCxlLkNlKTtlbHNlIHRocm93IGdiKFwiSWxsZWdhbCBjb21iaW5hdGlvbiBvZiBjaGFuZ2VzOiBcIitiK1wiIG9jY3VycmVkIGFmdGVyIFwiK2UpO31lbHNlIGEuWmFbZF09Yn07ZnVuY3Rpb24gTShhLGIpe3RoaXMubmFtZT1hO3RoaXMuWT1ifWZ1bmN0aW9uIEFjKGEsYil7cmV0dXJuIG5ldyBNKGEsYil9O2Z1bmN0aW9uIEJjKGEpe3RoaXMubWE9bmV3IGVjKGEpO3RoaXMuZz1hLmc7dyhhLmthLFwiT25seSB2YWxpZCBpZiBsaW1pdCBoYXMgYmVlbiBzZXRcIik7dGhpcy5zYT1hLnNhO3RoaXMueWI9IShcIlwiPT09YS5EYj9hLmlhOlwibFwiPT09YS5EYil9aD1CYy5wcm90b3R5cGU7aC5EPWZ1bmN0aW9uKGEsYixjLGQsZSl7dGhpcy5tYS5tYXRjaGVzKG5ldyBNKGIsYykpfHwoYz1MKTtyZXR1cm4gYS5KKGIpLmVhKGMpP2E6YS51YigpPHRoaXMuc2E/dGhpcy5tYS5MYigpLkQoYSxiLGMsZCxlKTpDYyh0aGlzLGEsYixjLGQsZSl9O1xuaC5vYT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ7aWYoYi5MKCl8fGIuZSgpKWQ9TC5FYih0aGlzLmcpO2Vsc2UgaWYoMip0aGlzLnNhPGIudWIoKSYmYi5BYyh0aGlzLmcpKXtkPUwuRWIodGhpcy5nKTtiPXRoaXMueWI/Yi5RYih0aGlzLm1hLnZjLHRoaXMuZyk6Yi5PYih0aGlzLm1hLlZjLHRoaXMuZyk7Zm9yKHZhciBlPTA7MDxiLk1hLmxlbmd0aCYmZTx0aGlzLnNhOyl7dmFyIGY9TyhiKSxnO2lmKGc9dGhpcy55Yj8wPj10aGlzLmcuY29tcGFyZSh0aGlzLm1hLlZjLGYpOjA+PXRoaXMuZy5jb21wYXJlKGYsdGhpcy5tYS52YykpZD1kLlAoZi5uYW1lLGYuWSksZSsrO2Vsc2UgYnJlYWt9fWVsc2V7ZD1iLkViKHRoaXMuZyk7ZD1kLlooTCk7dmFyIGssbCxuO2lmKHRoaXMueWIpe2I9ZC5lZih0aGlzLmcpO2s9dGhpcy5tYS52YztsPXRoaXMubWEuVmM7dmFyIHU9bmModGhpcy5nKTtuPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHUoYixhKX19ZWxzZSBiPWQuTmIodGhpcy5nKSxrPXRoaXMubWEuVmMsXG5sPXRoaXMubWEudmMsbj1uYyh0aGlzLmcpO2Zvcih2YXIgZT0wLHg9ITE7MDxiLk1hLmxlbmd0aDspZj1PKGIpLCF4JiYwPj1uKGssZikmJih4PSEwKSwoZz14JiZlPHRoaXMuc2EmJjA+PW4oZixsKSk/ZSsrOmQ9ZC5QKGYubmFtZSxMKX1yZXR1cm4gdGhpcy5tYS5MYigpLm9hKGEsZCxjKX07aC5aPWZ1bmN0aW9uKGEpe3JldHVybiBhfTtoLnlhPWZ1bmN0aW9uKCl7cmV0dXJuITB9O2guTGI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYS5MYigpfTtcbmZ1bmN0aW9uIENjKGEsYixjLGQsZSxmKXt2YXIgZztpZihhLnliKXt2YXIgaz1uYyhhLmcpO2c9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gayhiLGEpfX1lbHNlIGc9bmMoYS5nKTt3KGIudWIoKT09YS5zYSxcIlwiKTt2YXIgbD1uZXcgTShjLGQpLG49YS55Yj9EYyhiLGEuZyk6RWMoYixhLmcpLHU9YS5tYS5tYXRjaGVzKGwpO2lmKGIuRGEoYykpe3ZhciB4PWIuSihjKSxuPWUubmUoYS5nLG4sYS55Yik7bnVsbCE9biYmbi5uYW1lPT1jJiYobj1lLm5lKGEuZyxuLGEueWIpKTtlPW51bGw9PW4/MTpnKG4sbCk7aWYodSYmIWQuZSgpJiYwPD1lKXJldHVybiBudWxsIT1mJiZkYyhmLG5ldyBCKFwiY2hpbGRfY2hhbmdlZFwiLGQsYyx4KSksYi5QKGMsZCk7bnVsbCE9ZiYmZGMoZixuZXcgQihcImNoaWxkX3JlbW92ZWRcIix4LGMpKTtiPWIuUChjLEwpO3JldHVybiBudWxsIT1uJiZhLm1hLm1hdGNoZXMobik/KG51bGwhPWYmJmRjKGYsbmV3IEIoXCJjaGlsZF9hZGRlZFwiLG4uWSxuLm5hbWUpKSxiLlAobi5uYW1lLFxubi5ZKSk6Yn1yZXR1cm4gZC5lKCk/Yjp1JiYwPD1nKG4sbCk/KG51bGwhPWYmJihkYyhmLG5ldyBCKFwiY2hpbGRfcmVtb3ZlZFwiLG4uWSxuLm5hbWUpKSxkYyhmLG5ldyBCKFwiY2hpbGRfYWRkZWRcIixkLGMpKSksYi5QKGMsZCkuUChuLm5hbWUsTCkpOmJ9O2Z1bmN0aW9uIEZjKCl7dGhpcy51Yz10aGlzLnFhPXRoaXMuamM9dGhpcy5pYT10aGlzLmthPSExO3RoaXMuc2E9MDt0aGlzLkRiPVwiXCI7dGhpcy56Yz1udWxsO3RoaXMuVmI9XCJcIjt0aGlzLnljPW51bGw7dGhpcy5TYj1cIlwiO3RoaXMuZz1LfXZhciBHYz1uZXcgRmM7ZnVuY3Rpb24gZ2MoYSl7dyhhLmlhLFwiT25seSB2YWxpZCBpZiBzdGFydCBoYXMgYmVlbiBzZXRcIik7cmV0dXJuIGEuemN9ZnVuY3Rpb24gZmMoYSl7dyhhLmlhLFwiT25seSB2YWxpZCBpZiBzdGFydCBoYXMgYmVlbiBzZXRcIik7cmV0dXJuIGEuamM/YS5WYjpcIltNSU5fTkFNRV1cIn1mdW5jdGlvbiBpYyhhKXt3KGEucWEsXCJPbmx5IHZhbGlkIGlmIGVuZCBoYXMgYmVlbiBzZXRcIik7cmV0dXJuIGEueWN9ZnVuY3Rpb24gaGMoYSl7dyhhLnFhLFwiT25seSB2YWxpZCBpZiBlbmQgaGFzIGJlZW4gc2V0XCIpO3JldHVybiBhLnVjP2EuU2I6XCJbTUFYX05BTUVdXCJ9XG5mdW5jdGlvbiBIYyhhKXt2YXIgYj1uZXcgRmM7Yi5rYT1hLmthO2Iuc2E9YS5zYTtiLmlhPWEuaWE7Yi56Yz1hLnpjO2IuamM9YS5qYztiLlZiPWEuVmI7Yi5xYT1hLnFhO2IueWM9YS55YztiLnVjPWEudWM7Yi5TYj1hLlNiO2IuZz1hLmc7cmV0dXJuIGJ9aD1GYy5wcm90b3R5cGU7aC53ZT1mdW5jdGlvbihhKXt2YXIgYj1IYyh0aGlzKTtiLmthPSEwO2Iuc2E9YTtiLkRiPVwiXCI7cmV0dXJuIGJ9O2gueGU9ZnVuY3Rpb24oYSl7dmFyIGI9SGModGhpcyk7Yi5rYT0hMDtiLnNhPWE7Yi5EYj1cImxcIjtyZXR1cm4gYn07aC55ZT1mdW5jdGlvbihhKXt2YXIgYj1IYyh0aGlzKTtiLmthPSEwO2Iuc2E9YTtiLkRiPVwiclwiO3JldHVybiBifTtoLk9kPWZ1bmN0aW9uKGEsYil7dmFyIGM9SGModGhpcyk7Yy5pYT0hMDttKGEpfHwoYT1udWxsKTtjLnpjPWE7bnVsbCE9Yj8oYy5qYz0hMCxjLlZiPWIpOihjLmpjPSExLGMuVmI9XCJcIik7cmV0dXJuIGN9O1xuaC5oZD1mdW5jdGlvbihhLGIpe3ZhciBjPUhjKHRoaXMpO2MucWE9ITA7bShhKXx8KGE9bnVsbCk7Yy55Yz1hO20oYik/KGMudWM9ITAsYy5TYj1iKTooYy5JZz0hMSxjLlNiPVwiXCIpO3JldHVybiBjfTtmdW5jdGlvbiBJYyhhLGIpe3ZhciBjPUhjKGEpO2MuZz1iO3JldHVybiBjfWZ1bmN0aW9uIEpjKGEpe3JldHVybiEoYS5pYXx8YS5xYXx8YS5rYSl9O2Z1bmN0aW9uIFAoYSxiLGMsZCl7dGhpcy5rPWE7dGhpcy5wYXRoPWI7dGhpcy53PWM7dGhpcy4kYj1kfVxuZnVuY3Rpb24gS2MoYSl7dmFyIGI9bnVsbCxjPW51bGw7YS5pYSYmKGI9Z2MoYSkpO2EucWEmJihjPWljKGEpKTtpZihhLmc9PT1zYyl7aWYoYS5pYSl7aWYoXCJbTUlOX05BTUVdXCIhPWZjKGEpKXRocm93IEVycm9yKFwiUXVlcnk6IFdoZW4gb3JkZXJpbmcgYnkga2V5LCB5b3UgbWF5IG9ubHkgcGFzcyBvbmUgYXJndW1lbnQgdG8gc3RhcnRBdCgpLCBlbmRBdCgpLCBvciBlcXVhbFRvKCkuXCIpO2lmKG51bGwhPWImJlwic3RyaW5nXCIhPT10eXBlb2YgYil0aHJvdyBFcnJvcihcIlF1ZXJ5OiBXaGVuIG9yZGVyaW5nIGJ5IGtleSwgdGhlIGFyZ3VtZW50IHBhc3NlZCB0byBzdGFydEF0KCksIGVuZEF0KCksb3IgZXF1YWxUbygpIG11c3QgYmUgYSBzdHJpbmcuXCIpO31pZihhLnFhKXtpZihcIltNQVhfTkFNRV1cIiE9aGMoYSkpdGhyb3cgRXJyb3IoXCJRdWVyeTogV2hlbiBvcmRlcmluZyBieSBrZXksIHlvdSBtYXkgb25seSBwYXNzIG9uZSBhcmd1bWVudCB0byBzdGFydEF0KCksIGVuZEF0KCksIG9yIGVxdWFsVG8oKS5cIik7aWYobnVsbCE9XG5jJiZcInN0cmluZ1wiIT09dHlwZW9mIGMpdGhyb3cgRXJyb3IoXCJRdWVyeTogV2hlbiBvcmRlcmluZyBieSBrZXksIHRoZSBhcmd1bWVudCBwYXNzZWQgdG8gc3RhcnRBdCgpLCBlbmRBdCgpLG9yIGVxdWFsVG8oKSBtdXN0IGJlIGEgc3RyaW5nLlwiKTt9fWVsc2UgaWYoYS5nPT09Syl7aWYobnVsbCE9YiYmIVJiKGIpfHxudWxsIT1jJiYhUmIoYykpdGhyb3cgRXJyb3IoXCJRdWVyeTogV2hlbiBvcmRlcmluZyBieSBwcmlvcml0eSwgdGhlIGZpcnN0IGFyZ3VtZW50IHBhc3NlZCB0byBzdGFydEF0KCksIGVuZEF0KCksIG9yIGVxdWFsVG8oKSBtdXN0IGJlIGEgdmFsaWQgcHJpb3JpdHkgdmFsdWUgKG51bGwsIGEgbnVtYmVyLCBvciBhIHN0cmluZykuXCIpO31lbHNlIGlmKHcoYS5nIGluc3RhbmNlb2YgcGMsXCJ1bmtub3duIGluZGV4IHR5cGUuXCIpLG51bGwhPWImJlwib2JqZWN0XCI9PT10eXBlb2YgYnx8bnVsbCE9YyYmXCJvYmplY3RcIj09PXR5cGVvZiBjKXRocm93IEVycm9yKFwiUXVlcnk6IEZpcnN0IGFyZ3VtZW50IHBhc3NlZCB0byBzdGFydEF0KCksIGVuZEF0KCksIG9yIGVxdWFsVG8oKSBjYW5ub3QgYmUgYW4gb2JqZWN0LlwiKTtcbn1mdW5jdGlvbiBMYyhhKXtpZihhLmlhJiZhLnFhJiZhLmthJiYoIWEua2F8fFwiXCI9PT1hLkRiKSl0aHJvdyBFcnJvcihcIlF1ZXJ5OiBDYW4ndCBjb21iaW5lIHN0YXJ0QXQoKSwgZW5kQXQoKSwgYW5kIGxpbWl0KCkuIFVzZSBsaW1pdFRvRmlyc3QoKSBvciBsaW1pdFRvTGFzdCgpIGluc3RlYWQuXCIpO31mdW5jdGlvbiBNYyhhLGIpe2lmKCEwPT09YS4kYil0aHJvdyBFcnJvcihiK1wiOiBZb3UgY2FuJ3QgY29tYmluZSBtdWx0aXBsZSBvcmRlckJ5IGNhbGxzLlwiKTt9UC5wcm90b3R5cGUuY2M9ZnVuY3Rpb24oKXtEKFwiUXVlcnkucmVmXCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpO3JldHVybiBuZXcgUSh0aGlzLmssdGhpcy5wYXRoKX07UC5wcm90b3R5cGUucmVmPVAucHJvdG90eXBlLmNjO1xuUC5wcm90b3R5cGUudmI9ZnVuY3Rpb24oYSxiLGMsZCl7RChcIlF1ZXJ5Lm9uXCIsMiw0LGFyZ3VtZW50cy5sZW5ndGgpO1hiKFwiUXVlcnkub25cIixhLCExKTtHKFwiUXVlcnkub25cIiwyLGIsITEpO3ZhciBlPU5jKFwiUXVlcnkub25cIixjLGQpO2lmKFwidmFsdWVcIj09PWEpT2ModGhpcy5rLHRoaXMsbmV3IEliKGIsZS5jYW5jZWx8fG51bGwsZS5KYXx8bnVsbCkpO2Vsc2V7dmFyIGY9e307ZlthXT1iO09jKHRoaXMuayx0aGlzLG5ldyBKYihmLGUuY2FuY2VsLGUuSmEpKX1yZXR1cm4gYn07UC5wcm90b3R5cGUub249UC5wcm90b3R5cGUudmI7XG5QLnByb3RvdHlwZS5ZYj1mdW5jdGlvbihhLGIsYyl7RChcIlF1ZXJ5Lm9mZlwiLDAsMyxhcmd1bWVudHMubGVuZ3RoKTtYYihcIlF1ZXJ5Lm9mZlwiLGEsITApO0coXCJRdWVyeS5vZmZcIiwyLGIsITApO05iKFwiUXVlcnkub2ZmXCIsMyxjKTt2YXIgZD1udWxsLGU9bnVsbDtcInZhbHVlXCI9PT1hP2Q9bmV3IEliKGJ8fG51bGwsbnVsbCxjfHxudWxsKTphJiYoYiYmKGU9e30sZVthXT1iKSxkPW5ldyBKYihlLG51bGwsY3x8bnVsbCkpO2U9dGhpcy5rO2Q9XCIuaW5mb1wiPT09SCh0aGlzLnBhdGgpP2UucWQuZ2IodGhpcyxkKTplLk0uZ2IodGhpcyxkKTtQYyhlLiQsdGhpcy5wYXRoLGQpfTtQLnByb3RvdHlwZS5vZmY9UC5wcm90b3R5cGUuWWI7XG5QLnByb3RvdHlwZS5sZz1mdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoZyl7ZiYmKGY9ITEsZS5ZYihhLGMpLGIuY2FsbChkLkphLGcpKX1EKFwiUXVlcnkub25jZVwiLDIsNCxhcmd1bWVudHMubGVuZ3RoKTtYYihcIlF1ZXJ5Lm9uY2VcIixhLCExKTtHKFwiUXVlcnkub25jZVwiLDIsYiwhMSk7dmFyIGQ9TmMoXCJRdWVyeS5vbmNlXCIsYXJndW1lbnRzWzJdLGFyZ3VtZW50c1szXSksZT10aGlzLGY9ITA7dGhpcy52YihhLGMsZnVuY3Rpb24oYil7ZS5ZYihhLGMpO2QuY2FuY2VsJiZkLmNhbmNlbC5jYWxsKGQuSmEsYil9KX07UC5wcm90b3R5cGUub25jZT1QLnByb3RvdHlwZS5sZztcblAucHJvdG90eXBlLndlPWZ1bmN0aW9uKGEpe3koXCJRdWVyeS5saW1pdCgpIGJlaW5nIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgUXVlcnkubGltaXRUb0ZpcnN0KCkgb3IgUXVlcnkubGltaXRUb0xhc3QoKSBpbnN0ZWFkLlwiKTtEKFwiUXVlcnkubGltaXRcIiwxLDEsYXJndW1lbnRzLmxlbmd0aCk7aWYoIWdhKGEpfHxNYXRoLmZsb29yKGEpIT09YXx8MD49YSl0aHJvdyBFcnJvcihcIlF1ZXJ5LmxpbWl0OiBGaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgcG9zaXRpdmUgaW50ZWdlci5cIik7aWYodGhpcy53LmthKXRocm93IEVycm9yKFwiUXVlcnkubGltaXQ6IExpbWl0IHdhcyBhbHJlYWR5IHNldCAoYnkgYW5vdGhlciBjYWxsIHRvIGxpbWl0LCBsaW1pdFRvRmlyc3QsIG9ybGltaXRUb0xhc3QuXCIpO3ZhciBiPXRoaXMudy53ZShhKTtMYyhiKTtyZXR1cm4gbmV3IFAodGhpcy5rLHRoaXMucGF0aCxiLHRoaXMuJGIpfTtQLnByb3RvdHlwZS5saW1pdD1QLnByb3RvdHlwZS53ZTtcblAucHJvdG90eXBlLnhlPWZ1bmN0aW9uKGEpe0QoXCJRdWVyeS5saW1pdFRvRmlyc3RcIiwxLDEsYXJndW1lbnRzLmxlbmd0aCk7aWYoIWdhKGEpfHxNYXRoLmZsb29yKGEpIT09YXx8MD49YSl0aHJvdyBFcnJvcihcIlF1ZXJ5LmxpbWl0VG9GaXJzdDogRmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhIHBvc2l0aXZlIGludGVnZXIuXCIpO2lmKHRoaXMudy5rYSl0aHJvdyBFcnJvcihcIlF1ZXJ5LmxpbWl0VG9GaXJzdDogTGltaXQgd2FzIGFscmVhZHkgc2V0IChieSBhbm90aGVyIGNhbGwgdG8gbGltaXQsIGxpbWl0VG9GaXJzdCwgb3IgbGltaXRUb0xhc3QpLlwiKTtyZXR1cm4gbmV3IFAodGhpcy5rLHRoaXMucGF0aCx0aGlzLncueGUoYSksdGhpcy4kYil9O1AucHJvdG90eXBlLmxpbWl0VG9GaXJzdD1QLnByb3RvdHlwZS54ZTtcblAucHJvdG90eXBlLnllPWZ1bmN0aW9uKGEpe0QoXCJRdWVyeS5saW1pdFRvTGFzdFwiLDEsMSxhcmd1bWVudHMubGVuZ3RoKTtpZighZ2EoYSl8fE1hdGguZmxvb3IoYSkhPT1hfHwwPj1hKXRocm93IEVycm9yKFwiUXVlcnkubGltaXRUb0xhc3Q6IEZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBwb3NpdGl2ZSBpbnRlZ2VyLlwiKTtpZih0aGlzLncua2EpdGhyb3cgRXJyb3IoXCJRdWVyeS5saW1pdFRvTGFzdDogTGltaXQgd2FzIGFscmVhZHkgc2V0IChieSBhbm90aGVyIGNhbGwgdG8gbGltaXQsIGxpbWl0VG9GaXJzdCwgb3IgbGltaXRUb0xhc3QpLlwiKTtyZXR1cm4gbmV3IFAodGhpcy5rLHRoaXMucGF0aCx0aGlzLncueWUoYSksdGhpcy4kYil9O1AucHJvdG90eXBlLmxpbWl0VG9MYXN0PVAucHJvdG90eXBlLnllO1xuUC5wcm90b3R5cGUubWc9ZnVuY3Rpb24oYSl7RChcIlF1ZXJ5Lm9yZGVyQnlDaGlsZFwiLDEsMSxhcmd1bWVudHMubGVuZ3RoKTtpZihcIiRrZXlcIj09PWEpdGhyb3cgRXJyb3IoJ1F1ZXJ5Lm9yZGVyQnlDaGlsZDogXCIka2V5XCIgaXMgaW52YWxpZC4gIFVzZSBRdWVyeS5vcmRlckJ5S2V5KCkgaW5zdGVhZC4nKTtpZihcIiRwcmlvcml0eVwiPT09YSl0aHJvdyBFcnJvcignUXVlcnkub3JkZXJCeUNoaWxkOiBcIiRwcmlvcml0eVwiIGlzIGludmFsaWQuICBVc2UgUXVlcnkub3JkZXJCeVByaW9yaXR5KCkgaW5zdGVhZC4nKTtZYihcIlF1ZXJ5Lm9yZGVyQnlDaGlsZFwiLDEsYSwhMSk7TWModGhpcyxcIlF1ZXJ5Lm9yZGVyQnlDaGlsZFwiKTt2YXIgYj1JYyh0aGlzLncsbmV3IHBjKGEpKTtLYyhiKTtyZXR1cm4gbmV3IFAodGhpcy5rLHRoaXMucGF0aCxiLCEwKX07UC5wcm90b3R5cGUub3JkZXJCeUNoaWxkPVAucHJvdG90eXBlLm1nO1xuUC5wcm90b3R5cGUubmc9ZnVuY3Rpb24oKXtEKFwiUXVlcnkub3JkZXJCeUtleVwiLDAsMCxhcmd1bWVudHMubGVuZ3RoKTtNYyh0aGlzLFwiUXVlcnkub3JkZXJCeUtleVwiKTt2YXIgYT1JYyh0aGlzLncsc2MpO0tjKGEpO3JldHVybiBuZXcgUCh0aGlzLmssdGhpcy5wYXRoLGEsITApfTtQLnByb3RvdHlwZS5vcmRlckJ5S2V5PVAucHJvdG90eXBlLm5nO1AucHJvdG90eXBlLm9nPWZ1bmN0aW9uKCl7RChcIlF1ZXJ5Lm9yZGVyQnlQcmlvcml0eVwiLDAsMCxhcmd1bWVudHMubGVuZ3RoKTtNYyh0aGlzLFwiUXVlcnkub3JkZXJCeVByaW9yaXR5XCIpO3ZhciBhPUljKHRoaXMudyxLKTtLYyhhKTtyZXR1cm4gbmV3IFAodGhpcy5rLHRoaXMucGF0aCxhLCEwKX07UC5wcm90b3R5cGUub3JkZXJCeVByaW9yaXR5PVAucHJvdG90eXBlLm9nO1xuUC5wcm90b3R5cGUuT2Q9ZnVuY3Rpb24oYSxiKXtEKFwiUXVlcnkuc3RhcnRBdFwiLDAsMixhcmd1bWVudHMubGVuZ3RoKTtTYihcIlF1ZXJ5LnN0YXJ0QXRcIixhLCEwKTtZYihcIlF1ZXJ5LnN0YXJ0QXRcIiwyLGIsITApO3ZhciBjPXRoaXMudy5PZChhLGIpO0xjKGMpO0tjKGMpO2lmKHRoaXMudy5pYSl0aHJvdyBFcnJvcihcIlF1ZXJ5LnN0YXJ0QXQ6IFN0YXJ0aW5nIHBvaW50IHdhcyBhbHJlYWR5IHNldCAoYnkgYW5vdGhlciBjYWxsIHRvIHN0YXJ0QXQgb3IgZXF1YWxUbykuXCIpO20oYSl8fChiPWE9bnVsbCk7cmV0dXJuIG5ldyBQKHRoaXMuayx0aGlzLnBhdGgsYyx0aGlzLiRiKX07UC5wcm90b3R5cGUuc3RhcnRBdD1QLnByb3RvdHlwZS5PZDtcblAucHJvdG90eXBlLmhkPWZ1bmN0aW9uKGEsYil7RChcIlF1ZXJ5LmVuZEF0XCIsMCwyLGFyZ3VtZW50cy5sZW5ndGgpO1NiKFwiUXVlcnkuZW5kQXRcIixhLCEwKTtZYihcIlF1ZXJ5LmVuZEF0XCIsMixiLCEwKTt2YXIgYz10aGlzLncuaGQoYSxiKTtMYyhjKTtLYyhjKTtpZih0aGlzLncucWEpdGhyb3cgRXJyb3IoXCJRdWVyeS5lbmRBdDogRW5kaW5nIHBvaW50IHdhcyBhbHJlYWR5IHNldCAoYnkgYW5vdGhlciBjYWxsIHRvIGVuZEF0IG9yIGVxdWFsVG8pLlwiKTtyZXR1cm4gbmV3IFAodGhpcy5rLHRoaXMucGF0aCxjLHRoaXMuJGIpfTtQLnByb3RvdHlwZS5lbmRBdD1QLnByb3RvdHlwZS5oZDtcblAucHJvdG90eXBlLlRmPWZ1bmN0aW9uKGEsYil7RChcIlF1ZXJ5LmVxdWFsVG9cIiwxLDIsYXJndW1lbnRzLmxlbmd0aCk7U2IoXCJRdWVyeS5lcXVhbFRvXCIsYSwhMSk7WWIoXCJRdWVyeS5lcXVhbFRvXCIsMixiLCEwKTtpZih0aGlzLncuaWEpdGhyb3cgRXJyb3IoXCJRdWVyeS5lcXVhbFRvOiBTdGFydGluZyBwb2ludCB3YXMgYWxyZWFkeSBzZXQgKGJ5IGFub3RoZXIgY2FsbCB0byBlbmRBdCBvciBlcXVhbFRvKS5cIik7aWYodGhpcy53LnFhKXRocm93IEVycm9yKFwiUXVlcnkuZXF1YWxUbzogRW5kaW5nIHBvaW50IHdhcyBhbHJlYWR5IHNldCAoYnkgYW5vdGhlciBjYWxsIHRvIGVuZEF0IG9yIGVxdWFsVG8pLlwiKTtyZXR1cm4gdGhpcy5PZChhLGIpLmhkKGEsYil9O1AucHJvdG90eXBlLmVxdWFsVG89UC5wcm90b3R5cGUuVGY7XG5mdW5jdGlvbiBRYyhhKXthPWEudzt2YXIgYj17fTthLmlhJiYoYi5zcD1hLnpjLGEuamMmJihiLnNuPWEuVmIpKTthLnFhJiYoYi5lcD1hLnljLGEudWMmJihiLmVuPWEuU2IpKTtpZihhLmthKXtiLmw9YS5zYTt2YXIgYz1hLkRiO1wiXCI9PT1jJiYoYz1hLmlhP1wibFwiOlwiclwiKTtiLnZmPWN9YS5nIT09SyYmKGIuaT1hLmcudG9TdHJpbmcoKSk7cmV0dXJuIGJ9UC5wcm90b3R5cGUuRmE9ZnVuY3Rpb24oKXt2YXIgYT15YihRYyh0aGlzKSk7cmV0dXJuXCJ7fVwiPT09YT9cImRlZmF1bHRcIjphfTtcbmZ1bmN0aW9uIE5jKGEsYixjKXt2YXIgZD17Y2FuY2VsOm51bGwsSmE6bnVsbH07aWYoYiYmYylkLmNhbmNlbD1iLEcoYSwzLGQuY2FuY2VsLCEwKSxkLkphPWMsTmIoYSw0LGQuSmEpO2Vsc2UgaWYoYilpZihcIm9iamVjdFwiPT09dHlwZW9mIGImJm51bGwhPT1iKWQuSmE9YjtlbHNlIGlmKFwiZnVuY3Rpb25cIj09PXR5cGVvZiBiKWQuY2FuY2VsPWI7ZWxzZSB0aHJvdyBFcnJvcihGKGEsMywhMCkrXCIgbXVzdCBlaXRoZXIgYmUgYSBjYW5jZWwgY2FsbGJhY2sgb3IgYSBjb250ZXh0IG9iamVjdC5cIik7cmV0dXJuIGR9O2Z1bmN0aW9uIFIoYSxiKXtpZigxPT1hcmd1bWVudHMubGVuZ3RoKXt0aGlzLnU9YS5zcGxpdChcIi9cIik7Zm9yKHZhciBjPTAsZD0wO2Q8dGhpcy51Lmxlbmd0aDtkKyspMDx0aGlzLnVbZF0ubGVuZ3RoJiYodGhpcy51W2NdPXRoaXMudVtkXSxjKyspO3RoaXMudS5sZW5ndGg9Yzt0aGlzLmNhPTB9ZWxzZSB0aGlzLnU9YSx0aGlzLmNhPWJ9ZnVuY3Rpb24gSChhKXtyZXR1cm4gYS5jYT49YS51Lmxlbmd0aD9udWxsOmEudVthLmNhXX1mdW5jdGlvbiBSYyhhKXtyZXR1cm4gYS51Lmxlbmd0aC1hLmNhfWZ1bmN0aW9uIFMoYSl7dmFyIGI9YS5jYTtiPGEudS5sZW5ndGgmJmIrKztyZXR1cm4gbmV3IFIoYS51LGIpfWZ1bmN0aW9uIFNjKGEpe3JldHVybiBhLmNhPGEudS5sZW5ndGg/YS51W2EudS5sZW5ndGgtMV06bnVsbH1cblIucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPVwiXCIsYj10aGlzLmNhO2I8dGhpcy51Lmxlbmd0aDtiKyspXCJcIiE9PXRoaXMudVtiXSYmKGErPVwiL1wiK3RoaXMudVtiXSk7cmV0dXJuIGF8fFwiL1wifTtSLnByb3RvdHlwZS5wYXJlbnQ9ZnVuY3Rpb24oKXtpZih0aGlzLmNhPj10aGlzLnUubGVuZ3RoKXJldHVybiBudWxsO2Zvcih2YXIgYT1bXSxiPXRoaXMuY2E7Yjx0aGlzLnUubGVuZ3RoLTE7YisrKWEucHVzaCh0aGlzLnVbYl0pO3JldHVybiBuZXcgUihhLDApfTtcblIucHJvdG90eXBlLm49ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVtdLGM9dGhpcy5jYTtjPHRoaXMudS5sZW5ndGg7YysrKWIucHVzaCh0aGlzLnVbY10pO2lmKGEgaW5zdGFuY2VvZiBSKWZvcihjPWEuY2E7YzxhLnUubGVuZ3RoO2MrKyliLnB1c2goYS51W2NdKTtlbHNlIGZvcihhPWEuc3BsaXQoXCIvXCIpLGM9MDtjPGEubGVuZ3RoO2MrKykwPGFbY10ubGVuZ3RoJiZiLnB1c2goYVtjXSk7cmV0dXJuIG5ldyBSKGIsMCl9O1IucHJvdG90eXBlLmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jYT49dGhpcy51Lmxlbmd0aH07dmFyIFQ9bmV3IFIoXCJcIik7ZnVuY3Rpb24gVShhLGIpe3ZhciBjPUgoYSk7aWYobnVsbD09PWMpcmV0dXJuIGI7aWYoYz09PUgoYikpcmV0dXJuIFUoUyhhKSxTKGIpKTt0aHJvdyBFcnJvcihcIklOVEVSTkFMIEVSUk9SOiBpbm5lclBhdGggKFwiK2IrXCIpIGlzIG5vdCB3aXRoaW4gb3V0ZXJQYXRoIChcIithK1wiKVwiKTt9XG5SLnByb3RvdHlwZS5lYT1mdW5jdGlvbihhKXtpZihSYyh0aGlzKSE9PVJjKGEpKXJldHVybiExO2Zvcih2YXIgYj10aGlzLmNhLGM9YS5jYTtiPD10aGlzLnUubGVuZ3RoO2IrKyxjKyspaWYodGhpcy51W2JdIT09YS51W2NdKXJldHVybiExO3JldHVybiEwfTtSLnByb3RvdHlwZS5jb250YWlucz1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmNhLGM9YS5jYTtpZihSYyh0aGlzKT5SYyhhKSlyZXR1cm4hMTtmb3IoO2I8dGhpcy51Lmxlbmd0aDspe2lmKHRoaXMudVtiXSE9PWEudVtjXSlyZXR1cm4hMTsrK2I7KytjfXJldHVybiEwfTtmdW5jdGlvbiBUYygpe3RoaXMuY2hpbGRyZW49e307dGhpcy5iZD0wO3RoaXMudmFsdWU9bnVsbH1mdW5jdGlvbiBVYyhhLGIsYyl7dGhpcy51ZD1hP2E6XCJcIjt0aGlzLk5jPWI/YjpudWxsO3RoaXMuQj1jP2M6bmV3IFRjfWZ1bmN0aW9uIFZjKGEsYil7Zm9yKHZhciBjPWIgaW5zdGFuY2VvZiBSP2I6bmV3IFIoYiksZD1hLGU7bnVsbCE9PShlPUgoYykpOylkPW5ldyBVYyhlLGQsdChkLkIuY2hpbGRyZW4sZSl8fG5ldyBUYyksYz1TKGMpO3JldHVybiBkfWg9VWMucHJvdG90eXBlO2guemE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5CLnZhbHVlfTtmdW5jdGlvbiBXYyhhLGIpe3coXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBiLFwiQ2Fubm90IHNldCB2YWx1ZSB0byB1bmRlZmluZWRcIik7YS5CLnZhbHVlPWI7WGMoYSl9aC5jbGVhcj1mdW5jdGlvbigpe3RoaXMuQi52YWx1ZT1udWxsO3RoaXMuQi5jaGlsZHJlbj17fTt0aGlzLkIuYmQ9MDtYYyh0aGlzKX07XG5oLmxkPWZ1bmN0aW9uKCl7cmV0dXJuIDA8dGhpcy5CLmJkfTtoLmU9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09PXRoaXMuemEoKSYmIXRoaXMubGQoKX07aC5UPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7eih0aGlzLkIuY2hpbGRyZW4sZnVuY3Rpb24oYyxkKXthKG5ldyBVYyhkLGIsYykpfSl9O2Z1bmN0aW9uIFljKGEsYixjLGQpe2MmJiFkJiZiKGEpO2EuVChmdW5jdGlvbihhKXtZYyhhLGIsITAsZCl9KTtjJiZkJiZiKGEpfWZ1bmN0aW9uIFpjKGEsYil7Zm9yKHZhciBjPWEucGFyZW50KCk7bnVsbCE9PWMmJiFiKGMpOyljPWMucGFyZW50KCl9aC5wYXRoPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBSKG51bGw9PT10aGlzLk5jP3RoaXMudWQ6dGhpcy5OYy5wYXRoKCkrXCIvXCIrdGhpcy51ZCl9O2gubmFtZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnVkfTtoLnBhcmVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLk5jfTtcbmZ1bmN0aW9uIFhjKGEpe2lmKG51bGwhPT1hLk5jKXt2YXIgYj1hLk5jLGM9YS51ZCxkPWEuZSgpLGU9cyhiLkIuY2hpbGRyZW4sYyk7ZCYmZT8oZGVsZXRlIGIuQi5jaGlsZHJlbltjXSxiLkIuYmQtLSxYYyhiKSk6ZHx8ZXx8KGIuQi5jaGlsZHJlbltjXT1hLkIsYi5CLmJkKyssWGMoYikpfX07ZnVuY3Rpb24gJGMoYSxiKXt0aGlzLklhPWE7dGhpcy51YT1iP2I6YWR9aD0kYy5wcm90b3R5cGU7aC5LYT1mdW5jdGlvbihhLGIpe3JldHVybiBuZXcgJGModGhpcy5JYSx0aGlzLnVhLkthKGEsYix0aGlzLklhKS5YKG51bGwsbnVsbCwhMSxudWxsLG51bGwpKX07aC5yZW1vdmU9ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyAkYyh0aGlzLklhLHRoaXMudWEucmVtb3ZlKGEsdGhpcy5JYSkuWChudWxsLG51bGwsITEsbnVsbCxudWxsKSl9O2guZ2V0PWZ1bmN0aW9uKGEpe2Zvcih2YXIgYixjPXRoaXMudWE7IWMuZSgpOyl7Yj10aGlzLklhKGEsYy5rZXkpO2lmKDA9PT1iKXJldHVybiBjLnZhbHVlOzA+Yj9jPWMubGVmdDowPGImJihjPWMucmlnaHQpfXJldHVybiBudWxsfTtcbmZ1bmN0aW9uIGJkKGEsYil7Zm9yKHZhciBjLGQ9YS51YSxlPW51bGw7IWQuZSgpOyl7Yz1hLklhKGIsZC5rZXkpO2lmKDA9PT1jKXtpZihkLmxlZnQuZSgpKXJldHVybiBlP2Uua2V5Om51bGw7Zm9yKGQ9ZC5sZWZ0OyFkLnJpZ2h0LmUoKTspZD1kLnJpZ2h0O3JldHVybiBkLmtleX0wPmM/ZD1kLmxlZnQ6MDxjJiYoZT1kLGQ9ZC5yaWdodCl9dGhyb3cgRXJyb3IoXCJBdHRlbXB0ZWQgdG8gZmluZCBwcmVkZWNlc3NvciBrZXkgZm9yIGEgbm9uZXhpc3RlbnQga2V5LiAgV2hhdCBnaXZlcz9cIik7fWguZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnVhLmUoKX07aC5jb3VudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnVhLmNvdW50KCl9O2guSGM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51YS5IYygpfTtoLldiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudWEuV2IoKX07aC5mYT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy51YS5mYShhKX07XG5oLk5iPWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgY2QodGhpcy51YSxudWxsLHRoaXMuSWEsITEsYSl9O2guT2I9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbmV3IGNkKHRoaXMudWEsYSx0aGlzLklhLCExLGIpfTtoLlFiPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyBjZCh0aGlzLnVhLGEsdGhpcy5JYSwhMCxiKX07aC5lZj1mdW5jdGlvbihhKXtyZXR1cm4gbmV3IGNkKHRoaXMudWEsbnVsbCx0aGlzLklhLCEwLGEpfTtmdW5jdGlvbiBjZChhLGIsYyxkLGUpe3RoaXMuSWQ9ZXx8bnVsbDt0aGlzLnVlPWQ7dGhpcy5NYT1bXTtmb3IoZT0xOyFhLmUoKTspaWYoZT1iP2MoYS5rZXksYik6MSxkJiYoZSo9LTEpLDA+ZSlhPXRoaXMudWU/YS5sZWZ0OmEucmlnaHQ7ZWxzZSBpZigwPT09ZSl7dGhpcy5NYS5wdXNoKGEpO2JyZWFrfWVsc2UgdGhpcy5NYS5wdXNoKGEpLGE9dGhpcy51ZT9hLnJpZ2h0OmEubGVmdH1cbmZ1bmN0aW9uIE8oYSl7aWYoMD09PWEuTWEubGVuZ3RoKXJldHVybiBudWxsO3ZhciBiPWEuTWEucG9wKCksYztjPWEuSWQ/YS5JZChiLmtleSxiLnZhbHVlKTp7a2V5OmIua2V5LHZhbHVlOmIudmFsdWV9O2lmKGEudWUpZm9yKGI9Yi5sZWZ0OyFiLmUoKTspYS5NYS5wdXNoKGIpLGI9Yi5yaWdodDtlbHNlIGZvcihiPWIucmlnaHQ7IWIuZSgpOylhLk1hLnB1c2goYiksYj1iLmxlZnQ7cmV0dXJuIGN9ZnVuY3Rpb24gZGQoYSl7aWYoMD09PWEuTWEubGVuZ3RoKXJldHVybiBudWxsO3ZhciBiO2I9YS5NYTtiPWJbYi5sZW5ndGgtMV07cmV0dXJuIGEuSWQ/YS5JZChiLmtleSxiLnZhbHVlKTp7a2V5OmIua2V5LHZhbHVlOmIudmFsdWV9fWZ1bmN0aW9uIGVkKGEsYixjLGQsZSl7dGhpcy5rZXk9YTt0aGlzLnZhbHVlPWI7dGhpcy5jb2xvcj1udWxsIT1jP2M6ITA7dGhpcy5sZWZ0PW51bGwhPWQ/ZDphZDt0aGlzLnJpZ2h0PW51bGwhPWU/ZTphZH1oPWVkLnByb3RvdHlwZTtcbmguWD1mdW5jdGlvbihhLGIsYyxkLGUpe3JldHVybiBuZXcgZWQobnVsbCE9YT9hOnRoaXMua2V5LG51bGwhPWI/Yjp0aGlzLnZhbHVlLG51bGwhPWM/Yzp0aGlzLmNvbG9yLG51bGwhPWQ/ZDp0aGlzLmxlZnQsbnVsbCE9ZT9lOnRoaXMucmlnaHQpfTtoLmNvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGVmdC5jb3VudCgpKzErdGhpcy5yaWdodC5jb3VudCgpfTtoLmU9ZnVuY3Rpb24oKXtyZXR1cm4hMX07aC5mYT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5sZWZ0LmZhKGEpfHxhKHRoaXMua2V5LHRoaXMudmFsdWUpfHx0aGlzLnJpZ2h0LmZhKGEpfTtmdW5jdGlvbiBnZChhKXtyZXR1cm4gYS5sZWZ0LmUoKT9hOmdkKGEubGVmdCl9aC5IYz1mdW5jdGlvbigpe3JldHVybiBnZCh0aGlzKS5rZXl9O2guV2I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yaWdodC5lKCk/dGhpcy5rZXk6dGhpcy5yaWdodC5XYigpfTtcbmguS2E9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGU7ZT10aGlzO2Q9YyhhLGUua2V5KTtlPTA+ZD9lLlgobnVsbCxudWxsLG51bGwsZS5sZWZ0LkthKGEsYixjKSxudWxsKTowPT09ZD9lLlgobnVsbCxiLG51bGwsbnVsbCxudWxsKTplLlgobnVsbCxudWxsLG51bGwsbnVsbCxlLnJpZ2h0LkthKGEsYixjKSk7cmV0dXJuIGhkKGUpfTtmdW5jdGlvbiBpZChhKXtpZihhLmxlZnQuZSgpKXJldHVybiBhZDthLmxlZnQuYmEoKXx8YS5sZWZ0LmxlZnQuYmEoKXx8KGE9amQoYSkpO2E9YS5YKG51bGwsbnVsbCxudWxsLGlkKGEubGVmdCksbnVsbCk7cmV0dXJuIGhkKGEpfVxuaC5yZW1vdmU9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkO2M9dGhpcztpZigwPmIoYSxjLmtleSkpYy5sZWZ0LmUoKXx8Yy5sZWZ0LmJhKCl8fGMubGVmdC5sZWZ0LmJhKCl8fChjPWpkKGMpKSxjPWMuWChudWxsLG51bGwsbnVsbCxjLmxlZnQucmVtb3ZlKGEsYiksbnVsbCk7ZWxzZXtjLmxlZnQuYmEoKSYmKGM9a2QoYykpO2MucmlnaHQuZSgpfHxjLnJpZ2h0LmJhKCl8fGMucmlnaHQubGVmdC5iYSgpfHwoYz1sZChjKSxjLmxlZnQubGVmdC5iYSgpJiYoYz1rZChjKSxjPWxkKGMpKSk7aWYoMD09PWIoYSxjLmtleSkpe2lmKGMucmlnaHQuZSgpKXJldHVybiBhZDtkPWdkKGMucmlnaHQpO2M9Yy5YKGQua2V5LGQudmFsdWUsbnVsbCxudWxsLGlkKGMucmlnaHQpKX1jPWMuWChudWxsLG51bGwsbnVsbCxudWxsLGMucmlnaHQucmVtb3ZlKGEsYikpfXJldHVybiBoZChjKX07aC5iYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbG9yfTtcbmZ1bmN0aW9uIGhkKGEpe2EucmlnaHQuYmEoKSYmIWEubGVmdC5iYSgpJiYoYT1tZChhKSk7YS5sZWZ0LmJhKCkmJmEubGVmdC5sZWZ0LmJhKCkmJihhPWtkKGEpKTthLmxlZnQuYmEoKSYmYS5yaWdodC5iYSgpJiYoYT1sZChhKSk7cmV0dXJuIGF9ZnVuY3Rpb24gamQoYSl7YT1sZChhKTthLnJpZ2h0LmxlZnQuYmEoKSYmKGE9YS5YKG51bGwsbnVsbCxudWxsLG51bGwsa2QoYS5yaWdodCkpLGE9bWQoYSksYT1sZChhKSk7cmV0dXJuIGF9ZnVuY3Rpb24gbWQoYSl7cmV0dXJuIGEucmlnaHQuWChudWxsLG51bGwsYS5jb2xvcixhLlgobnVsbCxudWxsLCEwLG51bGwsYS5yaWdodC5sZWZ0KSxudWxsKX1mdW5jdGlvbiBrZChhKXtyZXR1cm4gYS5sZWZ0LlgobnVsbCxudWxsLGEuY29sb3IsbnVsbCxhLlgobnVsbCxudWxsLCEwLGEubGVmdC5yaWdodCxudWxsKSl9XG5mdW5jdGlvbiBsZChhKXtyZXR1cm4gYS5YKG51bGwsbnVsbCwhYS5jb2xvcixhLmxlZnQuWChudWxsLG51bGwsIWEubGVmdC5jb2xvcixudWxsLG51bGwpLGEucmlnaHQuWChudWxsLG51bGwsIWEucmlnaHQuY29sb3IsbnVsbCxudWxsKSl9ZnVuY3Rpb24gbmQoKXt9aD1uZC5wcm90b3R5cGU7aC5YPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O2guS2E9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbmV3IGVkKGEsYixudWxsKX07aC5yZW1vdmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307aC5jb3VudD1mdW5jdGlvbigpe3JldHVybiAwfTtoLmU9ZnVuY3Rpb24oKXtyZXR1cm4hMH07aC5mYT1mdW5jdGlvbigpe3JldHVybiExfTtoLkhjPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9O2guV2I9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH07aC5iYT1mdW5jdGlvbigpe3JldHVybiExfTt2YXIgYWQ9bmV3IG5kO2Z1bmN0aW9uIG9kKGEsYil7dGhpcy5BPWE7dyhtKHRoaXMuQSkmJm51bGwhPT10aGlzLkEsXCJMZWFmTm9kZSBzaG91bGRuJ3QgYmUgY3JlYXRlZCB3aXRoIG51bGwvdW5kZWZpbmVkIHZhbHVlLlwiKTt0aGlzLmhhPWJ8fEw7cGQodGhpcy5oYSk7dGhpcy5zYj1udWxsfWg9b2QucHJvdG90eXBlO2guTD1mdW5jdGlvbigpe3JldHVybiEwfTtoLks9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oYX07aC5aPWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgb2QodGhpcy5BLGEpfTtoLko9ZnVuY3Rpb24oYSl7cmV0dXJuXCIucHJpb3JpdHlcIj09PWE/dGhpcy5oYTpMfTtoLnJhPWZ1bmN0aW9uKGEpe3JldHVybiBhLmUoKT90aGlzOlwiLnByaW9yaXR5XCI9PT1IKGEpP3RoaXMuaGE6TH07aC5EYT1mdW5jdGlvbigpe3JldHVybiExfTtoLmRmPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9O1xuaC5QPWZ1bmN0aW9uKGEsYil7cmV0dXJuXCIucHJpb3JpdHlcIj09PWE/dGhpcy5aKGIpOmIuZSgpJiZcIi5wcmlvcml0eVwiIT09YT90aGlzOkwuUChhLGIpLloodGhpcy5oYSl9O2guRD1mdW5jdGlvbihhLGIpe3ZhciBjPUgoYSk7aWYobnVsbD09PWMpcmV0dXJuIGI7aWYoYi5lKCkmJlwiLnByaW9yaXR5XCIhPT1jKXJldHVybiB0aGlzO3coXCIucHJpb3JpdHlcIiE9PWN8fDE9PT1SYyhhKSxcIi5wcmlvcml0eSBtdXN0IGJlIHRoZSBsYXN0IHRva2VuIGluIGEgcGF0aFwiKTtyZXR1cm4gdGhpcy5QKGMsTC5EKFMoYSksYikpfTtoLmU9ZnVuY3Rpb24oKXtyZXR1cm4hMX07aC51Yj1mdW5jdGlvbigpe3JldHVybiAwfTtoLk49ZnVuY3Rpb24oYSl7cmV0dXJuIGEmJiF0aGlzLksoKS5lKCk/e1wiLnZhbHVlXCI6dGhpcy56YSgpLFwiLnByaW9yaXR5XCI6dGhpcy5LKCkuTigpfTp0aGlzLnphKCl9O1xuaC5oYXNoPWZ1bmN0aW9uKCl7aWYobnVsbD09PXRoaXMuc2Ipe3ZhciBhPVwiXCI7dGhpcy5oYS5lKCl8fChhKz1cInByaW9yaXR5OlwiK3FkKHRoaXMuaGEuTigpKStcIjpcIik7dmFyIGI9dHlwZW9mIHRoaXMuQSxhPWErKGIrXCI6XCIpLGE9XCJudW1iZXJcIj09PWI/YStCYih0aGlzLkEpOmErdGhpcy5BO3RoaXMuc2I9amIoYSl9cmV0dXJuIHRoaXMuc2J9O2guemE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5BfTtoLmhlPWZ1bmN0aW9uKGEpe2lmKGE9PT1MKXJldHVybiAxO2lmKGEgaW5zdGFuY2VvZiBWKXJldHVybi0xO3coYS5MKCksXCJVbmtub3duIG5vZGUgdHlwZVwiKTt2YXIgYj10eXBlb2YgYS5BLGM9dHlwZW9mIHRoaXMuQSxkPUhhKHJkLGIpLGU9SGEocmQsYyk7dygwPD1kLFwiVW5rbm93biBsZWFmIHR5cGU6IFwiK2IpO3coMDw9ZSxcIlVua25vd24gbGVhZiB0eXBlOiBcIitjKTtyZXR1cm4gZD09PWU/XCJvYmplY3RcIj09PWM/MDp0aGlzLkE8YS5BPy0xOnRoaXMuQT09PWEuQT8wOjE6ZS1kfTtcbnZhciByZD1bXCJvYmplY3RcIixcImJvb2xlYW5cIixcIm51bWJlclwiLFwic3RyaW5nXCJdO29kLnByb3RvdHlwZS5FYj1mdW5jdGlvbigpe3JldHVybiB0aGlzfTtvZC5wcm90b3R5cGUuQWM9ZnVuY3Rpb24oKXtyZXR1cm4hMH07b2QucHJvdG90eXBlLmVhPWZ1bmN0aW9uKGEpe3JldHVybiBhPT09dGhpcz8hMDphLkwoKT90aGlzLkE9PT1hLkEmJnRoaXMuaGEuZWEoYS5oYSk6ITF9O29kLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwic3RyaW5nXCI9PT10eXBlb2YgdGhpcy5BP3RoaXMuQTonXCInK3RoaXMuQSsnXCInfTtmdW5jdGlvbiBzZChhLGIpe3RoaXMucGQ9YTt0aGlzLlViPWJ9c2QucHJvdG90eXBlLmdldD1mdW5jdGlvbihhKXt2YXIgYj10KHRoaXMucGQsYSk7aWYoIWIpdGhyb3cgRXJyb3IoXCJObyBpbmRleCBkZWZpbmVkIGZvciBcIithKTtyZXR1cm4gYj09PW1jP251bGw6Yn07ZnVuY3Rpb24gdGQoYSxiLGMpe3ZhciBkPXVkKGEucGQsZnVuY3Rpb24oZCxmKXt2YXIgZz10KGEuVWIsZik7dyhnLFwiTWlzc2luZyBpbmRleCBpbXBsZW1lbnRhdGlvbiBmb3IgXCIrZik7aWYoZD09PW1jKXtpZihnLnRlKGIuWSkpe2Zvcih2YXIgaz1bXSxsPWMuTmIoQWMpLG49TyhsKTtuOyluLm5hbWUhPWIubmFtZSYmay5wdXNoKG4pLG49TyhsKTtrLnB1c2goYik7cmV0dXJuIHZkKGssbmMoZykpfXJldHVybiBtY31nPWMuZ2V0KGIubmFtZSk7az1kO2cmJihrPWsucmVtb3ZlKG5ldyBNKGIubmFtZSxnKSkpO3JldHVybiBrLkthKGIsYi5ZKX0pO3JldHVybiBuZXcgc2QoZCxhLlViKX1cbmZ1bmN0aW9uIHdkKGEsYixjKXt2YXIgZD11ZChhLnBkLGZ1bmN0aW9uKGEpe2lmKGE9PT1tYylyZXR1cm4gYTt2YXIgZD1jLmdldChiLm5hbWUpO3JldHVybiBkP2EucmVtb3ZlKG5ldyBNKGIubmFtZSxkKSk6YX0pO3JldHVybiBuZXcgc2QoZCxhLlViKX12YXIgeGQ9bmV3IHNkKHtcIi5wcmlvcml0eVwiOm1jfSx7XCIucHJpb3JpdHlcIjpLfSk7ZnVuY3Rpb24gVihhLGIsYyl7dGhpcy5tPWE7KHRoaXMuaGE9YikmJnBkKHRoaXMuaGEpO3RoaXMub2I9Yzt0aGlzLnNiPW51bGx9aD1WLnByb3RvdHlwZTtoLkw9ZnVuY3Rpb24oKXtyZXR1cm4hMX07aC5LPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGF8fEx9O2guWj1mdW5jdGlvbihhKXtyZXR1cm4gbmV3IFYodGhpcy5tLGEsdGhpcy5vYil9O2guSj1mdW5jdGlvbihhKXtpZihcIi5wcmlvcml0eVwiPT09YSlyZXR1cm4gdGhpcy5LKCk7YT10aGlzLm0uZ2V0KGEpO3JldHVybiBudWxsPT09YT9MOmF9O2gucmE9ZnVuY3Rpb24oYSl7dmFyIGI9SChhKTtyZXR1cm4gbnVsbD09PWI/dGhpczp0aGlzLkooYikucmEoUyhhKSl9O2guRGE9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPT10aGlzLm0uZ2V0KGEpfTtcbmguUD1mdW5jdGlvbihhLGIpe3coYixcIldlIHNob3VsZCBhbHdheXMgYmUgcGFzc2luZyBzbmFwc2hvdCBub2Rlc1wiKTtpZihcIi5wcmlvcml0eVwiPT09YSlyZXR1cm4gdGhpcy5aKGIpO3ZhciBjPW5ldyBNKGEsYiksZDtiLmUoKT8oZD10aGlzLm0ucmVtb3ZlKGEpLGM9d2QodGhpcy5vYixjLHRoaXMubSkpOihkPXRoaXMubS5LYShhLGIpLGM9dGQodGhpcy5vYixjLHRoaXMubSkpO3JldHVybiBuZXcgVihkLHRoaXMuaGEsYyl9O2guRD1mdW5jdGlvbihhLGIpe3ZhciBjPUgoYSk7aWYobnVsbD09PWMpcmV0dXJuIGI7dyhcIi5wcmlvcml0eVwiIT09SChhKXx8MT09PVJjKGEpLFwiLnByaW9yaXR5IG11c3QgYmUgdGhlIGxhc3QgdG9rZW4gaW4gYSBwYXRoXCIpO3ZhciBkPXRoaXMuSihjKS5EKFMoYSksYik7cmV0dXJuIHRoaXMuUChjLGQpfTtoLmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tLmUoKX07aC51Yj1mdW5jdGlvbigpe3JldHVybiB0aGlzLm0uY291bnQoKX07dmFyIHlkPS9eKDB8WzEtOV1cXGQqKSQvO1xuaD1WLnByb3RvdHlwZTtoLk49ZnVuY3Rpb24oYSl7aWYodGhpcy5lKCkpcmV0dXJuIG51bGw7dmFyIGI9e30sYz0wLGQ9MCxlPSEwO3RoaXMuVChLLGZ1bmN0aW9uKGYsZyl7YltmXT1nLk4oYSk7YysrO2UmJnlkLnRlc3QoZik/ZD1NYXRoLm1heChkLE51bWJlcihmKSk6ZT0hMX0pO2lmKCFhJiZlJiZkPDIqYyl7dmFyIGY9W10sZztmb3IoZyBpbiBiKWZbZ109YltnXTtyZXR1cm4gZn1hJiYhdGhpcy5LKCkuZSgpJiYoYltcIi5wcmlvcml0eVwiXT10aGlzLksoKS5OKCkpO3JldHVybiBifTtoLmhhc2g9ZnVuY3Rpb24oKXtpZihudWxsPT09dGhpcy5zYil7dmFyIGE9XCJcIjt0aGlzLksoKS5lKCl8fChhKz1cInByaW9yaXR5OlwiK3FkKHRoaXMuSygpLk4oKSkrXCI6XCIpO3RoaXMuVChLLGZ1bmN0aW9uKGIsYyl7dmFyIGQ9Yy5oYXNoKCk7XCJcIiE9PWQmJihhKz1cIjpcIitiK1wiOlwiK2QpfSk7dGhpcy5zYj1cIlwiPT09YT9cIlwiOmpiKGEpfXJldHVybiB0aGlzLnNifTtcbmguZGY9ZnVuY3Rpb24oYSxiLGMpe3JldHVybihjPXpkKHRoaXMsYykpPyhhPWJkKGMsbmV3IE0oYSxiKSkpP2EubmFtZTpudWxsOmJkKHRoaXMubSxhKX07ZnVuY3Rpb24gRGMoYSxiKXt2YXIgYztjPShjPXpkKGEsYikpPyhjPWMuSGMoKSkmJmMubmFtZTphLm0uSGMoKTtyZXR1cm4gYz9uZXcgTShjLGEubS5nZXQoYykpOm51bGx9ZnVuY3Rpb24gRWMoYSxiKXt2YXIgYztjPShjPXpkKGEsYikpPyhjPWMuV2IoKSkmJmMubmFtZTphLm0uV2IoKTtyZXR1cm4gYz9uZXcgTShjLGEubS5nZXQoYykpOm51bGx9aC5UPWZ1bmN0aW9uKGEsYil7dmFyIGM9emQodGhpcyxhKTtyZXR1cm4gYz9jLmZhKGZ1bmN0aW9uKGEpe3JldHVybiBiKGEubmFtZSxhLlkpfSk6dGhpcy5tLmZhKGIpfTtoLk5iPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLk9iKGEuQmUoKSxhKX07XG5oLk9iPWZ1bmN0aW9uKGEsYil7dmFyIGM9emQodGhpcyxiKTtpZihjKXJldHVybiBjLk9iKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGF9KTtmb3IodmFyIGM9dGhpcy5tLk9iKGEubmFtZSxBYyksZD1kZChjKTtudWxsIT1kJiYwPmIuY29tcGFyZShkLGEpOylPKGMpLGQ9ZGQoYyk7cmV0dXJuIGN9O2guZWY9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuUWIoYS5BZSgpLGEpfTtoLlFiPWZ1bmN0aW9uKGEsYil7dmFyIGM9emQodGhpcyxiKTtpZihjKXJldHVybiBjLlFiKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGF9KTtmb3IodmFyIGM9dGhpcy5tLlFiKGEubmFtZSxBYyksZD1kZChjKTtudWxsIT1kJiYwPGIuY29tcGFyZShkLGEpOylPKGMpLGQ9ZGQoYyk7cmV0dXJuIGN9O2guaGU9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZSgpP2EuZSgpPzA6LTE6YS5MKCl8fGEuZSgpPzE6YT09PXFjPy0xOjB9O1xuaC5FYj1mdW5jdGlvbihhKXtpZihhPT09c2N8fEFkKHRoaXMub2IuVWIsYS50b1N0cmluZygpKSlyZXR1cm4gdGhpczt2YXIgYj10aGlzLm9iLGM9dGhpcy5tO3coYSE9PXNjLFwiS2V5SW5kZXggYWx3YXlzIGV4aXN0cyBhbmQgaXNuJ3QgbWVhbnQgdG8gYmUgYWRkZWQgdG8gdGhlIEluZGV4TWFwLlwiKTtmb3IodmFyIGQ9W10sZT0hMSxjPWMuTmIoQWMpLGY9TyhjKTtmOyllPWV8fGEudGUoZi5ZKSxkLnB1c2goZiksZj1PKGMpO2Q9ZT92ZChkLG5jKGEpKTptYztlPWEudG9TdHJpbmcoKTtjPUJkKGIuVWIpO2NbZV09YTthPUJkKGIucGQpO2FbZV09ZDtyZXR1cm4gbmV3IFYodGhpcy5tLHRoaXMuaGEsbmV3IHNkKGEsYykpfTtoLkFjPWZ1bmN0aW9uKGEpe3JldHVybiBhPT09c2N8fEFkKHRoaXMub2IuVWIsYS50b1N0cmluZygpKX07XG5oLmVhPWZ1bmN0aW9uKGEpe2lmKGE9PT10aGlzKXJldHVybiEwO2lmKGEuTCgpKXJldHVybiExO2lmKHRoaXMuSygpLmVhKGEuSygpKSYmdGhpcy5tLmNvdW50KCk9PT1hLm0uY291bnQoKSl7dmFyIGI9dGhpcy5OYihLKTthPWEuTmIoSyk7Zm9yKHZhciBjPU8oYiksZD1PKGEpO2MmJmQ7KXtpZihjLm5hbWUhPT1kLm5hbWV8fCFjLlkuZWEoZC5ZKSlyZXR1cm4hMTtjPU8oYik7ZD1PKGEpfXJldHVybiBudWxsPT09YyYmbnVsbD09PWR9cmV0dXJuITF9O2Z1bmN0aW9uIHpkKGEsYil7cmV0dXJuIGI9PT1zYz9udWxsOmEub2IuZ2V0KGIudG9TdHJpbmcoKSl9aC50b1N0cmluZz1mdW5jdGlvbigpe3ZhciBhPVwie1wiLGI9ITA7dGhpcy5UKEssZnVuY3Rpb24oYyxkKXtiP2I9ITE6YSs9XCIsIFwiO2ErPSdcIicrYysnXCIgOiAnK2QudG9TdHJpbmcoKX0pO3JldHVybiBhKz1cIn1cIn07ZnVuY3Rpb24gTihhLGIpe2lmKG51bGw9PT1hKXJldHVybiBMO3ZhciBjPW51bGw7XCJvYmplY3RcIj09PXR5cGVvZiBhJiZcIi5wcmlvcml0eVwiaW4gYT9jPWFbXCIucHJpb3JpdHlcIl06XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBiJiYoYz1iKTt3KG51bGw9PT1jfHxcInN0cmluZ1wiPT09dHlwZW9mIGN8fFwibnVtYmVyXCI9PT10eXBlb2YgY3x8XCJvYmplY3RcIj09PXR5cGVvZiBjJiZcIi5zdlwiaW4gYyxcIkludmFsaWQgcHJpb3JpdHkgdHlwZSBmb3VuZDogXCIrdHlwZW9mIGMpO1wib2JqZWN0XCI9PT10eXBlb2YgYSYmXCIudmFsdWVcImluIGEmJm51bGwhPT1hW1wiLnZhbHVlXCJdJiYoYT1hW1wiLnZhbHVlXCJdKTtpZihcIm9iamVjdFwiIT09dHlwZW9mIGF8fFwiLnN2XCJpbiBhKXJldHVybiBuZXcgb2QoYSxOKGMpKTtpZihhIGluc3RhbmNlb2YgQXJyYXkpe3ZhciBkPUwsZT1hO3ooZSxmdW5jdGlvbihhLGIpe2lmKHMoZSxiKSYmXCIuXCIhPT1iLnN1YnN0cmluZygwLDEpKXt2YXIgYz1OKGEpO2lmKGMuTCgpfHwhYy5lKCkpZD1cbmQuUChiLGMpfX0pO3JldHVybiBkLlooTihjKSl9dmFyIGY9W10sZz0hMSxrPWE7dWEoayxmdW5jdGlvbihhKXtpZihcInN0cmluZ1wiIT09dHlwZW9mIGF8fFwiLlwiIT09YS5zdWJzdHJpbmcoMCwxKSl7dmFyIGI9TihrW2FdKTtiLmUoKXx8KGc9Z3x8IWIuSygpLmUoKSxmLnB1c2gobmV3IE0oYSxiKSkpfX0pO3ZhciBsPXZkKGYsamMsZnVuY3Rpb24oYSl7cmV0dXJuIGEubmFtZX0sa2MpO2lmKGcpe3ZhciBuPXZkKGYsbmMoSykpO3JldHVybiBuZXcgVihsLE4oYyksbmV3IHNkKHtcIi5wcmlvcml0eVwiOm59LHtcIi5wcmlvcml0eVwiOkt9KSl9cmV0dXJuIG5ldyBWKGwsTihjKSx4ZCl9dmFyIENkPU1hdGgubG9nKDIpO2Z1bmN0aW9uIERkKGEpe3RoaXMuY291bnQ9cGFyc2VJbnQoTWF0aC5sb2coYSsxKS9DZCwxMCk7dGhpcy5YZT10aGlzLmNvdW50LTE7dGhpcy5OZj1hKzEmcGFyc2VJbnQoQXJyYXkodGhpcy5jb3VudCsxKS5qb2luKFwiMVwiKSwyKX1cbmZ1bmN0aW9uIEVkKGEpe3ZhciBiPSEoYS5OZiYxPDxhLlhlKTthLlhlLS07cmV0dXJuIGJ9XG5mdW5jdGlvbiB2ZChhLGIsYyxkKXtmdW5jdGlvbiBlKGIsZCl7dmFyIGY9ZC1iO2lmKDA9PWYpcmV0dXJuIG51bGw7aWYoMT09Zil7dmFyIG49YVtiXSx1PWM/YyhuKTpuO3JldHVybiBuZXcgZWQodSxuLlksITEsbnVsbCxudWxsKX12YXIgbj1wYXJzZUludChmLzIsMTApK2IsZj1lKGIsbikseD1lKG4rMSxkKSxuPWFbbl0sdT1jP2Mobik6bjtyZXR1cm4gbmV3IGVkKHUsbi5ZLCExLGYseCl9YS5zb3J0KGIpO3ZhciBmPWZ1bmN0aW9uKGIpe2Z1bmN0aW9uIGQoYixnKXt2YXIgaz11LWIseD11O3UtPWI7dmFyIHg9ZShrKzEseCksaz1hW2tdLEU9Yz9jKGspOmsseD1uZXcgZWQoRSxrLlksZyxudWxsLHgpO2Y/Zi5sZWZ0PXg6bj14O2Y9eH1mb3IodmFyIGY9bnVsbCxuPW51bGwsdT1hLmxlbmd0aCx4PTA7eDxiLmNvdW50OysreCl7dmFyIEU9RWQoYiksZmQ9TWF0aC5wb3coMixiLmNvdW50LSh4KzEpKTtFP2QoZmQsITEpOihkKGZkLCExKSxkKGZkLCEwKSl9cmV0dXJuIG59KG5ldyBEZChhLmxlbmd0aCkpO1xucmV0dXJuIG51bGwhPT1mP25ldyAkYyhkfHxiLGYpOm5ldyAkYyhkfHxiKX1mdW5jdGlvbiBxZChhKXtyZXR1cm5cIm51bWJlclwiPT09dHlwZW9mIGE/XCJudW1iZXI6XCIrQmIoYSk6XCJzdHJpbmc6XCIrYX1mdW5jdGlvbiBwZChhKXtpZihhLkwoKSl7dmFyIGI9YS5OKCk7dyhcInN0cmluZ1wiPT09dHlwZW9mIGJ8fFwibnVtYmVyXCI9PT10eXBlb2YgYnx8XCJvYmplY3RcIj09PXR5cGVvZiBiJiZzKGIsXCIuc3ZcIiksXCJQcmlvcml0eSBtdXN0IGJlIGEgc3RyaW5nIG9yIG51bWJlci5cIil9ZWxzZSB3KGE9PT1xY3x8YS5lKCksXCJwcmlvcml0eSBvZiB1bmV4cGVjdGVkIHR5cGUuXCIpO3coYT09PXFjfHxhLksoKS5lKCksXCJQcmlvcml0eSBub2RlcyBjYW4ndCBoYXZlIGEgcHJpb3JpdHkgb2YgdGhlaXIgb3duLlwiKX12YXIgTD1uZXcgVihuZXcgJGMoa2MpLG51bGwseGQpO2Z1bmN0aW9uIEZkKCl7Vi5jYWxsKHRoaXMsbmV3ICRjKGtjKSxMLHhkKX1tYShGZCxWKTtoPUZkLnByb3RvdHlwZTtcbmguaGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT10aGlzPzA6MX07aC5lYT1mdW5jdGlvbihhKXtyZXR1cm4gYT09PXRoaXN9O2guSz1mdW5jdGlvbigpe3Rocm93IGdiKFwiV2h5IGlzIHRoaXMgY2FsbGVkP1wiKTt9O2guSj1mdW5jdGlvbigpe3JldHVybiBMfTtoLmU9ZnVuY3Rpb24oKXtyZXR1cm4hMX07dmFyIHFjPW5ldyBGZCxvYz1uZXcgTShcIltNSU5fTkFNRV1cIixMKTtmdW5jdGlvbiBDKGEsYixjKXt0aGlzLkI9YTt0aGlzLlY9Yjt0aGlzLmc9Y31DLnByb3RvdHlwZS5OPWZ1bmN0aW9uKCl7RChcIkZpcmViYXNlLkRhdGFTbmFwc2hvdC52YWxcIiwwLDAsYXJndW1lbnRzLmxlbmd0aCk7cmV0dXJuIHRoaXMuQi5OKCl9O0MucHJvdG90eXBlLnZhbD1DLnByb3RvdHlwZS5OO0MucHJvdG90eXBlLlplPWZ1bmN0aW9uKCl7RChcIkZpcmViYXNlLkRhdGFTbmFwc2hvdC5leHBvcnRWYWxcIiwwLDAsYXJndW1lbnRzLmxlbmd0aCk7cmV0dXJuIHRoaXMuQi5OKCEwKX07Qy5wcm90b3R5cGUuZXhwb3J0VmFsPUMucHJvdG90eXBlLlplO0MucHJvdG90eXBlLldmPWZ1bmN0aW9uKCl7RChcIkZpcmViYXNlLkRhdGFTbmFwc2hvdC5leGlzdHNcIiwwLDAsYXJndW1lbnRzLmxlbmd0aCk7cmV0dXJuIXRoaXMuQi5lKCl9O0MucHJvdG90eXBlLmV4aXN0cz1DLnByb3RvdHlwZS5XZjtcbkMucHJvdG90eXBlLm49ZnVuY3Rpb24oYSl7RChcIkZpcmViYXNlLkRhdGFTbmFwc2hvdC5jaGlsZFwiLDAsMSxhcmd1bWVudHMubGVuZ3RoKTtnYShhKSYmKGE9U3RyaW5nKGEpKTtaYihcIkZpcmViYXNlLkRhdGFTbmFwc2hvdC5jaGlsZFwiLGEpO3ZhciBiPW5ldyBSKGEpLGM9dGhpcy5WLm4oYik7cmV0dXJuIG5ldyBDKHRoaXMuQi5yYShiKSxjLEspfTtDLnByb3RvdHlwZS5jaGlsZD1DLnByb3RvdHlwZS5uO0MucHJvdG90eXBlLkRhPWZ1bmN0aW9uKGEpe0QoXCJGaXJlYmFzZS5EYXRhU25hcHNob3QuaGFzQ2hpbGRcIiwxLDEsYXJndW1lbnRzLmxlbmd0aCk7WmIoXCJGaXJlYmFzZS5EYXRhU25hcHNob3QuaGFzQ2hpbGRcIixhKTt2YXIgYj1uZXcgUihhKTtyZXR1cm4hdGhpcy5CLnJhKGIpLmUoKX07Qy5wcm90b3R5cGUuaGFzQ2hpbGQ9Qy5wcm90b3R5cGUuRGE7XG5DLnByb3RvdHlwZS5LPWZ1bmN0aW9uKCl7RChcIkZpcmViYXNlLkRhdGFTbmFwc2hvdC5nZXRQcmlvcml0eVwiLDAsMCxhcmd1bWVudHMubGVuZ3RoKTtyZXR1cm4gdGhpcy5CLksoKS5OKCl9O0MucHJvdG90eXBlLmdldFByaW9yaXR5PUMucHJvdG90eXBlLks7Qy5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbihhKXtEKFwiRmlyZWJhc2UuRGF0YVNuYXBzaG90LmZvckVhY2hcIiwxLDEsYXJndW1lbnRzLmxlbmd0aCk7RyhcIkZpcmViYXNlLkRhdGFTbmFwc2hvdC5mb3JFYWNoXCIsMSxhLCExKTtpZih0aGlzLkIuTCgpKXJldHVybiExO3ZhciBiPXRoaXM7cmV0dXJuISF0aGlzLkIuVCh0aGlzLmcsZnVuY3Rpb24oYyxkKXtyZXR1cm4gYShuZXcgQyhkLGIuVi5uKGMpLEspKX0pfTtDLnByb3RvdHlwZS5mb3JFYWNoPUMucHJvdG90eXBlLmZvckVhY2g7XG5DLnByb3RvdHlwZS5sZD1mdW5jdGlvbigpe0QoXCJGaXJlYmFzZS5EYXRhU25hcHNob3QuaGFzQ2hpbGRyZW5cIiwwLDAsYXJndW1lbnRzLmxlbmd0aCk7cmV0dXJuIHRoaXMuQi5MKCk/ITE6IXRoaXMuQi5lKCl9O0MucHJvdG90eXBlLmhhc0NoaWxkcmVuPUMucHJvdG90eXBlLmxkO0MucHJvdG90eXBlLm5hbWU9ZnVuY3Rpb24oKXt5KFwiRmlyZWJhc2UuRGF0YVNuYXBzaG90Lm5hbWUoKSBiZWluZyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIEZpcmViYXNlLkRhdGFTbmFwc2hvdC5rZXkoKSBpbnN0ZWFkLlwiKTtEKFwiRmlyZWJhc2UuRGF0YVNuYXBzaG90Lm5hbWVcIiwwLDAsYXJndW1lbnRzLmxlbmd0aCk7cmV0dXJuIHRoaXMua2V5KCl9O0MucHJvdG90eXBlLm5hbWU9Qy5wcm90b3R5cGUubmFtZTtDLnByb3RvdHlwZS5rZXk9ZnVuY3Rpb24oKXtEKFwiRmlyZWJhc2UuRGF0YVNuYXBzaG90LmtleVwiLDAsMCxhcmd1bWVudHMubGVuZ3RoKTtyZXR1cm4gdGhpcy5WLmtleSgpfTtcbkMucHJvdG90eXBlLmtleT1DLnByb3RvdHlwZS5rZXk7Qy5wcm90b3R5cGUudWI9ZnVuY3Rpb24oKXtEKFwiRmlyZWJhc2UuRGF0YVNuYXBzaG90Lm51bUNoaWxkcmVuXCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpO3JldHVybiB0aGlzLkIudWIoKX07Qy5wcm90b3R5cGUubnVtQ2hpbGRyZW49Qy5wcm90b3R5cGUudWI7Qy5wcm90b3R5cGUuY2M9ZnVuY3Rpb24oKXtEKFwiRmlyZWJhc2UuRGF0YVNuYXBzaG90LnJlZlwiLDAsMCxhcmd1bWVudHMubGVuZ3RoKTtyZXR1cm4gdGhpcy5WfTtDLnByb3RvdHlwZS5yZWY9Qy5wcm90b3R5cGUuY2M7ZnVuY3Rpb24gR2QoYSl7dyhlYShhKSYmMDxhLmxlbmd0aCxcIlJlcXVpcmVzIGEgbm9uLWVtcHR5IGFycmF5XCIpO3RoaXMuRmY9YTt0aGlzLkZjPXt9fUdkLnByb3RvdHlwZS5WZD1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz10aGlzLkZjW2FdfHxbXSxkPTA7ZDxjLmxlbmd0aDtkKyspY1tkXS5wYy5hcHBseShjW2RdLkphLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSl9O0dkLnByb3RvdHlwZS52Yj1mdW5jdGlvbihhLGIsYyl7SGQodGhpcyxhKTt0aGlzLkZjW2FdPXRoaXMuRmNbYV18fFtdO3RoaXMuRmNbYV0ucHVzaCh7cGM6YixKYTpjfSk7KGE9dGhpcy5wZShhKSkmJmIuYXBwbHkoYyxhKX07R2QucHJvdG90eXBlLlliPWZ1bmN0aW9uKGEsYixjKXtIZCh0aGlzLGEpO2E9dGhpcy5GY1thXXx8W107Zm9yKHZhciBkPTA7ZDxhLmxlbmd0aDtkKyspaWYoYVtkXS5wYz09PWImJighY3x8Yz09PWFbZF0uSmEpKXthLnNwbGljZShkLDEpO2JyZWFrfX07XG5mdW5jdGlvbiBIZChhLGIpe3coTmEoYS5GZixmdW5jdGlvbihhKXtyZXR1cm4gYT09PWJ9KSxcIlVua25vd24gZXZlbnQ6IFwiK2IpfTtmdW5jdGlvbiBJZCgpe0dkLmNhbGwodGhpcyxbXCJ2aXNpYmxlXCJdKTt2YXIgYSxiO1widW5kZWZpbmVkXCIhPT10eXBlb2YgZG9jdW1lbnQmJlwidW5kZWZpbmVkXCIhPT10eXBlb2YgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciYmKFwidW5kZWZpbmVkXCIhPT10eXBlb2YgZG9jdW1lbnQuaGlkZGVuPyhiPVwidmlzaWJpbGl0eWNoYW5nZVwiLGE9XCJoaWRkZW5cIik6XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBkb2N1bWVudC5tb3pIaWRkZW4/KGI9XCJtb3p2aXNpYmlsaXR5Y2hhbmdlXCIsYT1cIm1vekhpZGRlblwiKTpcInVuZGVmaW5lZFwiIT09dHlwZW9mIGRvY3VtZW50Lm1zSGlkZGVuPyhiPVwibXN2aXNpYmlsaXR5Y2hhbmdlXCIsYT1cIm1zSGlkZGVuXCIpOlwidW5kZWZpbmVkXCIhPT10eXBlb2YgZG9jdW1lbnQud2Via2l0SGlkZGVuJiYoYj1cIndlYmtpdHZpc2liaWxpdHljaGFuZ2VcIixhPVwid2Via2l0SGlkZGVuXCIpKTt0aGlzLmxjPSEwO2lmKGIpe3ZhciBjPXRoaXM7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihiLFxuZnVuY3Rpb24oKXt2YXIgYj0hZG9jdW1lbnRbYV07YiE9PWMubGMmJihjLmxjPWIsYy5WZChcInZpc2libGVcIixiKSl9LCExKX19bWEoSWQsR2QpO2NhKElkKTtJZC5wcm90b3R5cGUucGU9ZnVuY3Rpb24oYSl7dyhcInZpc2libGVcIj09PWEsXCJVbmtub3duIGV2ZW50IHR5cGU6IFwiK2EpO3JldHVyblt0aGlzLmxjXX07ZnVuY3Rpb24gSmQoKXtHZC5jYWxsKHRoaXMsW1wib25saW5lXCJdKTt0aGlzLktjPSEwO2lmKFwidW5kZWZpbmVkXCIhPT10eXBlb2Ygd2luZG93JiZcInVuZGVmaW5lZFwiIT09dHlwZW9mIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKXt2YXIgYT10aGlzO3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwib25saW5lXCIsZnVuY3Rpb24oKXthLktjfHxhLlZkKFwib25saW5lXCIsITApO2EuS2M9ITB9LCExKTt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm9mZmxpbmVcIixmdW5jdGlvbigpe2EuS2MmJmEuVmQoXCJvbmxpbmVcIiwhMSk7YS5LYz0hMX0sITEpfX1tYShKZCxHZCk7Y2EoSmQpO0pkLnByb3RvdHlwZS5wZT1mdW5jdGlvbihhKXt3KFwib25saW5lXCI9PT1hLFwiVW5rbm93biBldmVudCB0eXBlOiBcIithKTtyZXR1cm5bdGhpcy5LY119O2Z1bmN0aW9uIHooYSxiKXtmb3IodmFyIGMgaW4gYSliLmNhbGwodm9pZCAwLGFbY10sYyxhKX1mdW5jdGlvbiB1ZChhLGIpe3ZhciBjPXt9LGQ7Zm9yKGQgaW4gYSljW2RdPWIuY2FsbCh2b2lkIDAsYVtkXSxkLGEpO3JldHVybiBjfWZ1bmN0aW9uIE1iKGEsYil7Zm9yKHZhciBjIGluIGEpaWYoIWIuY2FsbCh2b2lkIDAsYVtjXSxjLGEpKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIEtiKGEpe3ZhciBiPTAsYztmb3IoYyBpbiBhKWIrKztyZXR1cm4gYn1mdW5jdGlvbiBMYihhKXtmb3IodmFyIGIgaW4gYSlyZXR1cm4gYn1mdW5jdGlvbiBLZChhKXt2YXIgYj1bXSxjPTAsZDtmb3IoZCBpbiBhKWJbYysrXT1hW2RdO3JldHVybiBifWZ1bmN0aW9uIExkKGEpe3ZhciBiPVtdLGM9MCxkO2ZvcihkIGluIGEpYltjKytdPWQ7cmV0dXJuIGJ9ZnVuY3Rpb24gQWQoYSxiKXtmb3IodmFyIGMgaW4gYSlpZihhW2NdPT1iKXJldHVybiEwO3JldHVybiExfVxuZnVuY3Rpb24gTWQoYSxiLGMpe2Zvcih2YXIgZCBpbiBhKWlmKGIuY2FsbChjLGFbZF0sZCxhKSlyZXR1cm4gZH1mdW5jdGlvbiBOZChhLGIpe3ZhciBjPU1kKGEsYix2b2lkIDApO3JldHVybiBjJiZhW2NdfWZ1bmN0aW9uIE9kKGEpe2Zvcih2YXIgYiBpbiBhKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIFBkKGEsYil7cmV0dXJuIGIgaW4gYT9hW2JdOnZvaWQgMH1mdW5jdGlvbiBCZChhKXt2YXIgYj17fSxjO2ZvcihjIGluIGEpYltjXT1hW2NdO3JldHVybiBifXZhciBRZD1cImNvbnN0cnVjdG9yIGhhc093blByb3BlcnR5IGlzUHJvdG90eXBlT2YgcHJvcGVydHlJc0VudW1lcmFibGUgdG9Mb2NhbGVTdHJpbmcgdG9TdHJpbmcgdmFsdWVPZlwiLnNwbGl0KFwiIFwiKTtcbmZ1bmN0aW9uIFJkKGEsYil7Zm9yKHZhciBjLGQsZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe2Q9YXJndW1lbnRzW2VdO2ZvcihjIGluIGQpYVtjXT1kW2NdO2Zvcih2YXIgZj0wO2Y8UWQubGVuZ3RoO2YrKyljPVFkW2ZdLE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChkLGMpJiYoYVtjXT1kW2NdKX19O2Z1bmN0aW9uIFNkKCl7dGhpcy5zYz17fX1mdW5jdGlvbiBUZChhLGIsYyl7bShjKXx8KGM9MSk7cyhhLnNjLGIpfHwoYS5zY1tiXT0wKTthLnNjW2JdKz1jfVNkLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gQmQodGhpcy5zYyl9O2Z1bmN0aW9uIFVkKGEpe3RoaXMuUGY9YTt0aGlzLnJkPW51bGx9VWQucHJvdG90eXBlLmdldD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuUGYuZ2V0KCksYj1CZChhKTtpZih0aGlzLnJkKWZvcih2YXIgYyBpbiB0aGlzLnJkKWJbY10tPXRoaXMucmRbY107dGhpcy5yZD1hO3JldHVybiBifTtmdW5jdGlvbiBWZChhLGIpe3RoaXMueWY9e307dGhpcy5QZD1uZXcgVWQoYSk7dGhpcy5TPWI7dmFyIGM9MUU0KzJFNCpNYXRoLnJhbmRvbSgpO3NldFRpbWVvdXQocSh0aGlzLnJmLHRoaXMpLE1hdGguZmxvb3IoYykpfVZkLnByb3RvdHlwZS5yZj1mdW5jdGlvbigpe3ZhciBhPXRoaXMuUGQuZ2V0KCksYj17fSxjPSExLGQ7Zm9yKGQgaW4gYSkwPGFbZF0mJnModGhpcy55ZixkKSYmKGJbZF09YVtkXSxjPSEwKTtjJiYoYT10aGlzLlMsYS5qYSYmKGI9e2M6Yn0sYS5mKFwicmVwb3J0U3RhdHNcIixiKSxhLkNhKFwic1wiLGIpKSk7c2V0VGltZW91dChxKHRoaXMucmYsdGhpcyksTWF0aC5mbG9vcig2RTUqTWF0aC5yYW5kb20oKSkpfTt2YXIgV2Q9e30sWGQ9e307ZnVuY3Rpb24gWWQoYSl7YT1hLnRvU3RyaW5nKCk7V2RbYV18fChXZFthXT1uZXcgU2QpO3JldHVybiBXZFthXX1mdW5jdGlvbiBaZChhLGIpe3ZhciBjPWEudG9TdHJpbmcoKTtYZFtjXXx8KFhkW2NdPWIoKSk7cmV0dXJuIFhkW2NdfTt2YXIgJGQ9bnVsbDtcInVuZGVmaW5lZFwiIT09dHlwZW9mIE1veldlYlNvY2tldD8kZD1Nb3pXZWJTb2NrZXQ6XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBXZWJTb2NrZXQmJigkZD1XZWJTb2NrZXQpO2Z1bmN0aW9uIGFlKGEsYixjKXt0aGlzLmllPWE7dGhpcy5mPXBiKHRoaXMuaWUpO3RoaXMuZnJhbWVzPXRoaXMuQmM9bnVsbDt0aGlzLmliPXRoaXMuamI9dGhpcy5RZT0wO3RoaXMuUmE9WWQoYik7dGhpcy4kYT0oYi56Yj9cIndzczovL1wiOlwid3M6Ly9cIikrYi5MYStcIi8ud3M/dj01XCI7XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBsb2NhdGlvbiYmbG9jYXRpb24uaHJlZiYmLTEhPT1sb2NhdGlvbi5ocmVmLmluZGV4T2YoXCJmaXJlYmFzZWlvLmNvbVwiKSYmKHRoaXMuJGErPVwiJnI9ZlwiKTtiLmhvc3QhPT1iLkxhJiYodGhpcy4kYT10aGlzLiRhK1wiJm5zPVwiK2IudGIpO2MmJih0aGlzLiRhPXRoaXMuJGErXCImcz1cIitjKX12YXIgYmU7XG5hZS5wcm90b3R5cGUub3Blbj1mdW5jdGlvbihhLGIpe3RoaXMuZmI9Yjt0aGlzLmhnPWE7dGhpcy5mKFwiV2Vic29ja2V0IGNvbm5lY3RpbmcgdG8gXCIrdGhpcy4kYSk7dGhpcy53Yz0hMTt6YS5zZXQoXCJwcmV2aW91c193ZWJzb2NrZXRfZmFpbHVyZVwiLCEwKTt0cnl7dGhpcy50YT1uZXcgJGQodGhpcy4kYSl9Y2F0Y2goYyl7dGhpcy5mKFwiRXJyb3IgaW5zdGFudGlhdGluZyBXZWJTb2NrZXQuXCIpO3ZhciBkPWMubWVzc2FnZXx8Yy5kYXRhO2QmJnRoaXMuZihkKTt0aGlzLmViKCk7cmV0dXJufXZhciBlPXRoaXM7dGhpcy50YS5vbm9wZW49ZnVuY3Rpb24oKXtlLmYoXCJXZWJzb2NrZXQgY29ubmVjdGVkLlwiKTtlLndjPSEwfTt0aGlzLnRhLm9uY2xvc2U9ZnVuY3Rpb24oKXtlLmYoXCJXZWJzb2NrZXQgY29ubmVjdGlvbiB3YXMgZGlzY29ubmVjdGVkLlwiKTtlLnRhPW51bGw7ZS5lYigpfTt0aGlzLnRhLm9ubWVzc2FnZT1mdW5jdGlvbihhKXtpZihudWxsIT09ZS50YSlpZihhPWEuZGF0YSxlLmliKz1cbmEubGVuZ3RoLFRkKGUuUmEsXCJieXRlc19yZWNlaXZlZFwiLGEubGVuZ3RoKSxjZShlKSxudWxsIT09ZS5mcmFtZXMpZGUoZSxhKTtlbHNle2E6e3cobnVsbD09PWUuZnJhbWVzLFwiV2UgYWxyZWFkeSBoYXZlIGEgZnJhbWUgYnVmZmVyXCIpO2lmKDY+PWEubGVuZ3RoKXt2YXIgYj1OdW1iZXIoYSk7aWYoIWlzTmFOKGIpKXtlLlFlPWI7ZS5mcmFtZXM9W107YT1udWxsO2JyZWFrIGF9fWUuUWU9MTtlLmZyYW1lcz1bXX1udWxsIT09YSYmZGUoZSxhKX19O3RoaXMudGEub25lcnJvcj1mdW5jdGlvbihhKXtlLmYoXCJXZWJTb2NrZXQgZXJyb3IuICBDbG9zaW5nIGNvbm5lY3Rpb24uXCIpOyhhPWEubWVzc2FnZXx8YS5kYXRhKSYmZS5mKGEpO2UuZWIoKX19O2FlLnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbigpe307XG5hZS5pc0F2YWlsYWJsZT1mdW5jdGlvbigpe3ZhciBhPSExO2lmKFwidW5kZWZpbmVkXCIhPT10eXBlb2YgbmF2aWdhdG9yJiZuYXZpZ2F0b3IudXNlckFnZW50KXt2YXIgYj1uYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9BbmRyb2lkIChbMC05XXswLH1cXC5bMC05XXswLH0pLyk7YiYmMTxiLmxlbmd0aCYmNC40PnBhcnNlRmxvYXQoYlsxXSkmJihhPSEwKX1yZXR1cm4hYSYmbnVsbCE9PSRkJiYhYmV9O2FlLnJlc3BvbnNlc1JlcXVpcmVkVG9CZUhlYWx0aHk9MjthZS5oZWFsdGh5VGltZW91dD0zRTQ7aD1hZS5wcm90b3R5cGU7aC5zZD1mdW5jdGlvbigpe3phLnJlbW92ZShcInByZXZpb3VzX3dlYnNvY2tldF9mYWlsdXJlXCIpfTtmdW5jdGlvbiBkZShhLGIpe2EuZnJhbWVzLnB1c2goYik7aWYoYS5mcmFtZXMubGVuZ3RoPT1hLlFlKXt2YXIgYz1hLmZyYW1lcy5qb2luKFwiXCIpO2EuZnJhbWVzPW51bGw7Yz10YShjKTthLmhnKGMpfX1cbmguc2VuZD1mdW5jdGlvbihhKXtjZSh0aGlzKTthPXIoYSk7dGhpcy5qYis9YS5sZW5ndGg7VGQodGhpcy5SYSxcImJ5dGVzX3NlbnRcIixhLmxlbmd0aCk7YT16YihhLDE2Mzg0KTsxPGEubGVuZ3RoJiZ0aGlzLnRhLnNlbmQoU3RyaW5nKGEubGVuZ3RoKSk7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDtiKyspdGhpcy50YS5zZW5kKGFbYl0pfTtoLlVjPWZ1bmN0aW9uKCl7dGhpcy5xYj0hMDt0aGlzLkJjJiYoY2xlYXJJbnRlcnZhbCh0aGlzLkJjKSx0aGlzLkJjPW51bGwpO3RoaXMudGEmJih0aGlzLnRhLmNsb3NlKCksdGhpcy50YT1udWxsKX07aC5lYj1mdW5jdGlvbigpe3RoaXMucWJ8fCh0aGlzLmYoXCJXZWJTb2NrZXQgaXMgY2xvc2luZyBpdHNlbGZcIiksdGhpcy5VYygpLHRoaXMuZmImJih0aGlzLmZiKHRoaXMud2MpLHRoaXMuZmI9bnVsbCkpfTtoLmNsb3NlPWZ1bmN0aW9uKCl7dGhpcy5xYnx8KHRoaXMuZihcIldlYlNvY2tldCBpcyBiZWluZyBjbG9zZWRcIiksdGhpcy5VYygpKX07XG5mdW5jdGlvbiBjZShhKXtjbGVhckludGVydmFsKGEuQmMpO2EuQmM9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXthLnRhJiZhLnRhLnNlbmQoXCIwXCIpO2NlKGEpfSxNYXRoLmZsb29yKDQ1RTMpKX07ZnVuY3Rpb24gZWUoYSl7dGhpcy5aYj1hO3RoaXMuQ2Q9W107dGhpcy5JYj0wO3RoaXMuZ2U9LTE7dGhpcy53Yj1udWxsfWZ1bmN0aW9uIGZlKGEsYixjKXthLmdlPWI7YS53Yj1jO2EuZ2U8YS5JYiYmKGEud2IoKSxhLndiPW51bGwpfWZ1bmN0aW9uIGdlKGEsYixjKXtmb3IoYS5DZFtiXT1jO2EuQ2RbYS5JYl07KXt2YXIgZD1hLkNkW2EuSWJdO2RlbGV0ZSBhLkNkW2EuSWJdO2Zvcih2YXIgZT0wO2U8ZC5sZW5ndGg7KytlKWlmKGRbZV0pe3ZhciBmPWE7RGIoZnVuY3Rpb24oKXtmLlpiKGRbZV0pfSl9aWYoYS5JYj09PWEuZ2Upe2Eud2ImJihjbGVhclRpbWVvdXQoYS53YiksYS53YigpLGEud2I9bnVsbCk7YnJlYWt9YS5JYisrfX07ZnVuY3Rpb24gaGUoKXt0aGlzLnNldD17fX1oPWhlLnByb3RvdHlwZTtoLmFkZD1mdW5jdGlvbihhLGIpe3RoaXMuc2V0W2FdPW51bGwhPT1iP2I6ITB9O2guY29udGFpbnM9ZnVuY3Rpb24oYSl7cmV0dXJuIHModGhpcy5zZXQsYSl9O2guZ2V0PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNvbnRhaW5zKGEpP3RoaXMuc2V0W2FdOnZvaWQgMH07aC5yZW1vdmU9ZnVuY3Rpb24oYSl7ZGVsZXRlIHRoaXMuc2V0W2FdfTtoLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5zZXQ9e319O2guZT1mdW5jdGlvbigpe3JldHVybiBPZCh0aGlzLnNldCl9O2guY291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4gS2IodGhpcy5zZXQpfTtmdW5jdGlvbiBpZShhLGIpe3ooYS5zZXQsZnVuY3Rpb24oYSxkKXtiKGQsYSl9KX07ZnVuY3Rpb24gamUoYSxiLGMpe3RoaXMuaWU9YTt0aGlzLmY9cGIoYSk7dGhpcy5pYj10aGlzLmpiPTA7dGhpcy5SYT1ZZChiKTt0aGlzLk1kPWM7dGhpcy53Yz0hMTt0aGlzLlpjPWZ1bmN0aW9uKGEpe2IuaG9zdCE9PWIuTGEmJihhLm5zPWIudGIpO3ZhciBjPVtdLGY7Zm9yKGYgaW4gYSlhLmhhc093blByb3BlcnR5KGYpJiZjLnB1c2goZitcIj1cIithW2ZdKTtyZXR1cm4oYi56Yj9cImh0dHBzOi8vXCI6XCJodHRwOi8vXCIpK2IuTGErXCIvLmxwP1wiK2Muam9pbihcIiZcIil9fXZhciBrZSxsZTtcbmplLnByb3RvdHlwZS5vcGVuPWZ1bmN0aW9uKGEsYil7dGhpcy5XZT0wO3RoaXMuZ2E9Yjt0aGlzLmtmPW5ldyBlZShhKTt0aGlzLnFiPSExO3ZhciBjPXRoaXM7dGhpcy5sYj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yy5mKFwiVGltZWQgb3V0IHRyeWluZyB0byBjb25uZWN0LlwiKTtjLmViKCk7Yy5sYj1udWxsfSxNYXRoLmZsb29yKDNFNCkpO3ViKGZ1bmN0aW9uKCl7aWYoIWMucWIpe2MuT2E9bmV3IG1lKGZ1bmN0aW9uKGEsYixkLGssbCl7bmUoYyxhcmd1bWVudHMpO2lmKGMuT2EpaWYoYy5sYiYmKGNsZWFyVGltZW91dChjLmxiKSxjLmxiPW51bGwpLGMud2M9ITAsXCJzdGFydFwiPT1hKWMuaWQ9YixjLnBmPWQ7ZWxzZSBpZihcImNsb3NlXCI9PT1hKWI/KGMuT2EuS2Q9ITEsZmUoYy5rZixiLGZ1bmN0aW9uKCl7Yy5lYigpfSkpOmMuZWIoKTtlbHNlIHRocm93IEVycm9yKFwiVW5yZWNvZ25pemVkIGNvbW1hbmQgcmVjZWl2ZWQ6IFwiK2EpO30sZnVuY3Rpb24oYSxiKXtuZShjLGFyZ3VtZW50cyk7XG5nZShjLmtmLGEsYil9LGZ1bmN0aW9uKCl7Yy5lYigpfSxjLlpjKTt2YXIgYT17c3RhcnQ6XCJ0XCJ9O2Euc2VyPU1hdGguZmxvb3IoMUU4Kk1hdGgucmFuZG9tKCkpO2MuT2EuV2QmJihhLmNiPWMuT2EuV2QpO2Eudj1cIjVcIjtjLk1kJiYoYS5zPWMuTWQpO1widW5kZWZpbmVkXCIhPT10eXBlb2YgbG9jYXRpb24mJmxvY2F0aW9uLmhyZWYmJi0xIT09bG9jYXRpb24uaHJlZi5pbmRleE9mKFwiZmlyZWJhc2Vpby5jb21cIikmJihhLnI9XCJmXCIpO2E9Yy5aYyhhKTtjLmYoXCJDb25uZWN0aW5nIHZpYSBsb25nLXBvbGwgdG8gXCIrYSk7b2UoYy5PYSxhLGZ1bmN0aW9uKCl7fSl9fSl9O1xuamUucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5PYSxiPXRoaXMucGY7YS5jZz10aGlzLmlkO2EuZGc9Yjtmb3IoYS5hZT0hMDtwZShhKTspO2E9dGhpcy5pZDtiPXRoaXMucGY7dGhpcy5YYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpO3ZhciBjPXtkZnJhbWU6XCJ0XCJ9O2MuaWQ9YTtjLnB3PWI7dGhpcy5YYi5zcmM9dGhpcy5aYyhjKTt0aGlzLlhiLnN0eWxlLmRpc3BsYXk9XCJub25lXCI7ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLlhiKX07amUuaXNBdmFpbGFibGU9ZnVuY3Rpb24oKXtyZXR1cm4hbGUmJiEoXCJvYmplY3RcIj09PXR5cGVvZiB3aW5kb3cmJndpbmRvdy5jaHJvbWUmJndpbmRvdy5jaHJvbWUuZXh0ZW5zaW9uJiYhL15jaHJvbWUvLnRlc3Qod2luZG93LmxvY2F0aW9uLmhyZWYpKSYmIShcIm9iamVjdFwiPT09dHlwZW9mIFdpbmRvd3MmJlwib2JqZWN0XCI9PT10eXBlb2YgV2luZG93cy5FZykmJihrZXx8ITApfTtoPWplLnByb3RvdHlwZTtcbmguc2Q9ZnVuY3Rpb24oKXt9O2guVWM9ZnVuY3Rpb24oKXt0aGlzLnFiPSEwO3RoaXMuT2EmJih0aGlzLk9hLmNsb3NlKCksdGhpcy5PYT1udWxsKTt0aGlzLlhiJiYoZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0aGlzLlhiKSx0aGlzLlhiPW51bGwpO3RoaXMubGImJihjbGVhclRpbWVvdXQodGhpcy5sYiksdGhpcy5sYj1udWxsKX07aC5lYj1mdW5jdGlvbigpe3RoaXMucWJ8fCh0aGlzLmYoXCJMb25ncG9sbCBpcyBjbG9zaW5nIGl0c2VsZlwiKSx0aGlzLlVjKCksdGhpcy5nYSYmKHRoaXMuZ2EodGhpcy53YyksdGhpcy5nYT1udWxsKSl9O2guY2xvc2U9ZnVuY3Rpb24oKXt0aGlzLnFifHwodGhpcy5mKFwiTG9uZ3BvbGwgaXMgYmVpbmcgY2xvc2VkLlwiKSx0aGlzLlVjKCkpfTtcbmguc2VuZD1mdW5jdGlvbihhKXthPXIoYSk7dGhpcy5qYis9YS5sZW5ndGg7VGQodGhpcy5SYSxcImJ5dGVzX3NlbnRcIixhLmxlbmd0aCk7YT1rYihhKTthPWRiKGEsITApO2E9emIoYSwxODQwKTtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKyl7dmFyIGM9dGhpcy5PYTtjLlBjLnB1c2goe3RnOnRoaXMuV2UsQmc6YS5sZW5ndGgsWWU6YVtiXX0pO2MuYWUmJnBlKGMpO3RoaXMuV2UrK319O2Z1bmN0aW9uIG5lKGEsYil7dmFyIGM9cihiKS5sZW5ndGg7YS5pYis9YztUZChhLlJhLFwiYnl0ZXNfcmVjZWl2ZWRcIixjKX1cbmZ1bmN0aW9uIG1lKGEsYixjLGQpe3RoaXMuWmM9ZDt0aGlzLmZiPWM7dGhpcy5IZT1uZXcgaGU7dGhpcy5QYz1bXTt0aGlzLmtlPU1hdGguZmxvb3IoMUU4Kk1hdGgucmFuZG9tKCkpO3RoaXMuS2Q9ITA7dGhpcy5XZD1mYigpO3dpbmRvd1tcInBMUENvbW1hbmRcIit0aGlzLldkXT1hO3dpbmRvd1tcInBSVExQQ0JcIit0aGlzLldkXT1iO2E9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlmcmFtZVwiKTthLnN0eWxlLmRpc3BsYXk9XCJub25lXCI7aWYoZG9jdW1lbnQuYm9keSl7ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKTt0cnl7YS5jb250ZW50V2luZG93LmRvY3VtZW50fHxpYihcIk5vIElFIGRvbWFpbiBzZXR0aW5nIHJlcXVpcmVkXCIpfWNhdGNoKGUpe2Euc3JjPVwiamF2YXNjcmlwdDp2b2lkKChmdW5jdGlvbigpe2RvY3VtZW50Lm9wZW4oKTtkb2N1bWVudC5kb21haW49J1wiK2RvY3VtZW50LmRvbWFpbitcIic7ZG9jdW1lbnQuY2xvc2UoKTt9KSgpKVwifX1lbHNlIHRocm93XCJEb2N1bWVudCBib2R5IGhhcyBub3QgaW5pdGlhbGl6ZWQuIFdhaXQgdG8gaW5pdGlhbGl6ZSBGaXJlYmFzZSB1bnRpbCBhZnRlciB0aGUgZG9jdW1lbnQgaXMgcmVhZHkuXCI7XG5hLmNvbnRlbnREb2N1bWVudD9hLmFiPWEuY29udGVudERvY3VtZW50OmEuY29udGVudFdpbmRvdz9hLmFiPWEuY29udGVudFdpbmRvdy5kb2N1bWVudDphLmRvY3VtZW50JiYoYS5hYj1hLmRvY3VtZW50KTt0aGlzLkJhPWE7YT1cIlwiO3RoaXMuQmEuc3JjJiZcImphdmFzY3JpcHQ6XCI9PT10aGlzLkJhLnNyYy5zdWJzdHIoMCwxMSkmJihhPSc8c2NyaXB0PmRvY3VtZW50LmRvbWFpbj1cIicrZG9jdW1lbnQuZG9tYWluKydcIjtcXHgzYy9zY3JpcHQ+Jyk7YT1cIjxodG1sPjxib2R5PlwiK2ErXCI8L2JvZHk+PC9odG1sPlwiO3RyeXt0aGlzLkJhLmFiLm9wZW4oKSx0aGlzLkJhLmFiLndyaXRlKGEpLHRoaXMuQmEuYWIuY2xvc2UoKX1jYXRjaChmKXtpYihcImZyYW1lIHdyaXRpbmcgZXhjZXB0aW9uXCIpLGYuc3RhY2smJmliKGYuc3RhY2spLGliKGYpfX1cbm1lLnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe3RoaXMuYWU9ITE7aWYodGhpcy5CYSl7dGhpcy5CYS5hYi5ib2R5LmlubmVySFRNTD1cIlwiO3ZhciBhPXRoaXM7c2V0VGltZW91dChmdW5jdGlvbigpe251bGwhPT1hLkJhJiYoZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChhLkJhKSxhLkJhPW51bGwpfSxNYXRoLmZsb29yKDApKX12YXIgYj10aGlzLmZiO2ImJih0aGlzLmZiPW51bGwsYigpKX07XG5mdW5jdGlvbiBwZShhKXtpZihhLmFlJiZhLktkJiZhLkhlLmNvdW50KCk8KDA8YS5QYy5sZW5ndGg/MjoxKSl7YS5rZSsrO3ZhciBiPXt9O2IuaWQ9YS5jZztiLnB3PWEuZGc7Yi5zZXI9YS5rZTtmb3IodmFyIGI9YS5aYyhiKSxjPVwiXCIsZD0wOzA8YS5QYy5sZW5ndGg7KWlmKDE4NzA+PWEuUGNbMF0uWWUubGVuZ3RoKzMwK2MubGVuZ3RoKXt2YXIgZT1hLlBjLnNoaWZ0KCksYz1jK1wiJnNlZ1wiK2QrXCI9XCIrZS50ZytcIiZ0c1wiK2QrXCI9XCIrZS5CZytcIiZkXCIrZCtcIj1cIitlLlllO2QrK31lbHNlIGJyZWFrO3FlKGEsYitjLGEua2UpO3JldHVybiEwfXJldHVybiExfWZ1bmN0aW9uIHFlKGEsYixjKXtmdW5jdGlvbiBkKCl7YS5IZS5yZW1vdmUoYyk7cGUoYSl9YS5IZS5hZGQoYyk7dmFyIGU9c2V0VGltZW91dChkLE1hdGguZmxvb3IoMjVFMykpO29lKGEsYixmdW5jdGlvbigpe2NsZWFyVGltZW91dChlKTtkKCl9KX1cbmZ1bmN0aW9uIG9lKGEsYixjKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dHJ5e2lmKGEuS2Qpe3ZhciBkPWEuQmEuYWIuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtkLnR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIjtkLmFzeW5jPSEwO2Quc3JjPWI7ZC5vbmxvYWQ9ZC5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXt2YXIgYT1kLnJlYWR5U3RhdGU7YSYmXCJsb2FkZWRcIiE9PWEmJlwiY29tcGxldGVcIiE9PWF8fChkLm9ubG9hZD1kLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLGQucGFyZW50Tm9kZSYmZC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGQpLGMoKSl9O2Qub25lcnJvcj1mdW5jdGlvbigpe2liKFwiTG9uZy1wb2xsIHNjcmlwdCBmYWlsZWQgdG8gbG9hZDogXCIrYik7YS5LZD0hMTthLmNsb3NlKCl9O2EuQmEuYWIuYm9keS5hcHBlbmRDaGlsZChkKX19Y2F0Y2goZSl7fX0sTWF0aC5mbG9vcigxKSl9O2Z1bmN0aW9uIHJlKGEpe3NlKHRoaXMsYSl9dmFyIHRlPVtqZSxhZV07ZnVuY3Rpb24gc2UoYSxiKXt2YXIgYz1hZSYmYWUuaXNBdmFpbGFibGUoKSxkPWMmJiEoemEuamZ8fCEwPT09emEuZ2V0KFwicHJldmlvdXNfd2Vic29ja2V0X2ZhaWx1cmVcIikpO2IuRGcmJihjfHx5KFwid3NzOi8vIFVSTCB1c2VkLCBidXQgYnJvd3NlciBpc24ndCBrbm93biB0byBzdXBwb3J0IHdlYnNvY2tldHMuICBUcnlpbmcgYW55d2F5LlwiKSxkPSEwKTtpZihkKWEuWGM9W2FlXTtlbHNle3ZhciBlPWEuWGM9W107QWIodGUsZnVuY3Rpb24oYSxiKXtiJiZiLmlzQXZhaWxhYmxlKCkmJmUucHVzaChiKX0pfX1mdW5jdGlvbiB1ZShhKXtpZigwPGEuWGMubGVuZ3RoKXJldHVybiBhLlhjWzBdO3Rocm93IEVycm9yKFwiTm8gdHJhbnNwb3J0cyBhdmFpbGFibGVcIik7fTtmdW5jdGlvbiB2ZShhLGIsYyxkLGUsZil7dGhpcy5pZD1hO3RoaXMuZj1wYihcImM6XCIrdGhpcy5pZCtcIjpcIik7dGhpcy5aYj1jO3RoaXMuSmM9ZDt0aGlzLmdhPWU7dGhpcy5GZT1mO3RoaXMuTz1iO3RoaXMuQmQ9W107dGhpcy5VZT0wO3RoaXMuQWY9bmV3IHJlKGIpO3RoaXMuUWE9MDt0aGlzLmYoXCJDb25uZWN0aW9uIGNyZWF0ZWRcIik7d2UodGhpcyl9XG5mdW5jdGlvbiB3ZShhKXt2YXIgYj11ZShhLkFmKTthLkk9bmV3IGIoXCJjOlwiK2EuaWQrXCI6XCIrYS5VZSsrLGEuTyk7YS5KZT1iLnJlc3BvbnNlc1JlcXVpcmVkVG9CZUhlYWx0aHl8fDA7dmFyIGM9eGUoYSxhLkkpLGQ9eWUoYSxhLkkpO2EuWWM9YS5JO2EuVGM9YS5JO2EuQz1udWxsO2EucmI9ITE7c2V0VGltZW91dChmdW5jdGlvbigpe2EuSSYmYS5JLm9wZW4oYyxkKX0sTWF0aC5mbG9vcigwKSk7Yj1iLmhlYWx0aHlUaW1lb3V0fHwwOzA8YiYmKGEubmQ9c2V0VGltZW91dChmdW5jdGlvbigpe2EubmQ9bnVsbDthLnJifHwoYS5JJiYxMDI0MDA8YS5JLmliPyhhLmYoXCJDb25uZWN0aW9uIGV4Y2VlZGVkIGhlYWx0aHkgdGltZW91dCBidXQgaGFzIHJlY2VpdmVkIFwiK2EuSS5pYitcIiBieXRlcy4gIE1hcmtpbmcgY29ubmVjdGlvbiBoZWFsdGh5LlwiKSxhLnJiPSEwLGEuSS5zZCgpKTphLkkmJjEwMjQwPGEuSS5qYj9hLmYoXCJDb25uZWN0aW9uIGV4Y2VlZGVkIGhlYWx0aHkgdGltZW91dCBidXQgaGFzIHNlbnQgXCIrXG5hLkkuamIrXCIgYnl0ZXMuICBMZWF2aW5nIGNvbm5lY3Rpb24gYWxpdmUuXCIpOihhLmYoXCJDbG9zaW5nIHVuaGVhbHRoeSBjb25uZWN0aW9uIGFmdGVyIHRpbWVvdXQuXCIpLGEuY2xvc2UoKSkpfSxNYXRoLmZsb29yKGIpKSl9ZnVuY3Rpb24geWUoYSxiKXtyZXR1cm4gZnVuY3Rpb24oYyl7Yj09PWEuST8oYS5JPW51bGwsY3x8MCE9PWEuUWE/MT09PWEuUWEmJmEuZihcIlJlYWx0aW1lIGNvbm5lY3Rpb24gbG9zdC5cIik6KGEuZihcIlJlYWx0aW1lIGNvbm5lY3Rpb24gZmFpbGVkLlwiKSxcInMtXCI9PT1hLk8uTGEuc3Vic3RyKDAsMikmJih6YS5yZW1vdmUoXCJob3N0OlwiK2EuTy5ob3N0KSxhLk8uTGE9YS5PLmhvc3QpKSxhLmNsb3NlKCkpOmI9PT1hLkM/KGEuZihcIlNlY29uZGFyeSBjb25uZWN0aW9uIGxvc3QuXCIpLGM9YS5DLGEuQz1udWxsLGEuWWMhPT1jJiZhLlRjIT09Y3x8YS5jbG9zZSgpKTphLmYoXCJjbG9zaW5nIGFuIG9sZCBjb25uZWN0aW9uXCIpfX1cbmZ1bmN0aW9uIHhlKGEsYil7cmV0dXJuIGZ1bmN0aW9uKGMpe2lmKDIhPWEuUWEpaWYoYj09PWEuVGMpe3ZhciBkPXhiKFwidFwiLGMpO2M9eGIoXCJkXCIsYyk7aWYoXCJjXCI9PWQpe2lmKGQ9eGIoXCJ0XCIsYyksXCJkXCJpbiBjKWlmKGM9Yy5kLFwiaFwiPT09ZCl7dmFyIGQ9Yy50cyxlPWMudixmPWMuaDthLk1kPWMucztDYShhLk8sZik7MD09YS5RYSYmKGEuSS5zdGFydCgpLHplKGEsYS5JLGQpLFwiNVwiIT09ZSYmeShcIlByb3RvY29sIHZlcnNpb24gbWlzbWF0Y2ggZGV0ZWN0ZWRcIiksYz1hLkFmLChjPTE8Yy5YYy5sZW5ndGg/Yy5YY1sxXTpudWxsKSYmQWUoYSxjKSl9ZWxzZSBpZihcIm5cIj09PWQpe2EuZihcInJlY3ZkIGVuZCB0cmFuc21pc3Npb24gb24gcHJpbWFyeVwiKTthLlRjPWEuQztmb3IoYz0wO2M8YS5CZC5sZW5ndGg7KytjKWEueGQoYS5CZFtjXSk7YS5CZD1bXTtCZShhKX1lbHNlXCJzXCI9PT1kPyhhLmYoXCJDb25uZWN0aW9uIHNodXRkb3duIGNvbW1hbmQgcmVjZWl2ZWQuIFNodXR0aW5nIGRvd24uLi5cIiksXG5hLkZlJiYoYS5GZShjKSxhLkZlPW51bGwpLGEuZ2E9bnVsbCxhLmNsb3NlKCkpOlwiclwiPT09ZD8oYS5mKFwiUmVzZXQgcGFja2V0IHJlY2VpdmVkLiAgTmV3IGhvc3Q6IFwiK2MpLENhKGEuTyxjKSwxPT09YS5RYT9hLmNsb3NlKCk6KENlKGEpLHdlKGEpKSk6XCJlXCI9PT1kP3FiKFwiU2VydmVyIEVycm9yOiBcIitjKTpcIm9cIj09PWQ/KGEuZihcImdvdCBwb25nIG9uIHByaW1hcnkuXCIpLERlKGEpLEVlKGEpKTpxYihcIlVua25vd24gY29udHJvbCBwYWNrZXQgY29tbWFuZDogXCIrZCl9ZWxzZVwiZFwiPT1kJiZhLnhkKGMpfWVsc2UgaWYoYj09PWEuQylpZihkPXhiKFwidFwiLGMpLGM9eGIoXCJkXCIsYyksXCJjXCI9PWQpXCJ0XCJpbiBjJiYoYz1jLnQsXCJhXCI9PT1jP0ZlKGEpOlwiclwiPT09Yz8oYS5mKFwiR290IGEgcmVzZXQgb24gc2Vjb25kYXJ5LCBjbG9zaW5nIGl0XCIpLGEuQy5jbG9zZSgpLGEuWWMhPT1hLkMmJmEuVGMhPT1hLkN8fGEuY2xvc2UoKSk6XCJvXCI9PT1jJiYoYS5mKFwiZ290IHBvbmcgb24gc2Vjb25kYXJ5LlwiKSxcbmEueGYtLSxGZShhKSkpO2Vsc2UgaWYoXCJkXCI9PWQpYS5CZC5wdXNoKGMpO2Vsc2UgdGhyb3cgRXJyb3IoXCJVbmtub3duIHByb3RvY29sIGxheWVyOiBcIitkKTtlbHNlIGEuZihcIm1lc3NhZ2Ugb24gb2xkIGNvbm5lY3Rpb25cIil9fXZlLnByb3RvdHlwZS5DYT1mdW5jdGlvbihhKXtHZSh0aGlzLHt0OlwiZFwiLGQ6YX0pfTtmdW5jdGlvbiBCZShhKXthLlljPT09YS5DJiZhLlRjPT09YS5DJiYoYS5mKFwiY2xlYW5pbmcgdXAgYW5kIHByb21vdGluZyBhIGNvbm5lY3Rpb246IFwiK2EuQy5pZSksYS5JPWEuQyxhLkM9bnVsbCl9XG5mdW5jdGlvbiBGZShhKXswPj1hLnhmPyhhLmYoXCJTZWNvbmRhcnkgY29ubmVjdGlvbiBpcyBoZWFsdGh5LlwiKSxhLnJiPSEwLGEuQy5zZCgpLGEuQy5zdGFydCgpLGEuZihcInNlbmRpbmcgY2xpZW50IGFjayBvbiBzZWNvbmRhcnlcIiksYS5DLnNlbmQoe3Q6XCJjXCIsZDp7dDpcImFcIixkOnt9fX0pLGEuZihcIkVuZGluZyB0cmFuc21pc3Npb24gb24gcHJpbWFyeVwiKSxhLkkuc2VuZCh7dDpcImNcIixkOnt0OlwiblwiLGQ6e319fSksYS5ZYz1hLkMsQmUoYSkpOihhLmYoXCJzZW5kaW5nIHBpbmcgb24gc2Vjb25kYXJ5LlwiKSxhLkMuc2VuZCh7dDpcImNcIixkOnt0OlwicFwiLGQ6e319fSkpfXZlLnByb3RvdHlwZS54ZD1mdW5jdGlvbihhKXtEZSh0aGlzKTt0aGlzLlpiKGEpfTtmdW5jdGlvbiBEZShhKXthLnJifHwoYS5KZS0tLDA+PWEuSmUmJihhLmYoXCJQcmltYXJ5IGNvbm5lY3Rpb24gaXMgaGVhbHRoeS5cIiksYS5yYj0hMCxhLkkuc2QoKSkpfVxuZnVuY3Rpb24gQWUoYSxiKXthLkM9bmV3IGIoXCJjOlwiK2EuaWQrXCI6XCIrYS5VZSsrLGEuTyxhLk1kKTthLnhmPWIucmVzcG9uc2VzUmVxdWlyZWRUb0JlSGVhbHRoeXx8MDthLkMub3Blbih4ZShhLGEuQykseWUoYSxhLkMpKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5DJiYoYS5mKFwiVGltZWQgb3V0IHRyeWluZyB0byB1cGdyYWRlLlwiKSxhLkMuY2xvc2UoKSl9LE1hdGguZmxvb3IoNkU0KSl9ZnVuY3Rpb24gemUoYSxiLGMpe2EuZihcIlJlYWx0aW1lIGNvbm5lY3Rpb24gZXN0YWJsaXNoZWQuXCIpO2EuST1iO2EuUWE9MTthLkpjJiYoYS5KYyhjKSxhLkpjPW51bGwpOzA9PT1hLkplPyhhLmYoXCJQcmltYXJ5IGNvbm5lY3Rpb24gaXMgaGVhbHRoeS5cIiksYS5yYj0hMCk6c2V0VGltZW91dChmdW5jdGlvbigpe0VlKGEpfSxNYXRoLmZsb29yKDVFMykpfVxuZnVuY3Rpb24gRWUoYSl7YS5yYnx8MSE9PWEuUWF8fChhLmYoXCJzZW5kaW5nIHBpbmcgb24gcHJpbWFyeS5cIiksR2UoYSx7dDpcImNcIixkOnt0OlwicFwiLGQ6e319fSkpfWZ1bmN0aW9uIEdlKGEsYil7aWYoMSE9PWEuUWEpdGhyb3dcIkNvbm5lY3Rpb24gaXMgbm90IGNvbm5lY3RlZFwiO2EuWWMuc2VuZChiKX12ZS5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXsyIT09dGhpcy5RYSYmKHRoaXMuZihcIkNsb3NpbmcgcmVhbHRpbWUgY29ubmVjdGlvbi5cIiksdGhpcy5RYT0yLENlKHRoaXMpLHRoaXMuZ2EmJih0aGlzLmdhKCksdGhpcy5nYT1udWxsKSl9O2Z1bmN0aW9uIENlKGEpe2EuZihcIlNodXR0aW5nIGRvd24gYWxsIGNvbm5lY3Rpb25zXCIpO2EuSSYmKGEuSS5jbG9zZSgpLGEuST1udWxsKTthLkMmJihhLkMuY2xvc2UoKSxhLkM9bnVsbCk7YS5uZCYmKGNsZWFyVGltZW91dChhLm5kKSxhLm5kPW51bGwpfTtmdW5jdGlvbiBIZShhKXt2YXIgYj17fSxjPXt9LGQ9e30sZT1cIlwiO3RyeXt2YXIgZj1hLnNwbGl0KFwiLlwiKSxiPXRhKGhiKGZbMF0pfHxcIlwiKSxjPXRhKGhiKGZbMV0pfHxcIlwiKSxlPWZbMl0sZD1jLmR8fHt9O2RlbGV0ZSBjLmR9Y2F0Y2goZyl7fXJldHVybntHZzpiLGZlOmMsZGF0YTpkLHhnOmV9fWZ1bmN0aW9uIEllKGEpe2E9SGUoYSkuZmU7cmV0dXJuXCJvYmplY3RcIj09PXR5cGVvZiBhJiZhLmhhc093blByb3BlcnR5KFwiaWF0XCIpP3QoYSxcImlhdFwiKTpudWxsfWZ1bmN0aW9uIEplKGEpe2E9SGUoYSk7dmFyIGI9YS5mZTtyZXR1cm4hIWEueGcmJiEhYiYmXCJvYmplY3RcIj09PXR5cGVvZiBiJiZiLmhhc093blByb3BlcnR5KFwiaWF0XCIpfTtmdW5jdGlvbiBLZShhLGIsYyxkKXt0aGlzLmlkPUxlKys7dGhpcy5mPXBiKFwicDpcIit0aGlzLmlkK1wiOlwiKTt0aGlzLkJiPSEwO3RoaXMuQWE9e307dGhpcy5sYT1bXTt0aGlzLk1jPTA7dGhpcy5JYz1bXTt0aGlzLmphPSExO3RoaXMuV2E9MUUzO3RoaXMudGQ9M0U1O3RoaXMueWQ9Yjt0aGlzLndkPWM7dGhpcy5HZT1kO3RoaXMuTz1hO3RoaXMuTWU9bnVsbDt0aGlzLlJjPXt9O3RoaXMuc2c9MDt0aGlzLkNjPXRoaXMudmU9bnVsbDtNZSh0aGlzLDApO0lkLk1iKCkudmIoXCJ2aXNpYmxlXCIsdGhpcy5rZyx0aGlzKTstMT09PWEuaG9zdC5pbmRleE9mKFwiZmJsb2NhbFwiKSYmSmQuTWIoKS52YihcIm9ubGluZVwiLHRoaXMuaWcsdGhpcyl9dmFyIExlPTAsTmU9MDtoPUtlLnByb3RvdHlwZTtcbmguQ2E9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPSsrdGhpcy5zZzthPXtyOmQsYTphLGI6Yn07dGhpcy5mKHIoYSkpO3codGhpcy5qYSxcInNlbmRSZXF1ZXN0IGNhbGwgd2hlbiB3ZSdyZSBub3QgY29ubmVjdGVkIG5vdCBhbGxvd2VkLlwiKTt0aGlzLk5hLkNhKGEpO2MmJih0aGlzLlJjW2RdPWMpfTtmdW5jdGlvbiBPZShhLGIsYyxkLGUpe3ZhciBmPWIuRmEoKSxnPWIucGF0aC50b1N0cmluZygpO2EuZihcIkxpc3RlbiBjYWxsZWQgZm9yIFwiK2crXCIgXCIrZik7YS5BYVtnXT1hLkFhW2ddfHx7fTt3KCFhLkFhW2ddW2ZdLFwibGlzdGVuKCkgY2FsbGVkIHR3aWNlIGZvciBzYW1lIHBhdGgvcXVlcnlJZC5cIik7Yj17SDplLG1kOmMscGc6UWMoYiksdGFnOmR9O2EuQWFbZ11bZl09YjthLmphJiZQZShhLGcsZixiKX1cbmZ1bmN0aW9uIFBlKGEsYixjLGQpe2EuZihcIkxpc3RlbiBvbiBcIitiK1wiIGZvciBcIitjKTt2YXIgZT17cDpifTtkLnRhZyYmKGUucT1kLnBnLGUudD1kLnRhZyk7ZS5oPWQubWQoKTthLkNhKFwicVwiLGUsZnVuY3Rpb24oZSl7aWYoKGEuQWFbYl0mJmEuQWFbYl1bY10pPT09ZCl7YS5mKFwibGlzdGVuIHJlc3BvbnNlXCIsZSk7dmFyIGc9ZS5zO1wib2tcIiE9PWcmJlFlKGEsYixjKTtlPWUuZDtkLkgmJmQuSChnLGUpfX0pfWguUT1mdW5jdGlvbihhLGIsYyl7dGhpcy5IYj17UmY6YSwkZTohMSxwYzpiLGFkOmN9O3RoaXMuZihcIkF1dGhlbnRpY2F0aW5nIHVzaW5nIGNyZWRlbnRpYWw6IFwiK2EpO1JlKHRoaXMpOyhiPTQwPT1hLmxlbmd0aCl8fChhPUhlKGEpLmZlLGI9XCJvYmplY3RcIj09PXR5cGVvZiBhJiYhMD09PXQoYSxcImFkbWluXCIpKTtiJiYodGhpcy5mKFwiQWRtaW4gYXV0aCBjcmVkZW50aWFsIGRldGVjdGVkLiAgUmVkdWNpbmcgbWF4IHJlY29ubmVjdCB0aW1lLlwiKSx0aGlzLnRkPTNFNCl9O1xuaC5SZT1mdW5jdGlvbihhKXtkZWxldGUgdGhpcy5IYjt0aGlzLmphJiZ0aGlzLkNhKFwidW5hdXRoXCIse30sZnVuY3Rpb24oYil7YShiLnMsYi5kKX0pfTtmdW5jdGlvbiBSZShhKXt2YXIgYj1hLkhiO2EuamEmJmImJmEuQ2EoXCJhdXRoXCIse2NyZWQ6Yi5SZn0sZnVuY3Rpb24oYyl7dmFyIGQ9Yy5zO2M9Yy5kfHxcImVycm9yXCI7XCJva1wiIT09ZCYmYS5IYj09PWImJmRlbGV0ZSBhLkhiO2IuJGU/XCJva1wiIT09ZCYmYi5hZCYmYi5hZChkLGMpOihiLiRlPSEwLGIucGMmJmIucGMoZCxjKSl9KX1mdW5jdGlvbiBTZShhLGIsYyxkKXthLmphP1RlKGEsXCJvXCIsYixjLGQpOmEuSWMucHVzaCh7T2M6YixhY3Rpb246XCJvXCIsZGF0YTpjLEg6ZH0pfWZ1bmN0aW9uIFVlKGEsYixjLGQpe2EuamE/VGUoYSxcIm9tXCIsYixjLGQpOmEuSWMucHVzaCh7T2M6YixhY3Rpb246XCJvbVwiLGRhdGE6YyxIOmR9KX1cbmguRWU9ZnVuY3Rpb24oYSxiKXt0aGlzLmphP1RlKHRoaXMsXCJvY1wiLGEsbnVsbCxiKTp0aGlzLkljLnB1c2goe09jOmEsYWN0aW9uOlwib2NcIixkYXRhOm51bGwsSDpifSl9O2Z1bmN0aW9uIFRlKGEsYixjLGQsZSl7Yz17cDpjLGQ6ZH07YS5mKFwib25EaXNjb25uZWN0IFwiK2IsYyk7YS5DYShiLGMsZnVuY3Rpb24oYSl7ZSYmc2V0VGltZW91dChmdW5jdGlvbigpe2UoYS5zLGEuZCl9LE1hdGguZmxvb3IoMCkpfSl9aC5wdXQ9ZnVuY3Rpb24oYSxiLGMsZCl7VmUodGhpcyxcInBcIixhLGIsYyxkKX07ZnVuY3Rpb24gV2UoYSxiLGMsZCl7VmUoYSxcIm1cIixiLGMsZCx2b2lkIDApfWZ1bmN0aW9uIFZlKGEsYixjLGQsZSxmKXtkPXtwOmMsZDpkfTttKGYpJiYoZC5oPWYpO2EubGEucHVzaCh7YWN0aW9uOmIsc2Y6ZCxIOmV9KTthLk1jKys7Yj1hLmxhLmxlbmd0aC0xO2EuamE/WGUoYSxiKTphLmYoXCJCdWZmZXJpbmcgcHV0OiBcIitjKX1cbmZ1bmN0aW9uIFhlKGEsYil7dmFyIGM9YS5sYVtiXS5hY3Rpb24sZD1hLmxhW2JdLnNmLGU9YS5sYVtiXS5IO2EubGFbYl0ucWc9YS5qYTthLkNhKGMsZCxmdW5jdGlvbihkKXthLmYoYytcIiByZXNwb25zZVwiLGQpO2RlbGV0ZSBhLmxhW2JdO2EuTWMtLTswPT09YS5NYyYmKGEubGE9W10pO2UmJmUoZC5zLGQuZCl9KX1cbmgueGQ9ZnVuY3Rpb24oYSl7aWYoXCJyXCJpbiBhKXt0aGlzLmYoXCJmcm9tIHNlcnZlcjogXCIrcihhKSk7dmFyIGI9YS5yLGM9dGhpcy5SY1tiXTtjJiYoZGVsZXRlIHRoaXMuUmNbYl0sYyhhLmIpKX1lbHNle2lmKFwiZXJyb3JcImluIGEpdGhyb3dcIkEgc2VydmVyLXNpZGUgZXJyb3IgaGFzIG9jY3VycmVkOiBcIithLmVycm9yO1wiYVwiaW4gYSYmKGI9YS5hLGM9YS5iLHRoaXMuZihcImhhbmRsZVNlcnZlck1lc3NhZ2VcIixiLGMpLFwiZFwiPT09Yj90aGlzLnlkKGMucCxjLmQsITEsYy50KTpcIm1cIj09PWI/dGhpcy55ZChjLnAsYy5kLCEwLGMudCk6XCJjXCI9PT1iP1llKHRoaXMsYy5wLGMucSk6XCJhY1wiPT09Yj8oYT1jLnMsYj1jLmQsYz10aGlzLkhiLGRlbGV0ZSB0aGlzLkhiLGMmJmMuYWQmJmMuYWQoYSxiKSk6XCJzZFwiPT09Yj90aGlzLk1lP3RoaXMuTWUoYyk6XCJtc2dcImluIGMmJlwidW5kZWZpbmVkXCIhPT10eXBlb2YgY29uc29sZSYmY29uc29sZS5sb2coXCJGSVJFQkFTRTogXCIrYy5tc2cucmVwbGFjZShcIlxcblwiLFxuXCJcXG5GSVJFQkFTRTogXCIpKTpxYihcIlVucmVjb2duaXplZCBhY3Rpb24gcmVjZWl2ZWQgZnJvbSBzZXJ2ZXI6IFwiK3IoYikrXCJcXG5BcmUgeW91IHVzaW5nIHRoZSBsYXRlc3QgY2xpZW50P1wiKSl9fTtoLkpjPWZ1bmN0aW9uKGEpe3RoaXMuZihcImNvbm5lY3Rpb24gcmVhZHlcIik7dGhpcy5qYT0hMDt0aGlzLkNjPShuZXcgRGF0ZSkuZ2V0VGltZSgpO3RoaXMuR2Uoe3NlcnZlclRpbWVPZmZzZXQ6YS0obmV3IERhdGUpLmdldFRpbWUoKX0pO1plKHRoaXMpO3RoaXMud2QoITApfTtmdW5jdGlvbiBNZShhLGIpe3coIWEuTmEsXCJTY2hlZHVsaW5nIGEgY29ubmVjdCB3aGVuIHdlJ3JlIGFscmVhZHkgY29ubmVjdGVkL2luZz9cIik7YS5KYiYmY2xlYXJUaW1lb3V0KGEuSmIpO2EuSmI9c2V0VGltZW91dChmdW5jdGlvbigpe2EuSmI9bnVsbDskZShhKX0sTWF0aC5mbG9vcihiKSl9XG5oLmtnPWZ1bmN0aW9uKGEpe2EmJiF0aGlzLmxjJiZ0aGlzLldhPT09dGhpcy50ZCYmKHRoaXMuZihcIldpbmRvdyBiZWNhbWUgdmlzaWJsZS4gIFJlZHVjaW5nIGRlbGF5LlwiKSx0aGlzLldhPTFFMyx0aGlzLk5hfHxNZSh0aGlzLDApKTt0aGlzLmxjPWF9O2guaWc9ZnVuY3Rpb24oYSl7YT8odGhpcy5mKFwiQnJvd3NlciB3ZW50IG9ubGluZS4gIFJlY29ubmVjdGluZy5cIiksdGhpcy5XYT0xRTMsdGhpcy5CYj0hMCx0aGlzLk5hfHxNZSh0aGlzLDApKToodGhpcy5mKFwiQnJvd3NlciB3ZW50IG9mZmxpbmUuICBLaWxsaW5nIGNvbm5lY3Rpb247IGRvbid0IHJlY29ubmVjdC5cIiksdGhpcy5CYj0hMSx0aGlzLk5hJiZ0aGlzLk5hLmNsb3NlKCkpfTtcbmgubWY9ZnVuY3Rpb24oKXt0aGlzLmYoXCJkYXRhIGNsaWVudCBkaXNjb25uZWN0ZWRcIik7dGhpcy5qYT0hMTt0aGlzLk5hPW51bGw7Zm9yKHZhciBhPTA7YTx0aGlzLmxhLmxlbmd0aDthKyspe3ZhciBiPXRoaXMubGFbYV07YiYmXCJoXCJpbiBiLnNmJiZiLnFnJiYoYi5IJiZiLkgoXCJkaXNjb25uZWN0XCIpLGRlbGV0ZSB0aGlzLmxhW2FdLHRoaXMuTWMtLSl9MD09PXRoaXMuTWMmJih0aGlzLmxhPVtdKTtpZih0aGlzLkJiKXRoaXMubGM/dGhpcy5DYyYmKDNFNDwobmV3IERhdGUpLmdldFRpbWUoKS10aGlzLkNjJiYodGhpcy5XYT0xRTMpLHRoaXMuQ2M9bnVsbCk6KHRoaXMuZihcIldpbmRvdyBpc24ndCB2aXNpYmxlLiAgRGVsYXlpbmcgcmVjb25uZWN0LlwiKSx0aGlzLldhPXRoaXMudGQsdGhpcy52ZT0obmV3IERhdGUpLmdldFRpbWUoKSksYT1NYXRoLm1heCgwLHRoaXMuV2EtKChuZXcgRGF0ZSkuZ2V0VGltZSgpLXRoaXMudmUpKSxhKj1NYXRoLnJhbmRvbSgpLHRoaXMuZihcIlRyeWluZyB0byByZWNvbm5lY3QgaW4gXCIrXG5hK1wibXNcIiksTWUodGhpcyxhKSx0aGlzLldhPU1hdGgubWluKHRoaXMudGQsMS4zKnRoaXMuV2EpO2Vsc2UgZm9yKHZhciBjIGluIHRoaXMuUmMpZGVsZXRlIHRoaXMuUmNbY107dGhpcy53ZCghMSl9O2Z1bmN0aW9uICRlKGEpe2lmKGEuQmIpe2EuZihcIk1ha2luZyBhIGNvbm5lY3Rpb24gYXR0ZW1wdFwiKTthLnZlPShuZXcgRGF0ZSkuZ2V0VGltZSgpO2EuQ2M9bnVsbDt2YXIgYj1xKGEueGQsYSksYz1xKGEuSmMsYSksZD1xKGEubWYsYSksZT1hLmlkK1wiOlwiK05lKys7YS5OYT1uZXcgdmUoZSxhLk8sYixjLGQsZnVuY3Rpb24oYil7eShiK1wiIChcIithLk8udG9TdHJpbmcoKStcIilcIik7YS5CYj0hMX0pfX1oLnBiPWZ1bmN0aW9uKCl7dGhpcy5CYj0hMTt0aGlzLk5hP3RoaXMuTmEuY2xvc2UoKToodGhpcy5KYiYmKGNsZWFyVGltZW91dCh0aGlzLkpiKSx0aGlzLkpiPW51bGwpLHRoaXMuamEmJnRoaXMubWYoKSl9O1xuaC5nYz1mdW5jdGlvbigpe3RoaXMuQmI9ITA7dGhpcy5XYT0xRTM7dGhpcy5OYXx8TWUodGhpcywwKX07ZnVuY3Rpb24gWWUoYSxiLGMpe2M9Yz9LYShjLGZ1bmN0aW9uKGEpe3JldHVybiB5YihhKX0pLmpvaW4oXCIkXCIpOlwiZGVmYXVsdFwiOyhhPVFlKGEsYixjKSkmJmEuSCYmYS5IKFwicGVybWlzc2lvbl9kZW5pZWRcIil9ZnVuY3Rpb24gUWUoYSxiLGMpe2I9KG5ldyBSKGIpKS50b1N0cmluZygpO3ZhciBkPWEuQWFbYl1bY107ZGVsZXRlIGEuQWFbYl1bY107MD09PUtiKGEuQWFbYl0pJiZkZWxldGUgYS5BYVtiXTtyZXR1cm4gZH1mdW5jdGlvbiBaZShhKXtSZShhKTt6KGEuQWEsZnVuY3Rpb24oYixkKXt6KGIsZnVuY3Rpb24oYixjKXtQZShhLGQsYyxiKX0pfSk7Zm9yKHZhciBiPTA7YjxhLmxhLmxlbmd0aDtiKyspYS5sYVtiXSYmWGUoYSxiKTtmb3IoO2EuSWMubGVuZ3RoOyliPWEuSWMuc2hpZnQoKSxUZShhLGIuYWN0aW9uLGIuT2MsYi5kYXRhLGIuSCl9O2Z1bmN0aW9uIGFmKCl7dGhpcy5tPXRoaXMuQT1udWxsfWFmLnByb3RvdHlwZS5kYz1mdW5jdGlvbihhLGIpe2lmKGEuZSgpKXRoaXMuQT1iLHRoaXMubT1udWxsO2Vsc2UgaWYobnVsbCE9PXRoaXMuQSl0aGlzLkE9dGhpcy5BLkQoYSxiKTtlbHNle251bGw9PXRoaXMubSYmKHRoaXMubT1uZXcgaGUpO3ZhciBjPUgoYSk7dGhpcy5tLmNvbnRhaW5zKGMpfHx0aGlzLm0uYWRkKGMsbmV3IGFmKTtjPXRoaXMubS5nZXQoYyk7YT1TKGEpO2MuZGMoYSxiKX19O1xuZnVuY3Rpb24gYmYoYSxiKXtpZihiLmUoKSlyZXR1cm4gYS5BPW51bGwsYS5tPW51bGwsITA7aWYobnVsbCE9PWEuQSl7aWYoYS5BLkwoKSlyZXR1cm4hMTt2YXIgYz1hLkE7YS5BPW51bGw7Yy5UKEssZnVuY3Rpb24oYixjKXthLmRjKG5ldyBSKGIpLGMpfSk7cmV0dXJuIGJmKGEsYil9cmV0dXJuIG51bGwhPT1hLm0/KGM9SChiKSxiPVMoYiksYS5tLmNvbnRhaW5zKGMpJiZiZihhLm0uZ2V0KGMpLGIpJiZhLm0ucmVtb3ZlKGMpLGEubS5lKCk/KGEubT1udWxsLCEwKTohMSk6ITB9ZnVuY3Rpb24gY2YoYSxiLGMpe251bGwhPT1hLkE/YyhiLGEuQSk6YS5UKGZ1bmN0aW9uKGEsZSl7dmFyIGY9bmV3IFIoYi50b1N0cmluZygpK1wiL1wiK2EpO2NmKGUsZixjKX0pfWFmLnByb3RvdHlwZS5UPWZ1bmN0aW9uKGEpe251bGwhPT10aGlzLm0mJmllKHRoaXMubSxmdW5jdGlvbihiLGMpe2EoYixjKX0pfTtmdW5jdGlvbiBkZigpe3RoaXMuSmQ9TH1kZi5wcm90b3R5cGUuaj1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5KZC5yYShhKX07ZGYucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuSmQudG9TdHJpbmcoKX07ZnVuY3Rpb24gZWYoKXt0aGlzLm5iPVtdfWZ1bmN0aW9uIGZmKGEsYil7Zm9yKHZhciBjPW51bGwsZD0wO2Q8Yi5sZW5ndGg7ZCsrKXt2YXIgZT1iW2RdLGY9ZS5QYigpO251bGw9PT1jfHxmLmVhKGMuUGIoKSl8fChhLm5iLnB1c2goYyksYz1udWxsKTtudWxsPT09YyYmKGM9bmV3IGdmKGYpKTtjLmFkZChlKX1jJiZhLm5iLnB1c2goYyl9ZnVuY3Rpb24gUGMoYSxiLGMpe2ZmKGEsYyk7aGYoYSxmdW5jdGlvbihhKXtyZXR1cm4gYS5lYShiKX0pfWZ1bmN0aW9uIGpmKGEsYixjKXtmZihhLGMpO2hmKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGEuY29udGFpbnMoYil8fGIuY29udGFpbnMoYSl9KX1cbmZ1bmN0aW9uIGhmKGEsYil7Zm9yKHZhciBjPSEwLGQ9MDtkPGEubmIubGVuZ3RoO2QrKyl7dmFyIGU9YS5uYltkXTtpZihlKWlmKGU9ZS5QYigpLGIoZSkpe2Zvcih2YXIgZT1hLm5iW2RdLGY9MDtmPGUua2QubGVuZ3RoO2YrKyl7dmFyIGc9ZS5rZFtmXTtpZihudWxsIT09Zyl7ZS5rZFtmXT1udWxsO3ZhciBrPWcuS2IoKTttYiYmaWIoXCJldmVudDogXCIrZy50b1N0cmluZygpKTtEYihrKX19YS5uYltkXT1udWxsfWVsc2UgYz0hMX1jJiYoYS5uYj1bXSl9ZnVuY3Rpb24gZ2YoYSl7dGhpcy5FYT1hO3RoaXMua2Q9W119Z2YucHJvdG90eXBlLmFkZD1mdW5jdGlvbihhKXt0aGlzLmtkLnB1c2goYSl9O2dmLnByb3RvdHlwZS5QYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLkVhfTt2YXIga2Y9XCJhdXRoLmZpcmViYXNlLmNvbVwiO2Z1bmN0aW9uIGxmKGEsYixjKXt0aGlzLmNkPWF8fHt9O3RoaXMuVWQ9Ynx8e307dGhpcy5YYT1jfHx7fTt0aGlzLmNkLnJlbWVtYmVyfHwodGhpcy5jZC5yZW1lbWJlcj1cImRlZmF1bHRcIil9dmFyIG1mPVtcInJlbWVtYmVyXCIsXCJyZWRpcmVjdFRvXCJdO2Z1bmN0aW9uIG5mKGEpe3ZhciBiPXt9LGM9e307dWEoYXx8e30sZnVuY3Rpb24oYSxlKXswPD1IYShtZixhKT9iW2FdPWU6Y1thXT1lfSk7cmV0dXJuIG5ldyBsZihiLHt9LGMpfTt2YXIgb2Y9e05FVFdPUktfRVJST1I6XCJVbmFibGUgdG8gY29udGFjdCB0aGUgRmlyZWJhc2Ugc2VydmVyLlwiLFNFUlZFUl9FUlJPUjpcIkFuIHVua25vd24gc2VydmVyIGVycm9yIG9jY3VycmVkLlwiLFRSQU5TUE9SVF9VTkFWQUlMQUJMRTpcIlRoZXJlIGFyZSBubyBsb2dpbiB0cmFuc3BvcnRzIGF2YWlsYWJsZSBmb3IgdGhlIHJlcXVlc3RlZCBtZXRob2QuXCIsUkVRVUVTVF9JTlRFUlJVUFRFRDpcIlRoZSBicm93c2VyIHJlZGlyZWN0ZWQgdGhlIHBhZ2UgYmVmb3JlIHRoZSBsb2dpbiByZXF1ZXN0IGNvdWxkIGNvbXBsZXRlLlwiLFVTRVJfQ0FOQ0VMTEVEOlwiVGhlIHVzZXIgY2FuY2VsbGVkIGF1dGhlbnRpY2F0aW9uLlwifTtmdW5jdGlvbiBXKGEpe3ZhciBiPUVycm9yKHQob2YsYSksYSk7Yi5jb2RlPWE7cmV0dXJuIGJ9O2Z1bmN0aW9uIHBmKCl7dmFyIGE9d2luZG93Lm9wZW5lci5mcmFtZXMsYjtmb3IoYj1hLmxlbmd0aC0xOzA8PWI7Yi0tKXRyeXtpZihhW2JdLmxvY2F0aW9uLnByb3RvY29sPT09d2luZG93LmxvY2F0aW9uLnByb3RvY29sJiZhW2JdLmxvY2F0aW9uLmhvc3Q9PT13aW5kb3cubG9jYXRpb24uaG9zdCYmXCJfX3dpbmNoYW5fcmVsYXlfZnJhbWVcIj09PWFbYl0ubmFtZSlyZXR1cm4gYVtiXX1jYXRjaChjKXt9cmV0dXJuIG51bGx9ZnVuY3Rpb24gcWYoYSxiLGMpe2EuYXR0YWNoRXZlbnQ/YS5hdHRhY2hFdmVudChcIm9uXCIrYixjKTphLmFkZEV2ZW50TGlzdGVuZXImJmEuYWRkRXZlbnRMaXN0ZW5lcihiLGMsITEpfWZ1bmN0aW9uIHJmKGEsYixjKXthLmRldGFjaEV2ZW50P2EuZGV0YWNoRXZlbnQoXCJvblwiK2IsYyk6YS5yZW1vdmVFdmVudExpc3RlbmVyJiZhLnJlbW92ZUV2ZW50TGlzdGVuZXIoYixjLCExKX1cbmZ1bmN0aW9uIHNmKGEpey9eaHR0cHM/OlxcL1xcLy8udGVzdChhKXx8KGE9d2luZG93LmxvY2F0aW9uLmhyZWYpO3ZhciBiPS9eKGh0dHBzPzpcXC9cXC9bXFwtX2EtekEtWlxcLjAtOTpdKykvLmV4ZWMoYSk7cmV0dXJuIGI/YlsxXTphfWZ1bmN0aW9uIHRmKGEpe3ZhciBiPVwiXCI7dHJ5e2E9YS5yZXBsYWNlKFwiI1wiLFwiXCIpO3ZhciBjPXt9LGQ9YS5yZXBsYWNlKC9eXFw/LyxcIlwiKS5zcGxpdChcIiZcIik7Zm9yKGE9MDthPGQubGVuZ3RoO2ErKylpZihkW2FdKXt2YXIgZT1kW2FdLnNwbGl0KFwiPVwiKTtjW2VbMF1dPWVbMV19YyYmcyhjLFwiX19maXJlYmFzZV9yZXF1ZXN0X2tleVwiKSYmKGI9dChjLFwiX19maXJlYmFzZV9yZXF1ZXN0X2tleVwiKSl9Y2F0Y2goZil7fXJldHVybiBifVxuZnVuY3Rpb24gdWYoYSl7dmFyIGI9W10sYztmb3IoYyBpbiBhKWlmKHMoYSxjKSl7dmFyIGQ9dChhLGMpO2lmKGVhKGQpKWZvcih2YXIgZT0wO2U8ZC5sZW5ndGg7ZSsrKWIucHVzaChlbmNvZGVVUklDb21wb25lbnQoYykrXCI9XCIrZW5jb2RlVVJJQ29tcG9uZW50KGRbZV0pKTtlbHNlIGIucHVzaChlbmNvZGVVUklDb21wb25lbnQoYykrXCI9XCIrZW5jb2RlVVJJQ29tcG9uZW50KHQoYSxjKSkpfXJldHVybiBiP1wiJlwiK2Iuam9pbihcIiZcIik6XCJcIn1mdW5jdGlvbiB2Zigpe3ZhciBhPXNiKGtmKTtyZXR1cm4gYS5zY2hlbWUrXCI6Ly9cIithLmhvc3QrXCIvdjJcIn07ZnVuY3Rpb24gd2YoKXtyZXR1cm4hISh3aW5kb3cuY29yZG92YXx8d2luZG93LnBob25lZ2FwfHx3aW5kb3cuUGhvbmVHYXApJiYvaW9zfGlwaG9uZXxpcG9kfGlwYWR8YW5kcm9pZHxibGFja2JlcnJ5fGllbW9iaWxlL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KX1mdW5jdGlvbiB4Zigpe3ZhciBhPW5hdmlnYXRvci51c2VyQWdlbnQ7aWYoXCJNaWNyb3NvZnQgSW50ZXJuZXQgRXhwbG9yZXJcIj09PW5hdmlnYXRvci5hcHBOYW1lKXtpZigoYT1hLm1hdGNoKC9NU0lFIChbMC05XXsxLH1bXFwuMC05XXswLH0pLykpJiYxPGEubGVuZ3RoKXJldHVybiA4PD1wYXJzZUZsb2F0KGFbMV0pfWVsc2UgaWYoLTE8YS5pbmRleE9mKFwiVHJpZGVudFwiKSYmKGE9YS5tYXRjaCgvcnY6KFswLTldezIsMn1bXFwuMC05XXswLH0pLykpJiYxPGEubGVuZ3RoKXJldHVybiA4PD1wYXJzZUZsb2F0KGFbMV0pO3JldHVybiExfTtmdW5jdGlvbiB5ZihhKXthPWF8fHt9O2EubWV0aG9kfHwoYS5tZXRob2Q9XCJHRVRcIik7YS5oZWFkZXJzfHwoYS5oZWFkZXJzPXt9KTthLmhlYWRlcnMuY29udGVudF90eXBlfHwoYS5oZWFkZXJzLmNvbnRlbnRfdHlwZT1cImFwcGxpY2F0aW9uL2pzb25cIik7YS5oZWFkZXJzLmNvbnRlbnRfdHlwZT1hLmhlYWRlcnMuY29udGVudF90eXBlLnRvTG93ZXJDYXNlKCk7dGhpcy5vcHRpb25zPWF9XG55Zi5wcm90b3R5cGUub3Blbj1mdW5jdGlvbihhLGIsYyl7ZnVuY3Rpb24gZCgpe2MmJihjKFcoXCJSRVFVRVNUX0lOVEVSUlVQVEVEXCIpKSxjPW51bGwpfXZhciBlPW5ldyBYTUxIdHRwUmVxdWVzdCxmPXRoaXMub3B0aW9ucy5tZXRob2QudG9VcHBlckNhc2UoKSxnO3FmKHdpbmRvdyxcImJlZm9yZXVubG9hZFwiLGQpO2Uub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7aWYoYyYmND09PWUucmVhZHlTdGF0ZSl7dmFyIGE7aWYoMjAwPD1lLnN0YXR1cyYmMzAwPmUuc3RhdHVzKXt0cnl7YT10YShlLnJlc3BvbnNlVGV4dCl9Y2F0Y2goYil7fWMobnVsbCxhKX1lbHNlIDUwMDw9ZS5zdGF0dXMmJjYwMD5lLnN0YXR1cz9jKFcoXCJTRVJWRVJfRVJST1JcIikpOmMoVyhcIk5FVFdPUktfRVJST1JcIikpO2M9bnVsbDtyZih3aW5kb3csXCJiZWZvcmV1bmxvYWRcIixkKX19O2lmKFwiR0VUXCI9PT1mKWErPSgvXFw/Ly50ZXN0KGEpP1wiXCI6XCI/XCIpK3VmKGIpLGc9bnVsbDtlbHNle3ZhciBrPXRoaXMub3B0aW9ucy5oZWFkZXJzLmNvbnRlbnRfdHlwZTtcblwiYXBwbGljYXRpb24vanNvblwiPT09ayYmKGc9cihiKSk7XCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIj09PWsmJihnPXVmKGIpKX1lLm9wZW4oZixhLCEwKTthPXtcIlgtUmVxdWVzdGVkLVdpdGhcIjpcIlhNTEh0dHBSZXF1ZXN0XCIsQWNjZXB0OlwiYXBwbGljYXRpb24vanNvbjt0ZXh0L3BsYWluXCJ9O1JkKGEsdGhpcy5vcHRpb25zLmhlYWRlcnMpO2Zvcih2YXIgbCBpbiBhKWUuc2V0UmVxdWVzdEhlYWRlcihsLGFbbF0pO2Uuc2VuZChnKX07eWYuaXNBdmFpbGFibGU9ZnVuY3Rpb24oKXtyZXR1cm4hIXdpbmRvdy5YTUxIdHRwUmVxdWVzdCYmXCJzdHJpbmdcIj09PXR5cGVvZihuZXcgWE1MSHR0cFJlcXVlc3QpLnJlc3BvbnNlVHlwZSYmKCEobmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvTVNJRS8pfHxuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9UcmlkZW50LykpfHx4ZigpKX07eWYucHJvdG90eXBlLnJjPWZ1bmN0aW9uKCl7cmV0dXJuXCJqc29uXCJ9O2Z1bmN0aW9uIHpmKGEpe2E9YXx8e307dGhpcy5TYz1HYSgpK0dhKCkrR2EoKTt0aGlzLm5mPWF8fHt9fVxuemYucHJvdG90eXBlLm9wZW49ZnVuY3Rpb24oYSxiLGMpe2Z1bmN0aW9uIGQoKXtjJiYoYyhXKFwiVVNFUl9DQU5DRUxMRURcIikpLGM9bnVsbCl9dmFyIGU9dGhpcyxmPXNiKGtmKSxnO2IucmVxdWVzdElkPXRoaXMuU2M7Yi5yZWRpcmVjdFRvPWYuc2NoZW1lK1wiOi8vXCIrZi5ob3N0K1wiL2JsYW5rL3BhZ2UuaHRtbFwiO2ErPS9cXD8vLnRlc3QoYSk/XCJcIjpcIj9cIjthKz11ZihiKTsoZz13aW5kb3cub3BlbihhLFwiX2JsYW5rXCIsXCJsb2NhdGlvbj1ub1wiKSkmJmhhKGcuYWRkRXZlbnRMaXN0ZW5lcik/KGcuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRzdGFydFwiLGZ1bmN0aW9uKGEpe3ZhciBiO2lmKGI9YSYmYS51cmwpYTp7dmFyIG49YS51cmw7dHJ5e3ZhciB1PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO3UuaHJlZj1uO2I9dS5ob3N0PT09Zi5ob3N0JiZcIi9ibGFuay9wYWdlLmh0bWxcIj09PXUucGF0aG5hbWU7YnJlYWsgYX1jYXRjaCh4KXt9Yj0hMX1iJiYoYT10ZihhLnVybCksZy5yZW1vdmVFdmVudExpc3RlbmVyKFwiZXhpdFwiLFxuZCksZy5jbG9zZSgpLGE9bmV3IGxmKG51bGwsbnVsbCx7cmVxdWVzdElkOmUuU2MscmVxdWVzdEtleTphfSksZS5uZi5yZXF1ZXN0V2l0aENyZWRlbnRpYWwoXCIvYXV0aC9zZXNzaW9uXCIsYSxjKSxjPW51bGwpfSksZy5hZGRFdmVudExpc3RlbmVyKFwiZXhpdFwiLGQpKTpjKFcoXCJUUkFOU1BPUlRfVU5BVkFJTEFCTEVcIikpfTt6Zi5pc0F2YWlsYWJsZT1mdW5jdGlvbigpe3JldHVybiB3ZigpfTt6Zi5wcm90b3R5cGUucmM9ZnVuY3Rpb24oKXtyZXR1cm5cInJlZGlyZWN0XCJ9O2Z1bmN0aW9uIEFmKGEpe2E9YXx8e307aWYoIWEud2luZG93X2ZlYXR1cmVzfHwtMSE9PW5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIkZlbm5lYy9cIil8fC0xIT09bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiRmlyZWZveC9cIikmJi0xIT09bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiQW5kcm9pZFwiKSlhLndpbmRvd19mZWF0dXJlcz12b2lkIDA7YS53aW5kb3dfbmFtZXx8KGEud2luZG93X25hbWU9XCJfYmxhbmtcIik7YS5yZWxheV91cmx8fChhLnJlbGF5X3VybD12ZigpK1wiL2F1dGgvY2hhbm5lbFwiKTt0aGlzLm9wdGlvbnM9YX1cbkFmLnByb3RvdHlwZS5vcGVuPWZ1bmN0aW9uKGEsYixjKXtmdW5jdGlvbiBkKGEpe2cmJihkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGcpLGc9dm9pZCAwKTt1JiYodT1jbGVhckludGVydmFsKHUpKTtyZih3aW5kb3csXCJtZXNzYWdlXCIsZSk7cmYod2luZG93LFwidW5sb2FkXCIsZCk7aWYobiYmIWEpdHJ5e24uY2xvc2UoKX1jYXRjaChiKXtrLnBvc3RNZXNzYWdlKFwiZGllXCIsbCl9bj1rPXZvaWQgMH1mdW5jdGlvbiBlKGEpe2lmKGEub3JpZ2luPT09bCl0cnl7dmFyIGI9dGEoYS5kYXRhKTtcInJlYWR5XCI9PT1iLmE/ay5wb3N0TWVzc2FnZSh4LGwpOlwiZXJyb3JcIj09PWIuYT8oZCghMSksYyYmKGMoYi5kKSxjPW51bGwpKTpcInJlc3BvbnNlXCI9PT1iLmEmJihkKGIuZm9yY2VLZWVwV2luZG93T3BlbiksYyYmKGMobnVsbCxiLmQpLGM9bnVsbCkpfWNhdGNoKGUpe319dmFyIGY9eGYoKSxnLGssbD1zZihhKTtpZihsIT09c2YodGhpcy5vcHRpb25zLnJlbGF5X3VybCkpYyYmc2V0VGltZW91dChmdW5jdGlvbigpe2MoRXJyb3IoXCJpbnZhbGlkIGFyZ3VtZW50czogb3JpZ2luIG9mIHVybCBhbmQgcmVsYXlfdXJsIG11c3QgbWF0Y2hcIikpfSxcbjApO2Vsc2V7ZiYmKGc9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlmcmFtZVwiKSxnLnNldEF0dHJpYnV0ZShcInNyY1wiLHRoaXMub3B0aW9ucy5yZWxheV91cmwpLGcuc3R5bGUuZGlzcGxheT1cIm5vbmVcIixnLnNldEF0dHJpYnV0ZShcIm5hbWVcIixcIl9fd2luY2hhbl9yZWxheV9mcmFtZVwiKSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGcpLGs9Zy5jb250ZW50V2luZG93KTthKz0oL1xcPy8udGVzdChhKT9cIlwiOlwiP1wiKSt1ZihiKTt2YXIgbj13aW5kb3cub3BlbihhLHRoaXMub3B0aW9ucy53aW5kb3dfbmFtZSx0aGlzLm9wdGlvbnMud2luZG93X2ZlYXR1cmVzKTtrfHwoaz1uKTt2YXIgdT1zZXRJbnRlcnZhbChmdW5jdGlvbigpe24mJm4uY2xvc2VkJiYoZCghMSksYyYmKGMoVyhcIlVTRVJfQ0FOQ0VMTEVEXCIpKSxjPW51bGwpKX0sNTAwKSx4PXIoe2E6XCJyZXF1ZXN0XCIsZDpifSk7cWYod2luZG93LFwidW5sb2FkXCIsZCk7cWYod2luZG93LFwibWVzc2FnZVwiLGUpfX07XG5BZi5pc0F2YWlsYWJsZT1mdW5jdGlvbigpe3JldHVyblwicG9zdE1lc3NhZ2VcImluIHdpbmRvdyYmIS9eZmlsZTpcXC8vLnRlc3QobG9jYXRpb24uaHJlZikmJiEod2YoKXx8bmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvV2luZG93cyBQaG9uZS8pfHx3aW5kb3cuV2luZG93cyYmL15tcy1hcHB4Oi8udGVzdChsb2NhdGlvbi5ocmVmKXx8bmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvKGlQaG9uZXxpUG9kfGlQYWQpLipBcHBsZVdlYktpdCg/IS4qU2FmYXJpKS9pKXx8bmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvQ3JpT1MvKXx8bmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvVHdpdHRlciBmb3IgaVBob25lLyl8fG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0ZCQU5cXC9GQklPUy8pfHx3aW5kb3cubmF2aWdhdG9yLnN0YW5kYWxvbmUpJiYhbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvUGhhbnRvbUpTLyl9O0FmLnByb3RvdHlwZS5yYz1mdW5jdGlvbigpe3JldHVyblwicG9wdXBcIn07ZnVuY3Rpb24gQmYoYSl7YT1hfHx7fTthLmNhbGxiYWNrX3BhcmFtZXRlcnx8KGEuY2FsbGJhY2tfcGFyYW1ldGVyPVwiY2FsbGJhY2tcIik7dGhpcy5vcHRpb25zPWE7d2luZG93Ll9fZmlyZWJhc2VfYXV0aF9qc29ucD13aW5kb3cuX19maXJlYmFzZV9hdXRoX2pzb25wfHx7fX1cbkJmLnByb3RvdHlwZS5vcGVuPWZ1bmN0aW9uKGEsYixjKXtmdW5jdGlvbiBkKCl7YyYmKGMoVyhcIlJFUVVFU1RfSU5URVJSVVBURURcIikpLGM9bnVsbCl9ZnVuY3Rpb24gZSgpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXt3aW5kb3cuX19maXJlYmFzZV9hdXRoX2pzb25wW2ZdPXZvaWQgMDtPZCh3aW5kb3cuX19maXJlYmFzZV9hdXRoX2pzb25wKSYmKHdpbmRvdy5fX2ZpcmViYXNlX2F1dGhfanNvbnA9dm9pZCAwKTt0cnl7dmFyIGE9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZik7YSYmYS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGEpfWNhdGNoKGIpe319LDEpO3JmKHdpbmRvdyxcImJlZm9yZXVubG9hZFwiLGQpfXZhciBmPVwiZm5cIisobmV3IERhdGUpLmdldFRpbWUoKStNYXRoLmZsb29yKDk5OTk5Kk1hdGgucmFuZG9tKCkpO2JbdGhpcy5vcHRpb25zLmNhbGxiYWNrX3BhcmFtZXRlcl09XCJfX2ZpcmViYXNlX2F1dGhfanNvbnAuXCIrZjthKz0oL1xcPy8udGVzdChhKT9cIlwiOlwiP1wiKSt1ZihiKTtcbnFmKHdpbmRvdyxcImJlZm9yZXVubG9hZFwiLGQpO3dpbmRvdy5fX2ZpcmViYXNlX2F1dGhfanNvbnBbZl09ZnVuY3Rpb24oYSl7YyYmKGMobnVsbCxhKSxjPW51bGwpO2UoKX07Q2YoZixhLGMpfTtcbmZ1bmN0aW9uIENmKGEsYixjKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dHJ5e3ZhciBkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7ZC50eXBlPVwidGV4dC9qYXZhc2NyaXB0XCI7ZC5pZD1hO2QuYXN5bmM9ITA7ZC5zcmM9YjtkLm9uZXJyb3I9ZnVuY3Rpb24oKXt2YXIgYj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChhKTtudWxsIT09YiYmYi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpO2MmJmMoVyhcIk5FVFdPUktfRVJST1JcIikpfTt2YXIgZT1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIik7KGUmJjAhPWUubGVuZ3RoP2VbMF06ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KS5hcHBlbmRDaGlsZChkKX1jYXRjaChmKXtjJiZjKFcoXCJORVRXT1JLX0VSUk9SXCIpKX19LDApfUJmLmlzQXZhaWxhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIXdmKCl9O0JmLnByb3RvdHlwZS5yYz1mdW5jdGlvbigpe3JldHVyblwianNvblwifTtmdW5jdGlvbiBEZihhLGIpe3RoaXMuSWU9W1wic2Vzc2lvblwiLGEuRGQsYS50Yl0uam9pbihcIjpcIik7dGhpcy5SZD1ifURmLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oYSxiKXtpZighYilpZih0aGlzLlJkLmxlbmd0aCliPXRoaXMuUmRbMF07ZWxzZSB0aHJvdyBFcnJvcihcImZiLmxvZ2luLlNlc3Npb25NYW5hZ2VyIDogTm8gc3RvcmFnZSBvcHRpb25zIGF2YWlsYWJsZSFcIik7Yi5zZXQodGhpcy5JZSxhKX07RGYucHJvdG90eXBlLmdldD1mdW5jdGlvbigpe3ZhciBhPUthKHRoaXMuUmQscSh0aGlzLlpmLHRoaXMpKSxhPUphKGEsZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPT1hfSk7UmEoYSxmdW5jdGlvbihhLGMpe3JldHVybiBJZShjLnRva2VuKS1JZShhLnRva2VuKX0pO3JldHVybiAwPGEubGVuZ3RoP2Euc2hpZnQoKTpudWxsfTtEZi5wcm90b3R5cGUuWmY9ZnVuY3Rpb24oYSl7dHJ5e3ZhciBiPWEuZ2V0KHRoaXMuSWUpO2lmKGImJmIudG9rZW4pcmV0dXJuIGJ9Y2F0Y2goYyl7fXJldHVybiBudWxsfTtcbkRmLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3ZhciBhPXRoaXM7SWEodGhpcy5SZCxmdW5jdGlvbihiKXtiLnJlbW92ZShhLkllKX0pfTtmdW5jdGlvbiBFZihhKXthPWF8fHt9O3RoaXMuU2M9R2EoKStHYSgpK0dhKCk7dGhpcy5uZj1hfHx7fX1FZi5wcm90b3R5cGUub3Blbj1mdW5jdGlvbihhLGIpe0FhLnNldChcInJlZGlyZWN0X3JlcXVlc3RfaWRcIix0aGlzLlNjKTtiLnJlcXVlc3RJZD10aGlzLlNjO2IucmVkaXJlY3RUbz1iLnJlZGlyZWN0VG98fHdpbmRvdy5sb2NhdGlvbi5ocmVmO2ErPSgvXFw/Ly50ZXN0KGEpP1wiXCI6XCI/XCIpK3VmKGIpO3dpbmRvdy5sb2NhdGlvbj1hfTtFZi5pc0F2YWlsYWJsZT1mdW5jdGlvbigpe3JldHVybiEvXmZpbGU6XFwvLy50ZXN0KGxvY2F0aW9uLmhyZWYpJiYhd2YoKX07RWYucHJvdG90eXBlLnJjPWZ1bmN0aW9uKCl7cmV0dXJuXCJyZWRpcmVjdFwifTtmdW5jdGlvbiBGZihhLGIsYyxkKXtHZC5jYWxsKHRoaXMsW1wiYXV0aF9zdGF0dXNcIl0pO3RoaXMuTz1hO3RoaXMuVGU9Yjt0aGlzLkNnPWM7dGhpcy5EZT1kO3RoaXMuaGM9bmV3IERmKGEsW3phLEFhXSk7dGhpcy5oYj1udWxsO0dmKHRoaXMpfW1hKEZmLEdkKTtoPUZmLnByb3RvdHlwZTtoLm1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGJ8fG51bGx9O2Z1bmN0aW9uIEdmKGEpe0FhLmdldChcInJlZGlyZWN0X3JlcXVlc3RfaWRcIikmJkhmKGEpO3ZhciBiPWEuaGMuZ2V0KCk7YiYmYi50b2tlbj8oSWYoYSxiKSxhLlRlKGIudG9rZW4sZnVuY3Rpb24oYyxkKXtKZihhLGMsZCwhMSxiLnRva2VuLGIpfSxmdW5jdGlvbihiLGQpe0tmKGEsXCJyZXN1bWVTZXNzaW9uKClcIixiLGQpfSkpOklmKGEsbnVsbCl9XG5mdW5jdGlvbiBMZihhLGIsYyxkLGUsZil7XCJmaXJlYmFzZWlvLWRlbW8uY29tXCI9PT1hLk8uZG9tYWluJiZ5KFwiRmlyZWJhc2UgYXV0aGVudGljYXRpb24gaXMgbm90IHN1cHBvcnRlZCBvbiBkZW1vIEZpcmViYXNlcyAoKi5maXJlYmFzZWlvLWRlbW8uY29tKS4gVG8gc2VjdXJlIHlvdXIgRmlyZWJhc2UsIGNyZWF0ZSBhIHByb2R1Y3Rpb24gRmlyZWJhc2UgYXQgaHR0cHM6Ly93d3cuZmlyZWJhc2UuY29tLlwiKTthLlRlKGIsZnVuY3Rpb24oZixrKXtKZihhLGYsaywhMCxiLGMsZHx8e30sZSl9LGZ1bmN0aW9uKGIsYyl7S2YoYSxcImF1dGgoKVwiLGIsYyxmKX0pfWZ1bmN0aW9uIE1mKGEsYil7YS5oYy5jbGVhcigpO0lmKGEsbnVsbCk7YS5DZyhmdW5jdGlvbihhLGQpe2lmKFwib2tcIj09PWEpQShiLG51bGwpO2Vsc2V7dmFyIGU9KGF8fFwiZXJyb3JcIikudG9VcHBlckNhc2UoKSxmPWU7ZCYmKGYrPVwiOiBcIitkKTtmPUVycm9yKGYpO2YuY29kZT1lO0EoYixmKX19KX1cbmZ1bmN0aW9uIEpmKGEsYixjLGQsZSxmLGcsayl7XCJva1wiPT09Yj8oZCYmKGI9Yy5hdXRoLGYuYXV0aD1iLGYuZXhwaXJlcz1jLmV4cGlyZXMsZi50b2tlbj1KZShlKT9lOlwiXCIsYz1udWxsLGImJnMoYixcInVpZFwiKT9jPXQoYixcInVpZFwiKTpzKGYsXCJ1aWRcIikmJihjPXQoZixcInVpZFwiKSksZi51aWQ9YyxjPVwiY3VzdG9tXCIsYiYmcyhiLFwicHJvdmlkZXJcIik/Yz10KGIsXCJwcm92aWRlclwiKTpzKGYsXCJwcm92aWRlclwiKSYmKGM9dChmLFwicHJvdmlkZXJcIikpLGYucHJvdmlkZXI9YyxhLmhjLmNsZWFyKCksSmUoZSkmJihnPWd8fHt9LGM9emEsXCJzZXNzaW9uT25seVwiPT09Zy5yZW1lbWJlciYmKGM9QWEpLFwibm9uZVwiIT09Zy5yZW1lbWJlciYmYS5oYy5zZXQoZixjKSksSWYoYSxmKSksQShrLG51bGwsZikpOihhLmhjLmNsZWFyKCksSWYoYSxudWxsKSxmPWE9KGJ8fFwiZXJyb3JcIikudG9VcHBlckNhc2UoKSxjJiYoZis9XCI6IFwiK2MpLGY9RXJyb3IoZiksZi5jb2RlPWEsQShrLGYpKX1cbmZ1bmN0aW9uIEtmKGEsYixjLGQsZSl7eShiK1wiIHdhcyBjYW5jZWxlZDogXCIrZCk7YS5oYy5jbGVhcigpO0lmKGEsbnVsbCk7YT1FcnJvcihkKTthLmNvZGU9Yy50b1VwcGVyQ2FzZSgpO0EoZSxhKX1mdW5jdGlvbiBOZihhLGIsYyxkLGUpe09mKGEpO2M9bmV3IGxmKGR8fHt9LHt9LGN8fHt9KTtQZihhLFt5ZixCZl0sXCIvYXV0aC9cIitiLGMsZSl9XG5mdW5jdGlvbiBRZihhLGIsYyxkKXtPZihhKTt2YXIgZT1bQWYsemZdO2M9bmYoYyk7XCJhbm9ueW1vdXNcIj09PWJ8fFwicGFzc3dvcmRcIj09PWI/c2V0VGltZW91dChmdW5jdGlvbigpe0EoZCxXKFwiVFJBTlNQT1JUX1VOQVZBSUxBQkxFXCIpKX0sMCk6KGMuVWQud2luZG93X2ZlYXR1cmVzPVwibWVudWJhcj15ZXMsbW9kYWw9eWVzLGFsd2F5c1JhaXNlZD15ZXNsb2NhdGlvbj15ZXMscmVzaXphYmxlPXllcyxzY3JvbGxiYXJzPXllcyxzdGF0dXM9eWVzLGhlaWdodD02MjUsd2lkdGg9NjI1LHRvcD1cIisoXCJvYmplY3RcIj09PXR5cGVvZiBzY3JlZW4/LjUqKHNjcmVlbi5oZWlnaHQtNjI1KTowKStcIixsZWZ0PVwiKyhcIm9iamVjdFwiPT09dHlwZW9mIHNjcmVlbj8uNSooc2NyZWVuLndpZHRoLTYyNSk6MCksYy5VZC5yZWxheV91cmw9dmYoKStcIi9cIithLk8udGIrXCIvYXV0aC9jaGFubmVsXCIsYy5VZC5yZXF1ZXN0V2l0aENyZWRlbnRpYWw9cShhLmZjLGEpLFBmKGEsZSxcIi9hdXRoL1wiK2IsYyxkKSl9XG5mdW5jdGlvbiBIZihhKXt2YXIgYj1BYS5nZXQoXCJyZWRpcmVjdF9yZXF1ZXN0X2lkXCIpO2lmKGIpe3ZhciBjPUFhLmdldChcInJlZGlyZWN0X2NsaWVudF9vcHRpb25zXCIpO0FhLnJlbW92ZShcInJlZGlyZWN0X3JlcXVlc3RfaWRcIik7QWEucmVtb3ZlKFwicmVkaXJlY3RfY2xpZW50X29wdGlvbnNcIik7dmFyIGQ9W3lmLEJmXSxiPXtyZXF1ZXN0SWQ6YixyZXF1ZXN0S2V5OnRmKGRvY3VtZW50LmxvY2F0aW9uLmhhc2gpfSxjPW5ldyBsZihjLHt9LGIpO3RyeXtkb2N1bWVudC5sb2NhdGlvbi5oYXNoPWRvY3VtZW50LmxvY2F0aW9uLmhhc2gucmVwbGFjZSgvJl9fZmlyZWJhc2VfcmVxdWVzdF9rZXk9KFthLXpBLXowLTldKikvLFwiXCIpfWNhdGNoKGUpe31QZihhLGQsXCIvYXV0aC9zZXNzaW9uXCIsYyl9fWguamU9ZnVuY3Rpb24oYSxiKXtPZih0aGlzKTt2YXIgYz1uZihhKTtjLlhhLl9tZXRob2Q9XCJQT1NUXCI7dGhpcy5mYyhcIi91c2Vyc1wiLGMsZnVuY3Rpb24oYSxjKXthP0EoYixhKTpBKGIsYSxjKX0pfTtcbmguS2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzO09mKHRoaXMpO3ZhciBkPVwiL3VzZXJzL1wiK2VuY29kZVVSSUNvbXBvbmVudChhLmVtYWlsKSxlPW5mKGEpO2UuWGEuX21ldGhvZD1cIkRFTEVURVwiO3RoaXMuZmMoZCxlLGZ1bmN0aW9uKGEsZCl7IWEmJmQmJmQudWlkJiZjLmhiJiZjLmhiLnVpZCYmYy5oYi51aWQ9PT1kLnVpZCYmTWYoYyk7QShiLGEpfSl9O2guZWU9ZnVuY3Rpb24oYSxiKXtPZih0aGlzKTt2YXIgYz1cIi91c2Vycy9cIitlbmNvZGVVUklDb21wb25lbnQoYS5lbWFpbCkrXCIvcGFzc3dvcmRcIixkPW5mKGEpO2QuWGEuX21ldGhvZD1cIlBVVFwiO2QuWGEucGFzc3dvcmQ9YS5uZXdQYXNzd29yZDt0aGlzLmZjKGMsZCxmdW5jdGlvbihhKXtBKGIsYSl9KX07XG5oLmRlPWZ1bmN0aW9uKGEsYil7T2YodGhpcyk7dmFyIGM9XCIvdXNlcnMvXCIrZW5jb2RlVVJJQ29tcG9uZW50KGEub2xkRW1haWwpK1wiL2VtYWlsXCIsZD1uZihhKTtkLlhhLl9tZXRob2Q9XCJQVVRcIjtkLlhhLmVtYWlsPWEubmV3RW1haWw7ZC5YYS5wYXNzd29yZD1hLnBhc3N3b3JkO3RoaXMuZmMoYyxkLGZ1bmN0aW9uKGEpe0EoYixhKX0pfTtoLkxlPWZ1bmN0aW9uKGEsYil7T2YodGhpcyk7dmFyIGM9XCIvdXNlcnMvXCIrZW5jb2RlVVJJQ29tcG9uZW50KGEuZW1haWwpK1wiL3Bhc3N3b3JkXCIsZD1uZihhKTtkLlhhLl9tZXRob2Q9XCJQT1NUXCI7dGhpcy5mYyhjLGQsZnVuY3Rpb24oYSl7QShiLGEpfSl9O2guZmM9ZnVuY3Rpb24oYSxiLGMpe1JmKHRoaXMsW3lmLEJmXSxhLGIsYyl9O1xuZnVuY3Rpb24gUGYoYSxiLGMsZCxlKXtSZihhLGIsYyxkLGZ1bmN0aW9uKGIsYyl7IWImJmMmJmMudG9rZW4mJmMudWlkP0xmKGEsYy50b2tlbixjLGQuY2QsZnVuY3Rpb24oYSxiKXthP0EoZSxhKTpBKGUsbnVsbCxiKX0pOkEoZSxifHxXKFwiVU5LTk9XTl9FUlJPUlwiKSl9KX1cbmZ1bmN0aW9uIFJmKGEsYixjLGQsZSl7Yj1KYShiLGZ1bmN0aW9uKGEpe3JldHVyblwiZnVuY3Rpb25cIj09PXR5cGVvZiBhLmlzQXZhaWxhYmxlJiZhLmlzQXZhaWxhYmxlKCl9KTswPT09Yi5sZW5ndGg/c2V0VGltZW91dChmdW5jdGlvbigpe0EoZSxXKFwiVFJBTlNQT1JUX1VOQVZBSUxBQkxFXCIpKX0sMCk6KGI9bmV3IChiLnNoaWZ0KCkpKGQuVWQpLGQ9dmEoZC5YYSksZC52PVwianMtMi4xLjFcIixkLnRyYW5zcG9ydD1iLnJjKCksZC5zdXBwcmVzc19zdGF0dXNfY29kZXM9ITAsYT12ZigpK1wiL1wiK2EuTy50YitjLGIub3BlbihhLGQsZnVuY3Rpb24oYSxiKXtpZihhKUEoZSxhKTtlbHNlIGlmKGImJmIuZXJyb3Ipe3ZhciBjPUVycm9yKGIuZXJyb3IubWVzc2FnZSk7Yy5jb2RlPWIuZXJyb3IuY29kZTtjLmRldGFpbHM9Yi5lcnJvci5kZXRhaWxzO0EoZSxjKX1lbHNlIEEoZSxudWxsLGIpfSkpfVxuZnVuY3Rpb24gSWYoYSxiKXt2YXIgYz1udWxsIT09YS5oYnx8bnVsbCE9PWI7YS5oYj1iO2MmJmEuVmQoXCJhdXRoX3N0YXR1c1wiLGIpO2EuRGUobnVsbCE9PWIpfWgucGU9ZnVuY3Rpb24oYSl7dyhcImF1dGhfc3RhdHVzXCI9PT1hLCdpbml0aWFsIGV2ZW50IG11c3QgYmUgb2YgdHlwZSBcImF1dGhfc3RhdHVzXCInKTtyZXR1cm5bdGhpcy5oYl19O2Z1bmN0aW9uIE9mKGEpe3ZhciBiPWEuTztpZihcImZpcmViYXNlaW8uY29tXCIhPT1iLmRvbWFpbiYmXCJmaXJlYmFzZWlvLWRlbW8uY29tXCIhPT1iLmRvbWFpbiYmXCJhdXRoLmZpcmViYXNlLmNvbVwiPT09a2YpdGhyb3cgRXJyb3IoXCJUaGlzIGN1c3RvbSBGaXJlYmFzZSBzZXJ2ZXIgKCdcIithLk8uZG9tYWluK1wiJykgZG9lcyBub3Qgc3VwcG9ydCBkZWxlZ2F0ZWQgbG9naW4uXCIpO307ZnVuY3Rpb24gU2YoYSxiKXtyZXR1cm4gYSYmXCJvYmplY3RcIj09PXR5cGVvZiBhPyh3KFwiLnN2XCJpbiBhLFwiVW5leHBlY3RlZCBsZWFmIG5vZGUgb3IgcHJpb3JpdHkgY29udGVudHNcIiksYlthW1wiLnN2XCJdXSk6YX1mdW5jdGlvbiBUZihhLGIpe3ZhciBjPW5ldyBhZjtjZihhLG5ldyBSKFwiXCIpLGZ1bmN0aW9uKGEsZSl7Yy5kYyhhLFVmKGUsYikpfSk7cmV0dXJuIGN9ZnVuY3Rpb24gVWYoYSxiKXt2YXIgYz1hLksoKS5OKCksYz1TZihjLGIpLGQ7aWYoYS5MKCkpe3ZhciBlPVNmKGEuemEoKSxiKTtyZXR1cm4gZSE9PWEuemEoKXx8YyE9PWEuSygpLk4oKT9uZXcgb2QoZSxOKGMpKTphfWQ9YTtjIT09YS5LKCkuTigpJiYoZD1kLloobmV3IG9kKGMpKSk7YS5UKEssZnVuY3Rpb24oYSxjKXt2YXIgZT1VZihjLGIpO2UhPT1jJiYoZD1kLlAoYSxlKSl9KTtyZXR1cm4gZH07ZnVuY3Rpb24geGMoYSxiLGMpe3RoaXMuQj1hO3RoaXMuYWE9Yjt0aGlzLnhjPWN9ZnVuY3Rpb24gVmYoYSl7cmV0dXJuIGEuYWF9ZnVuY3Rpb24gd2MoYSxiKXtyZXR1cm4gYS5hYSYmIWEueGN8fGEuQi5EYShiKX14Yy5wcm90b3R5cGUuaj1mdW5jdGlvbigpe3JldHVybiB0aGlzLkJ9O2Z1bmN0aW9uIFdmKGEsYil7dGhpcy5GPWE7dGhpcy5MZD1ifWZ1bmN0aW9uIFhmKGEsYixjLGQpe3JldHVybiBuZXcgV2YobmV3IHhjKGIsYyxkKSxhLkxkKX1mdW5jdGlvbiBZZihhKXtyZXR1cm4gYS5GLmFhP2EuRi5qKCk6bnVsbH1XZi5wcm90b3R5cGUubz1mdW5jdGlvbigpe3JldHVybiB0aGlzLkxkfTtmdW5jdGlvbiB5YyhhKXtyZXR1cm4gYS5MZC5hYT9hLkxkLmooKTpudWxsfTtmdW5jdGlvbiBaZihhLGIpe3RoaXMuWWQ9YTt0aGlzLk9mPWJ9ZnVuY3Rpb24gJGYoYSl7dGhpcy5HPWF9XG4kZi5wcm90b3R5cGUuWWE9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9bmV3IHpjLGY7aWYoYi50eXBlPT09YWcpYi5zb3VyY2UuYmY/Yz1iZyh0aGlzLGEsYi5wYXRoLGIuUGEsYyxkLGUpOih3KGIuc291cmNlLmFmLFwiVW5rbm93biBzb3VyY2UuXCIpLGY9Yi5zb3VyY2UuemYsYz1jZyh0aGlzLGEsYi5wYXRoLGIuUGEsYyxkLGYsZSkpO2Vsc2UgaWYoYi50eXBlPT09ZGcpYi5zb3VyY2UuYmY/Yz1lZyh0aGlzLGEsYi5wYXRoLGIuY2hpbGRyZW4sYyxkLGUpOih3KGIuc291cmNlLmFmLFwiVW5rbm93biBzb3VyY2UuXCIpLGY9Yi5zb3VyY2UuemYsYz1mZyh0aGlzLGEsYi5wYXRoLGIuY2hpbGRyZW4sYyxkLGYsZSkpO2Vsc2UgaWYoYi50eXBlPT09Z2cpaWYoYi53ZilpZihmPWIucGF0aCxudWxsIT1jLmljKGYpKWM9YTtlbHNle2I9bmV3IHZjKGMsYSxkKTtkPWEuRi5qKCk7aWYoZi5lKCl8fFwiLnByaW9yaXR5XCI9PT1IKGYpKVZmKGEubygpKT9iPWMucGEoeWMoYSkpOihiPWEubygpLmooKSxcbncoYiBpbnN0YW5jZW9mIFYsXCJzZXJ2ZXJDaGlsZHJlbiB3b3VsZCBiZSBjb21wbGV0ZSBpZiBsZWFmIG5vZGVcIiksYj1jLm9jKGIpKSxiPXRoaXMuRy5vYShkLGIsZSk7ZWxzZXtmPUgoZik7dmFyIGc9Yy5UYShmLGEubygpKTtudWxsPT1nJiZ3YyhhLm8oKSxmKSYmKGc9ZC5KKGYpKTtiPW51bGwhPWc/dGhpcy5HLkQoZCxmLGcsYixlKTphLkYuaigpLkRhKGYpP3RoaXMuRy5EKGQsZixMLGIsZSk6ZDtiLmUoKSYmVmYoYS5vKCkpJiYoZD1jLnBhKHljKGEpKSxkLkwoKSYmKGI9dGhpcy5HLm9hKGIsZCxlKSkpfWQ9VmYoYS5vKCkpfHxudWxsIT1jLmljKFQpO2M9WGYoYSxiLGQsdGhpcy5HLnlhKCkpfWVsc2UgYz1oZyh0aGlzLGEsYi5wYXRoLGMsZCxlKTtlbHNlIGlmKGIudHlwZT09PWlnKWQ9Yi5wYXRoLGI9YS5vKCksZj1iLmooKSxnPWIuYWF8fGQuZSgpLGM9amcodGhpcyxuZXcgV2YoYS5GLG5ldyB4YyhmLGcsYi54YykpLGQsYyx1YyxlKTtlbHNlIHRocm93IGdiKFwiVW5rbm93biBvcGVyYXRpb24gdHlwZTogXCIrXG5iLnR5cGUpO2U9S2QoZS5aYSk7ZD1jO2I9ZC5GO2IuYWEmJihmPWIuaigpLkwoKXx8Yi5qKCkuZSgpLGc9WWYoYSksKDA8ZS5sZW5ndGh8fCFhLkYuYWF8fGYmJiFiLmooKS5lYShnKXx8IWIuaigpLksoKS5lYShnLksoKSkpJiZlLnB1c2goR2IoWWYoZCkpKSk7cmV0dXJuIG5ldyBaZihjLGUpfTtcbmZ1bmN0aW9uIGpnKGEsYixjLGQsZSxmKXt2YXIgZz1iLkY7aWYobnVsbCE9ZC5pYyhjKSlyZXR1cm4gYjt2YXIgaztpZihjLmUoKSl3KFZmKGIubygpKSxcIklmIGNoYW5nZSBwYXRoIGlzIGVtcHR5LCB3ZSBtdXN0IGhhdmUgY29tcGxldGUgc2VydmVyIGRhdGFcIiksYS5HLnlhKCk/KGU9eWMoYiksZD1kLm9jKGUgaW5zdGFuY2VvZiBWP2U6TCkpOmQ9ZC5wYSh5YyhiKSksZj1hLkcub2EoYi5GLmooKSxkLGYpO2Vsc2V7dmFyIGw9SChjKTtpZihcIi5wcmlvcml0eVwiPT1sKXcoMT09UmMoYyksXCJDYW4ndCBoYXZlIGEgcHJpb3JpdHkgd2l0aCBhZGRpdGlvbmFsIHBhdGggY29tcG9uZW50c1wiKSxmPWcuaigpLGs9Yi5vKCkuaigpLGQ9ZC4kYyhjLGYsayksZj1udWxsIT1kP2EuRy5aKGYsZCk6Zy5qKCk7ZWxzZXt2YXIgbj1TKGMpO3djKGcsbCk/KGs9Yi5vKCkuaigpLGQ9ZC4kYyhjLGcuaigpLGspLGQ9bnVsbCE9ZD9nLmooKS5KKGwpLkQobixkKTpnLmooKS5KKGwpKTpkPWQuVGEobCxiLm8oKSk7XG5mPW51bGwhPWQ/YS5HLkQoZy5qKCksbCxkLGUsZik6Zy5qKCl9fXJldHVybiBYZihiLGYsZy5hYXx8Yy5lKCksYS5HLnlhKCkpfWZ1bmN0aW9uIGNnKGEsYixjLGQsZSxmLGcsayl7dmFyIGw9Yi5vKCk7Zz1nP2EuRzphLkcuTGIoKTtpZihjLmUoKSlkPWcub2EobC5qKCksZCxudWxsKTtlbHNlIGlmKGcueWEoKSYmIWwueGMpZD1sLmooKS5EKGMsZCksZD1nLm9hKGwuaigpLGQsbnVsbCk7ZWxzZXt2YXIgbj1IKGMpO2lmKChjLmUoKT8hbC5hYXx8bC54Yzohd2MobCxIKGMpKSkmJjE8UmMoYykpcmV0dXJuIGI7ZD1sLmooKS5KKG4pLkQoUyhjKSxkKTtkPVwiLnByaW9yaXR5XCI9PW4/Zy5aKGwuaigpLGQpOmcuRChsLmooKSxuLGQsdWMsbnVsbCl9bD1sLmFhfHxjLmUoKTtiPW5ldyBXZihiLkYsbmV3IHhjKGQsbCxnLnlhKCkpKTtyZXR1cm4gamcoYSxiLGMsZSxuZXcgdmMoZSxiLGYpLGspfVxuZnVuY3Rpb24gYmcoYSxiLGMsZCxlLGYsZyl7dmFyIGs9Yi5GO2U9bmV3IHZjKGUsYixmKTtpZihjLmUoKSlnPWEuRy5vYShiLkYuaigpLGQsZyksYT1YZihiLGcsITAsYS5HLnlhKCkpO2Vsc2UgaWYoZj1IKGMpLFwiLnByaW9yaXR5XCI9PT1mKWc9YS5HLlooYi5GLmooKSxkKSxhPVhmKGIsZyxrLmFhLGsueGMpO2Vsc2V7dmFyIGw9UyhjKTtjPWsuaigpLkooZik7aWYoIWwuZSgpKXt2YXIgbj1lLmNmKGYpO2Q9bnVsbCE9bj9cIi5wcmlvcml0eVwiPT09U2MobCkmJm4ucmEobC5wYXJlbnQoKSkuZSgpP246bi5EKGwsZCk6TH1jLmVhKGQpP2E9YjooZz1hLkcuRChrLmooKSxmLGQsZSxnKSxhPVhmKGIsZyxrLmFhLGEuRy55YSgpKSl9cmV0dXJuIGF9XG5mdW5jdGlvbiBlZyhhLGIsYyxkLGUsZixnKXt2YXIgaz1iO2tnKGQsZnVuY3Rpb24oZCxuKXt2YXIgdT1jLm4oZCk7d2MoYi5GLEgodSkpJiYoaz1iZyhhLGssdSxuLGUsZixnKSl9KTtrZyhkLGZ1bmN0aW9uKGQsbil7dmFyIHU9Yy5uKGQpO3djKGIuRixIKHUpKXx8KGs9YmcoYSxrLHUsbixlLGYsZykpfSk7cmV0dXJuIGt9ZnVuY3Rpb24gbGcoYSxiKXtrZyhiLGZ1bmN0aW9uKGIsZCl7YT1hLkQoYixkKX0pO3JldHVybiBhfVxuZnVuY3Rpb24gZmcoYSxiLGMsZCxlLGYsZyxrKXtpZihiLm8oKS5qKCkuZSgpJiYhVmYoYi5vKCkpKXJldHVybiBiO3ZhciBsPWI7Yz1jLmUoKT9kOm1nKG5nLGMsZCk7dmFyIG49Yi5vKCkuaigpO2MuY2hpbGRyZW4uZmEoZnVuY3Rpb24oYyxkKXtpZihuLkRhKGMpKXt2YXIgRT1iLm8oKS5qKCkuSihjKSxFPWxnKEUsZCk7bD1jZyhhLGwsbmV3IFIoYyksRSxlLGYsZyxrKX19KTtjLmNoaWxkcmVuLmZhKGZ1bmN0aW9uKGMsZCl7dmFyIEU9IVZmKGIubygpKSYmbnVsbD09ZC52YWx1ZTtuLkRhKGMpfHxFfHwoRT1iLm8oKS5qKCkuSihjKSxFPWxnKEUsZCksbD1jZyhhLGwsbmV3IFIoYyksRSxlLGYsZyxrKSl9KTtyZXR1cm4gbH1cbmZ1bmN0aW9uIGhnKGEsYixjLGQsZSxmKXtpZihudWxsIT1kLmljKGMpKXJldHVybiBiO3ZhciBnPW5ldyB2YyhkLGIsZSksaz1lPWIuRi5qKCk7aWYoVmYoYi5vKCkpKXtpZihjLmUoKSllPWQucGEoeWMoYikpLGs9YS5HLm9hKGIuRi5qKCksZSxmKTtlbHNlIGlmKFwiLnByaW9yaXR5XCI9PT1IKGMpKXt2YXIgbD1kLlRhKEgoYyksYi5vKCkpO251bGw9PWx8fGUuZSgpfHxlLksoKS5lYShsKXx8KGs9YS5HLlooZSxsKSl9ZWxzZSBsPUgoYyksZT1kLlRhKGwsYi5vKCkpLG51bGwhPWUmJihrPWEuRy5EKGIuRi5qKCksbCxlLGcsZikpO2U9ITB9ZWxzZSBiLkYuYWE/KGs9ZSxlPVlmKGIpLGUuTCgpfHxlLlQoSyxmdW5jdGlvbihjKXt2YXIgZT1kLlRhKGMsYi5vKCkpO251bGwhPWUmJihrPWEuRy5EKGssYyxlLGcsZikpfSksZT0hMCk6KCFjLmUoKSYmKGw9SChjKSwxPT1SYyhjKXx8d2MoYi5GLGwpKSYmKGM9ZC5UYShsLGIubygpKSxudWxsIT1jJiYoaz1hLkcuRChlLGwsYyxnLGYpKSksXG5lPSExKTtyZXR1cm4gWGYoYixrLGUsYS5HLnlhKCkpfTtmdW5jdGlvbiBvZyhhKXt0aGlzLlY9YTt0aGlzLmc9YS53Lmd9ZnVuY3Rpb24gcGcoYSxiLGMsZCl7dmFyIGU9W10sZj1bXTtJYShiLGZ1bmN0aW9uKGIpe1wiY2hpbGRfY2hhbmdlZFwiPT09Yi50eXBlJiZhLmcuZ2YoYi5DZSxiLkdhKSYmZi5wdXNoKG5ldyBCKFwiY2hpbGRfbW92ZWRcIixiLkdhLGIuVWEpKX0pO3FnKGEsZSxcImNoaWxkX3JlbW92ZWRcIixiLGQsYyk7cWcoYSxlLFwiY2hpbGRfYWRkZWRcIixiLGQsYyk7cWcoYSxlLFwiY2hpbGRfbW92ZWRcIixmLGQsYyk7cWcoYSxlLFwiY2hpbGRfY2hhbmdlZFwiLGIsZCxjKTtxZyhhLGUsSGIsYixkLGMpO3JldHVybiBlfWZ1bmN0aW9uIHFnKGEsYixjLGQsZSxmKXtkPUphKGQsZnVuY3Rpb24oYSl7cmV0dXJuIGEudHlwZT09PWN9KTtSYShkLHEoYS5RZixhKSk7SWEoZCxmdW5jdGlvbihjKXt2YXIgZD1yZyhhLGMsZik7SWEoZSxmdW5jdGlvbihlKXtlLnRmKGMudHlwZSkmJmIucHVzaChlLmNyZWF0ZUV2ZW50KGQsYS5WKSl9KX0pfVxuZnVuY3Rpb24gcmcoYSxiLGMpe1widmFsdWVcIiE9PWIudHlwZSYmXCJjaGlsZF9yZW1vdmVkXCIhPT1iLnR5cGUmJihiLkZkPWMuZGYoYi5VYSxiLkdhLGEuZykpO3JldHVybiBifW9nLnByb3RvdHlwZS5RZj1mdW5jdGlvbihhLGIpe2lmKG51bGw9PWEuVWF8fG51bGw9PWIuVWEpdGhyb3cgZ2IoXCJTaG91bGQgb25seSBjb21wYXJlIGNoaWxkXyBldmVudHMuXCIpO3JldHVybiB0aGlzLmcuY29tcGFyZShuZXcgTShhLlVhLGEuR2EpLG5ldyBNKGIuVWEsYi5HYSkpfTtmdW5jdGlvbiBzZyhhLGIpe3RoaXMuVj1hO3ZhciBjPWEudyxkPW5ldyBjYyhjLmcpLGM9SmMoYyk/bmV3IGNjKGMuZyk6Yy5rYT9uZXcgQmMoYyk6bmV3IGVjKGMpO3RoaXMucWY9bmV3ICRmKGMpO3ZhciBlPWIubygpLGY9Yi5GLGc9ZC5vYShMLGUuaigpLG51bGwpLGs9Yy5vYShMLGYuaigpLG51bGwpO3RoaXMuSGE9bmV3IFdmKG5ldyB4YyhrLGYuYWEsYy55YSgpKSxuZXcgeGMoZyxlLmFhLGQueWEoKSkpO3RoaXMuVmE9W107dGhpcy5VZj1uZXcgb2coYSl9ZnVuY3Rpb24gdGcoYSl7cmV0dXJuIGEuVn1oPXNnLnByb3RvdHlwZTtoLm89ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5IYS5vKCkuaigpfTtoLmJiPWZ1bmN0aW9uKGEpe3ZhciBiPXljKHRoaXMuSGEpO3JldHVybiBiJiYoSmModGhpcy5WLncpfHwhYS5lKCkmJiFiLkooSChhKSkuZSgpKT9iLnJhKGEpOm51bGx9O2guZT1mdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy5WYS5sZW5ndGh9O2guRmI9ZnVuY3Rpb24oYSl7dGhpcy5WYS5wdXNoKGEpfTtcbmguZ2I9ZnVuY3Rpb24oYSxiKXt2YXIgYz1bXTtpZihiKXt3KG51bGw9PWEsXCJBIGNhbmNlbCBzaG91bGQgY2FuY2VsIGFsbCBldmVudCByZWdpc3RyYXRpb25zLlwiKTt2YXIgZD10aGlzLlYucGF0aDtJYSh0aGlzLlZhLGZ1bmN0aW9uKGEpeyhhPWEuVmUoYixkKSkmJmMucHVzaChhKX0pfWlmKGEpe2Zvcih2YXIgZT1bXSxmPTA7Zjx0aGlzLlZhLmxlbmd0aDsrK2Ype3ZhciBnPXRoaXMuVmFbZl07aWYoIWcubWF0Y2hlcyhhKSllLnB1c2goZyk7ZWxzZSBpZihhLmZmKCkpe2U9ZS5jb25jYXQodGhpcy5WYS5zbGljZShmKzEpKTticmVha319dGhpcy5WYT1lfWVsc2UgdGhpcy5WYT1bXTtyZXR1cm4gY307XG5oLllhPWZ1bmN0aW9uKGEsYixjKXthLnR5cGU9PT1kZyYmbnVsbCE9PWEuc291cmNlLmFjJiYodyh5Yyh0aGlzLkhhKSxcIldlIHNob3VsZCBhbHdheXMgaGF2ZSBhIGZ1bGwgY2FjaGUgYmVmb3JlIGhhbmRsaW5nIG1lcmdlc1wiKSx3KFlmKHRoaXMuSGEpLFwiTWlzc2luZyBldmVudCBjYWNoZSwgZXZlbiB0aG91Z2ggd2UgaGF2ZSBhIHNlcnZlciBjYWNoZVwiKSk7dmFyIGQ9dGhpcy5IYTthPXRoaXMucWYuWWEoZCxhLGIsYyk7Yj10aGlzLnFmO2M9YS5ZZDt3KGMuRi5qKCkuQWMoYi5HLmcpLFwiRXZlbnQgc25hcCBub3QgaW5kZXhlZFwiKTt3KGMubygpLmooKS5BYyhiLkcuZyksXCJTZXJ2ZXIgc25hcCBub3QgaW5kZXhlZFwiKTt3KFZmKGEuWWQubygpKXx8IVZmKGQubygpKSxcIk9uY2UgYSBzZXJ2ZXIgc25hcCBpcyBjb21wbGV0ZSwgaXQgc2hvdWxkIG5ldmVyIGdvIGJhY2tcIik7dGhpcy5IYT1hLllkO3JldHVybiB1Zyh0aGlzLGEuT2YsYS5ZZC5GLmooKSxudWxsKX07XG5mdW5jdGlvbiB2ZyhhLGIpe3ZhciBjPWEuSGEuRixkPVtdO2MuaigpLkwoKXx8Yy5qKCkuVChLLGZ1bmN0aW9uKGEsYil7ZC5wdXNoKG5ldyBCKFwiY2hpbGRfYWRkZWRcIixiLGEpKX0pO2MuYWEmJmQucHVzaChHYihjLmooKSkpO3JldHVybiB1ZyhhLGQsYy5qKCksYil9ZnVuY3Rpb24gdWcoYSxiLGMsZCl7cmV0dXJuIHBnKGEuVWYsYixjLGQ/W2RdOmEuVmEpfTtmdW5jdGlvbiB3ZyhhLGIpe3RoaXMudmFsdWU9YTt0aGlzLmNoaWxkcmVuPWJ8fHhnfXZhciB4Zz1uZXcgJGMoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT09PWI/MDphPGI/LTE6MX0pLG5nPW5ldyB3ZyhudWxsKTtmdW5jdGlvbiB5ZyhhKXt2YXIgYj1uZzt6KGEsZnVuY3Rpb24oYSxkKXtiPWIuc2V0KG5ldyBSKGQpLGEpfSk7cmV0dXJuIGJ9aD13Zy5wcm90b3R5cGU7aC5lPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PT10aGlzLnZhbHVlJiZ0aGlzLmNoaWxkcmVuLmUoKX07ZnVuY3Rpb24gemcoYSxiLGMpe2lmKG51bGwhPWEudmFsdWUmJmMoYS52YWx1ZSkpcmV0dXJue3BhdGg6VCx2YWx1ZTphLnZhbHVlfTtpZihiLmUoKSlyZXR1cm4gbnVsbDt2YXIgZD1IKGIpO2E9YS5jaGlsZHJlbi5nZXQoZCk7cmV0dXJuIG51bGwhPT1hPyhiPXpnKGEsUyhiKSxjKSxudWxsIT1iP3twYXRoOihuZXcgUihkKSkubihiLnBhdGgpLHZhbHVlOmIudmFsdWV9Om51bGwpOm51bGx9XG5mdW5jdGlvbiBBZyhhLGIpe3JldHVybiB6ZyhhLGIsZnVuY3Rpb24oKXtyZXR1cm4hMH0pfWguc3VidHJlZT1mdW5jdGlvbihhKXtpZihhLmUoKSlyZXR1cm4gdGhpczt2YXIgYj10aGlzLmNoaWxkcmVuLmdldChIKGEpKTtyZXR1cm4gbnVsbCE9PWI/Yi5zdWJ0cmVlKFMoYSkpOm5nfTtoLnNldD1mdW5jdGlvbihhLGIpe2lmKGEuZSgpKXJldHVybiBuZXcgd2coYix0aGlzLmNoaWxkcmVuKTt2YXIgYz1IKGEpLGQ9KHRoaXMuY2hpbGRyZW4uZ2V0KGMpfHxuZykuc2V0KFMoYSksYiksYz10aGlzLmNoaWxkcmVuLkthKGMsZCk7cmV0dXJuIG5ldyB3Zyh0aGlzLnZhbHVlLGMpfTtcbmgucmVtb3ZlPWZ1bmN0aW9uKGEpe2lmKGEuZSgpKXJldHVybiB0aGlzLmNoaWxkcmVuLmUoKT9uZzpuZXcgd2cobnVsbCx0aGlzLmNoaWxkcmVuKTt2YXIgYj1IKGEpLGM9dGhpcy5jaGlsZHJlbi5nZXQoYik7cmV0dXJuIGM/KGE9Yy5yZW1vdmUoUyhhKSksYj1hLmUoKT90aGlzLmNoaWxkcmVuLnJlbW92ZShiKTp0aGlzLmNoaWxkcmVuLkthKGIsYSksbnVsbD09PXRoaXMudmFsdWUmJmIuZSgpP25nOm5ldyB3Zyh0aGlzLnZhbHVlLGIpKTp0aGlzfTtoLmdldD1mdW5jdGlvbihhKXtpZihhLmUoKSlyZXR1cm4gdGhpcy52YWx1ZTt2YXIgYj10aGlzLmNoaWxkcmVuLmdldChIKGEpKTtyZXR1cm4gYj9iLmdldChTKGEpKTpudWxsfTtcbmZ1bmN0aW9uIG1nKGEsYixjKXtpZihiLmUoKSlyZXR1cm4gYzt2YXIgZD1IKGIpO2I9bWcoYS5jaGlsZHJlbi5nZXQoZCl8fG5nLFMoYiksYyk7ZD1iLmUoKT9hLmNoaWxkcmVuLnJlbW92ZShkKTphLmNoaWxkcmVuLkthKGQsYik7cmV0dXJuIG5ldyB3ZyhhLnZhbHVlLGQpfWZ1bmN0aW9uIEJnKGEsYil7cmV0dXJuIENnKGEsVCxiKX1mdW5jdGlvbiBDZyhhLGIsYyl7dmFyIGQ9e307YS5jaGlsZHJlbi5mYShmdW5jdGlvbihhLGYpe2RbYV09Q2coZixiLm4oYSksYyl9KTtyZXR1cm4gYyhiLGEudmFsdWUsZCl9ZnVuY3Rpb24gRGcoYSxiLGMpe3JldHVybiBFZyhhLGIsVCxjKX1mdW5jdGlvbiBFZyhhLGIsYyxkKXt2YXIgZT1hLnZhbHVlP2QoYyxhLnZhbHVlKTohMTtpZihlKXJldHVybiBlO2lmKGIuZSgpKXJldHVybiBudWxsO2U9SChiKTtyZXR1cm4oYT1hLmNoaWxkcmVuLmdldChlKSk/RWcoYSxTKGIpLGMubihlKSxkKTpudWxsfVxuZnVuY3Rpb24gRmcoYSxiLGMpe2lmKCFiLmUoKSl7dmFyIGQ9ITA7YS52YWx1ZSYmKGQ9YyhULGEudmFsdWUpKTshMD09PWQmJihkPUgoYiksKGE9YS5jaGlsZHJlbi5nZXQoZCkpJiZHZyhhLFMoYiksVC5uKGQpLGMpKX19ZnVuY3Rpb24gR2coYSxiLGMsZCl7aWYoYi5lKCkpcmV0dXJuIGE7YS52YWx1ZSYmZChjLGEudmFsdWUpO3ZhciBlPUgoYik7cmV0dXJuKGE9YS5jaGlsZHJlbi5nZXQoZSkpP0dnKGEsUyhiKSxjLm4oZSksZCk6bmd9ZnVuY3Rpb24ga2coYSxiKXtIZyhhLFQsYil9ZnVuY3Rpb24gSGcoYSxiLGMpe2EuY2hpbGRyZW4uZmEoZnVuY3Rpb24oYSxlKXtIZyhlLGIubihhKSxjKX0pO2EudmFsdWUmJmMoYixhLnZhbHVlKX1mdW5jdGlvbiBJZyhhLGIpe2EuY2hpbGRyZW4uZmEoZnVuY3Rpb24oYSxkKXtkLnZhbHVlJiZiKGEsZC52YWx1ZSl9KX07ZnVuY3Rpb24gSmcoKXt0aGlzLnZhPXt9fWg9SmcucHJvdG90eXBlO2guZT1mdW5jdGlvbigpe3JldHVybiBPZCh0aGlzLnZhKX07aC5ZYT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9YS5zb3VyY2UuYWM7aWYobnVsbCE9PWQpcmV0dXJuIGQ9dCh0aGlzLnZhLGQpLHcobnVsbCE9ZCxcIlN5bmNUcmVlIGdhdmUgdXMgYW4gb3AgZm9yIGFuIGludmFsaWQgcXVlcnkuXCIpLGQuWWEoYSxiLGMpO3ZhciBlPVtdO3oodGhpcy52YSxmdW5jdGlvbihkKXtlPWUuY29uY2F0KGQuWWEoYSxiLGMpKX0pO3JldHVybiBlfTtoLkZiPWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9YS5GYSgpLGc9dCh0aGlzLnZhLGYpO2lmKCFnKXt2YXIgZz1jLnBhKGU/ZDpudWxsKSxrPSExO2c/az0hMDooZz1kIGluc3RhbmNlb2YgVj9jLm9jKGQpOkwsaz0hMSk7Zz1uZXcgc2coYSxuZXcgV2YobmV3IHhjKGcsaywhMSksbmV3IHhjKGQsZSwhMSkpKTt0aGlzLnZhW2ZdPWd9Zy5GYihiKTtyZXR1cm4gdmcoZyxiKX07XG5oLmdiPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1hLkZhKCksZT1bXSxmPVtdLGc9bnVsbCE9S2codGhpcyk7aWYoXCJkZWZhdWx0XCI9PT1kKXt2YXIgaz10aGlzO3oodGhpcy52YSxmdW5jdGlvbihhLGQpe2Y9Zi5jb25jYXQoYS5nYihiLGMpKTthLmUoKSYmKGRlbGV0ZSBrLnZhW2RdLEpjKGEuVi53KXx8ZS5wdXNoKGEuVikpfSl9ZWxzZXt2YXIgbD10KHRoaXMudmEsZCk7bCYmKGY9Zi5jb25jYXQobC5nYihiLGMpKSxsLmUoKSYmKGRlbGV0ZSB0aGlzLnZhW2RdLEpjKGwuVi53KXx8ZS5wdXNoKGwuVikpKX1nJiZudWxsPT1LZyh0aGlzKSYmZS5wdXNoKG5ldyBRKGEuayxhLnBhdGgpKTtyZXR1cm57cmc6ZSxWZjpmfX07ZnVuY3Rpb24gTGcoYSl7cmV0dXJuIEphKEtkKGEudmEpLGZ1bmN0aW9uKGEpe3JldHVybiFKYyhhLlYudyl9KX1oLmJiPWZ1bmN0aW9uKGEpe3ZhciBiPW51bGw7eih0aGlzLnZhLGZ1bmN0aW9uKGMpe2I9Ynx8Yy5iYihhKX0pO3JldHVybiBifTtcbmZ1bmN0aW9uIE1nKGEsYil7aWYoSmMoYi53KSlyZXR1cm4gS2coYSk7dmFyIGM9Yi5GYSgpO3JldHVybiB0KGEudmEsYyl9ZnVuY3Rpb24gS2coYSl7cmV0dXJuIE5kKGEudmEsZnVuY3Rpb24oYSl7cmV0dXJuIEpjKGEuVi53KX0pfHxudWxsfTtmdW5jdGlvbiBOZyhhKXt0aGlzLlc9YX12YXIgT2c9bmV3IE5nKG5ldyB3ZyhudWxsKSk7ZnVuY3Rpb24gUGcoYSxiLGMpe2lmKGIuZSgpKXJldHVybiBuZXcgTmcobmV3IHdnKGMpKTt2YXIgZD1BZyhhLlcsYik7aWYobnVsbCE9ZCl7dmFyIGU9ZC5wYXRoLGQ9ZC52YWx1ZTtiPVUoZSxiKTtkPWQuRChiLGMpO3JldHVybiBuZXcgTmcoYS5XLnNldChlLGQpKX1hPW1nKGEuVyxiLG5ldyB3ZyhjKSk7cmV0dXJuIG5ldyBOZyhhKX1mdW5jdGlvbiBRZyhhLGIsYyl7dmFyIGQ9YTt1YShjLGZ1bmN0aW9uKGEsYyl7ZD1QZyhkLGIubihhKSxjKX0pO3JldHVybiBkfU5nLnByb3RvdHlwZS5HZD1mdW5jdGlvbihhKXtpZihhLmUoKSlyZXR1cm4gT2c7YT1tZyh0aGlzLlcsYSxuZyk7cmV0dXJuIG5ldyBOZyhhKX07ZnVuY3Rpb24gUmcoYSxiKXt2YXIgYz1BZyhhLlcsYik7cmV0dXJuIG51bGwhPWM/YS5XLmdldChjLnBhdGgpLnJhKFUoYy5wYXRoLGIpKTpudWxsfVxuZnVuY3Rpb24gU2coYSl7dmFyIGI9W10sYz1hLlcudmFsdWU7bnVsbCE9Yz9jLkwoKXx8Yy5UKEssZnVuY3Rpb24oYSxjKXtiLnB1c2gobmV3IE0oYSxjKSl9KTphLlcuY2hpbGRyZW4uZmEoZnVuY3Rpb24oYSxjKXtudWxsIT1jLnZhbHVlJiZiLnB1c2gobmV3IE0oYSxjLnZhbHVlKSl9KTtyZXR1cm4gYn1mdW5jdGlvbiBUZyhhLGIpe2lmKGIuZSgpKXJldHVybiBhO3ZhciBjPVJnKGEsYik7cmV0dXJuIG51bGwhPWM/bmV3IE5nKG5ldyB3ZyhjKSk6bmV3IE5nKGEuVy5zdWJ0cmVlKGIpKX1OZy5wcm90b3R5cGUuZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLlcuZSgpfTtOZy5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24oYSl7cmV0dXJuIFVnKFQsdGhpcy5XLGEpfTtcbmZ1bmN0aW9uIFVnKGEsYixjKXtpZihudWxsIT1iLnZhbHVlKXJldHVybiBjLkQoYSxiLnZhbHVlKTt2YXIgZD1udWxsO2IuY2hpbGRyZW4uZmEoZnVuY3Rpb24oYixmKXtcIi5wcmlvcml0eVwiPT09Yj8odyhudWxsIT09Zi52YWx1ZSxcIlByaW9yaXR5IHdyaXRlcyBtdXN0IGFsd2F5cyBiZSBsZWFmIG5vZGVzXCIpLGQ9Zi52YWx1ZSk6Yz1VZyhhLm4oYiksZixjKX0pO2MucmEoYSkuZSgpfHxudWxsPT09ZHx8KGM9Yy5EKGEubihcIi5wcmlvcml0eVwiKSxkKSk7cmV0dXJuIGN9O2Z1bmN0aW9uIFZnKCl7dGhpcy5VPU9nO3RoaXMud2E9W107dGhpcy5EYz0tMX1oPVZnLnByb3RvdHlwZTtcbmguR2Q9ZnVuY3Rpb24oYSl7dmFyIGI9T2EodGhpcy53YSxmdW5jdGlvbihiKXtyZXR1cm4gYi5aZD09PWF9KTt3KDA8PWIsXCJyZW1vdmVXcml0ZSBjYWxsZWQgd2l0aCBub25leGlzdGVudCB3cml0ZUlkLlwiKTt2YXIgYz10aGlzLndhW2JdO3RoaXMud2Euc3BsaWNlKGIsMSk7Zm9yKHZhciBkPWMudmlzaWJsZSxlPSExLGY9dGhpcy53YS5sZW5ndGgtMTtkJiYwPD1mOyl7dmFyIGc9dGhpcy53YVtmXTtnLnZpc2libGUmJihmPj1iJiZXZyhnLGMucGF0aCk/ZD0hMTpjLnBhdGguY29udGFpbnMoZy5wYXRoKSYmKGU9ITApKTtmLS19aWYoZCl7aWYoZSl0aGlzLlU9WGcodGhpcy53YSxZZyxUKSx0aGlzLkRjPTA8dGhpcy53YS5sZW5ndGg/dGhpcy53YVt0aGlzLndhLmxlbmd0aC0xXS5aZDotMTtlbHNlIGlmKGMuUGEpdGhpcy5VPXRoaXMuVS5HZChjLnBhdGgpO2Vsc2V7dmFyIGs9dGhpczt6KGMuY2hpbGRyZW4sZnVuY3Rpb24oYSxiKXtrLlU9ay5VLkdkKGMucGF0aC5uKGIpKX0pfXJldHVybiBjLnBhdGh9cmV0dXJuIG51bGx9O1xuaC5wYT1mdW5jdGlvbihhLGIsYyxkKXtpZihjfHxkKXt2YXIgZT1UZyh0aGlzLlUsYSk7cmV0dXJuIWQmJmUuZSgpP2I6ZHx8bnVsbCE9Ynx8bnVsbCE9UmcoZSxUKT8oZT1YZyh0aGlzLndhLGZ1bmN0aW9uKGIpe3JldHVybihiLnZpc2libGV8fGQpJiYoIWN8fCEoMDw9SGEoYyxiLlpkKSkpJiYoYi5wYXRoLmNvbnRhaW5zKGEpfHxhLmNvbnRhaW5zKGIucGF0aCkpfSxhKSxiPWJ8fEwsZS5hcHBseShiKSk6bnVsbH1lPVJnKHRoaXMuVSxhKTtpZihudWxsIT1lKXJldHVybiBlO2U9VGcodGhpcy5VLGEpO3JldHVybiBlLmUoKT9iOm51bGwhPWJ8fG51bGwhPVJnKGUsVCk/KGI9Ynx8TCxlLmFwcGx5KGIpKTpudWxsfTtcbmgub2M9ZnVuY3Rpb24oYSxiKXt2YXIgYz1MLGQ9UmcodGhpcy5VLGEpO2lmKGQpZC5MKCl8fGQuVChLLGZ1bmN0aW9uKGEsYil7Yz1jLlAoYSxiKX0pO2Vsc2UgaWYoYil7dmFyIGU9VGcodGhpcy5VLGEpO2IuVChLLGZ1bmN0aW9uKGEsYil7dmFyIGQ9VGcoZSxuZXcgUihhKSkuYXBwbHkoYik7Yz1jLlAoYSxkKX0pO0lhKFNnKGUpLGZ1bmN0aW9uKGEpe2M9Yy5QKGEubmFtZSxhLlkpfSl9ZWxzZSBlPVRnKHRoaXMuVSxhKSxJYShTZyhlKSxmdW5jdGlvbihhKXtjPWMuUChhLm5hbWUsYS5ZKX0pO3JldHVybiBjfTtoLiRjPWZ1bmN0aW9uKGEsYixjLGQpe3coY3x8ZCxcIkVpdGhlciBleGlzdGluZ0V2ZW50U25hcCBvciBleGlzdGluZ1NlcnZlclNuYXAgbXVzdCBleGlzdFwiKTthPWEubihiKTtpZihudWxsIT1SZyh0aGlzLlUsYSkpcmV0dXJuIG51bGw7YT1UZyh0aGlzLlUsYSk7cmV0dXJuIGEuZSgpP2QucmEoYik6YS5hcHBseShkLnJhKGIpKX07XG5oLlRhPWZ1bmN0aW9uKGEsYixjKXthPWEubihiKTt2YXIgZD1SZyh0aGlzLlUsYSk7cmV0dXJuIG51bGwhPWQ/ZDp3YyhjLGIpP1RnKHRoaXMuVSxhKS5hcHBseShjLmooKS5KKGIpKTpudWxsfTtoLmljPWZ1bmN0aW9uKGEpe3JldHVybiBSZyh0aGlzLlUsYSl9O2guY2U9ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3ZhciBnO2E9VGcodGhpcy5VLGEpO2c9UmcoYSxUKTtpZihudWxsPT1nKWlmKG51bGwhPWIpZz1hLmFwcGx5KGIpO2Vsc2UgcmV0dXJuW107Zz1nLkViKGYpO2lmKGcuZSgpfHxnLkwoKSlyZXR1cm5bXTtiPVtdO2E9bmMoZik7ZT1lP2cuUWIoYyxmKTpnLk9iKGMsZik7Zm9yKGY9TyhlKTtmJiZiLmxlbmd0aDxkOykwIT09YShmLGMpJiZiLnB1c2goZiksZj1PKGUpO3JldHVybiBifTtcbmZ1bmN0aW9uIFdnKGEsYil7cmV0dXJuIGEuUGE/YS5wYXRoLmNvbnRhaW5zKGIpOiEhTWQoYS5jaGlsZHJlbixmdW5jdGlvbihjLGQpe3JldHVybiBhLnBhdGgubihkKS5jb250YWlucyhiKX0pfWZ1bmN0aW9uIFlnKGEpe3JldHVybiBhLnZpc2libGV9XG5mdW5jdGlvbiBYZyhhLGIsYyl7Zm9yKHZhciBkPU9nLGU9MDtlPGEubGVuZ3RoOysrZSl7dmFyIGY9YVtlXTtpZihiKGYpKXt2YXIgZz1mLnBhdGg7aWYoZi5QYSljLmNvbnRhaW5zKGcpPyhnPVUoYyxnKSxkPVBnKGQsZyxmLlBhKSk6Zy5jb250YWlucyhjKSYmKGc9VShnLGMpLGQ9UGcoZCxULGYuUGEucmEoZykpKTtlbHNlIGlmKGYuY2hpbGRyZW4paWYoYy5jb250YWlucyhnKSlnPVUoYyxnKSxkPVFnKGQsZyxmLmNoaWxkcmVuKTtlbHNle2lmKGcuY29udGFpbnMoYykpaWYoZz1VKGcsYyksZy5lKCkpZD1RZyhkLFQsZi5jaGlsZHJlbik7ZWxzZSBpZihmPXQoZi5jaGlsZHJlbixIKGcpKSlmPWYucmEoUyhnKSksZD1QZyhkLFQsZil9ZWxzZSB0aHJvdyBnYihcIldyaXRlUmVjb3JkIHNob3VsZCBoYXZlIC5zbmFwIG9yIC5jaGlsZHJlblwiKTt9fXJldHVybiBkfWZ1bmN0aW9uIFpnKGEsYil7dGhpcy5DYj1hO3RoaXMuVz1ifWg9WmcucHJvdG90eXBlO1xuaC5wYT1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIHRoaXMuVy5wYSh0aGlzLkNiLGEsYixjKX07aC5vYz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5XLm9jKHRoaXMuQ2IsYSl9O2guJGM9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB0aGlzLlcuJGModGhpcy5DYixhLGIsYyl9O2guaWM9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuVy5pYyh0aGlzLkNiLm4oYSkpfTtoLmNlPWZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuIHRoaXMuVy5jZSh0aGlzLkNiLGEsYixjLGQsZSl9O2guVGE9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5XLlRhKHRoaXMuQ2IsYSxiKX07aC5uPWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgWmcodGhpcy5DYi5uKGEpLHRoaXMuVyl9O2Z1bmN0aW9uICRnKGEsYixjKXt0aGlzLnR5cGU9YWc7dGhpcy5zb3VyY2U9YTt0aGlzLnBhdGg9Yjt0aGlzLlBhPWN9JGcucHJvdG90eXBlLkxjPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnBhdGguZSgpP25ldyAkZyh0aGlzLnNvdXJjZSxULHRoaXMuUGEuSihhKSk6bmV3ICRnKHRoaXMuc291cmNlLFModGhpcy5wYXRoKSx0aGlzLlBhKX07ZnVuY3Rpb24gYWgoYSxiKXt0aGlzLnR5cGU9Z2c7dGhpcy5zb3VyY2U9Ymg7dGhpcy5wYXRoPWE7dGhpcy53Zj1ifWFoLnByb3RvdHlwZS5MYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBhdGguZSgpP3RoaXM6bmV3IGFoKFModGhpcy5wYXRoKSx0aGlzLndmKX07ZnVuY3Rpb24gY2goYSxiKXt0aGlzLnR5cGU9aWc7dGhpcy5zb3VyY2U9YTt0aGlzLnBhdGg9Yn1jaC5wcm90b3R5cGUuTGM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXRoLmUoKT9uZXcgY2godGhpcy5zb3VyY2UsVCk6bmV3IGNoKHRoaXMuc291cmNlLFModGhpcy5wYXRoKSl9O2Z1bmN0aW9uIGRoKGEsYixjKXt0aGlzLnR5cGU9ZGc7dGhpcy5zb3VyY2U9YTt0aGlzLnBhdGg9Yjt0aGlzLmNoaWxkcmVuPWN9ZGgucHJvdG90eXBlLkxjPWZ1bmN0aW9uKGEpe2lmKHRoaXMucGF0aC5lKCkpcmV0dXJuIGE9dGhpcy5jaGlsZHJlbi5zdWJ0cmVlKG5ldyBSKGEpKSxhLmUoKT9udWxsOmEudmFsdWU/bmV3ICRnKHRoaXMuc291cmNlLFQsYS52YWx1ZSk6bmV3IGRoKHRoaXMuc291cmNlLFQsYSk7dyhIKHRoaXMucGF0aCk9PT1hLFwiQ2FuJ3QgZ2V0IGEgbWVyZ2UgZm9yIGEgY2hpbGQgbm90IG9uIHRoZSBwYXRoIG9mIHRoZSBvcGVyYXRpb25cIik7cmV0dXJuIG5ldyBkaCh0aGlzLnNvdXJjZSxTKHRoaXMucGF0aCksdGhpcy5jaGlsZHJlbil9O3ZhciBhZz0wLGRnPTEsZ2c9MixpZz0zO2Z1bmN0aW9uIGVoKGEsYixjLGQpe3RoaXMuYmY9YTt0aGlzLmFmPWI7dGhpcy5hYz1jO3RoaXMuemY9ZDt3KCFkfHxiLFwiVGFnZ2VkIHF1ZXJpZXMgbXVzdCBiZSBmcm9tIHNlcnZlci5cIil9dmFyIGJoPW5ldyBlaCghMCwhMSxudWxsLCExKSxmaD1uZXcgZWgoITEsITAsbnVsbCwhMSk7ZnVuY3Rpb24gZ2goYSl7dGhpcy5uYT1uZzt0aGlzLnhiPW5ldyBWZzt0aGlzLldjPXt9O3RoaXMuYmM9e307dGhpcy5FYz1hfWZ1bmN0aW9uIGhoKGEsYixjLGQsZSl7dmFyIGY9YS54YixnPWU7dyhkPmYuRGMsXCJTdGFja2luZyBhbiBvbGRlciB3cml0ZSBvbiB0b3Agb2YgbmV3ZXIgb25lc1wiKTttKGcpfHwoZz0hMCk7Zi53YS5wdXNoKHtwYXRoOmIsUGE6YyxaZDpkLHZpc2libGU6Z30pO2cmJihmLlU9UGcoZi5VLGIsYykpO2YuRGM9ZDtyZXR1cm4gZT9paChhLG5ldyAkZyhiaCxiLGMpKTpbXX1mdW5jdGlvbiBqaChhLGIsYyxkKXt2YXIgZT1hLnhiO3coZD5lLkRjLFwiU3RhY2tpbmcgYW4gb2xkZXIgbWVyZ2Ugb24gdG9wIG9mIG5ld2VyIG9uZXNcIik7ZS53YS5wdXNoKHtwYXRoOmIsY2hpbGRyZW46YyxaZDpkLHZpc2libGU6ITB9KTtlLlU9UWcoZS5VLGIsYyk7ZS5EYz1kO2M9eWcoYyk7cmV0dXJuIGloKGEsbmV3IGRoKGJoLGIsYykpfVxuZnVuY3Rpb24ga2goYSxiLGMpe2M9Y3x8ITE7Yj1hLnhiLkdkKGIpO3JldHVybiBudWxsPT1iP1tdOmloKGEsbmV3IGFoKGIsYykpfWZ1bmN0aW9uIGxoKGEsYixjKXtjPXlnKGMpO3JldHVybiBpaChhLG5ldyBkaChmaCxiLGMpKX1mdW5jdGlvbiBtaChhLGIsYyxkKXtkPVBkKGEuV2MsXCJfXCIrZCk7aWYobnVsbCE9ZCl7dmFyIGU9bmgoZCk7ZD1lLnBhdGg7ZT1lLmFjO2I9VShkLGIpO2M9bmV3ICRnKG5ldyBlaCghMSwhMCxlLCEwKSxiLGMpO3JldHVybiBvaChhLGQsYyl9cmV0dXJuW119ZnVuY3Rpb24gcGgoYSxiLGMsZCl7aWYoZD1QZChhLldjLFwiX1wiK2QpKXt2YXIgZT1uaChkKTtkPWUucGF0aDtlPWUuYWM7Yj1VKGQsYik7Yz15ZyhjKTtjPW5ldyBkaChuZXcgZWgoITEsITAsZSwhMCksYixjKTtyZXR1cm4gb2goYSxkLGMpfXJldHVybltdfVxuZ2gucHJvdG90eXBlLkZiPWZ1bmN0aW9uKGEsYil7dmFyIGM9YS5wYXRoLGQ9bnVsbCxlPSExO0ZnKHRoaXMubmEsYyxmdW5jdGlvbihhLGIpe3ZhciBmPVUoYSxjKTtkPWIuYmIoZik7ZT1lfHxudWxsIT1LZyhiKTtyZXR1cm4hZH0pO3ZhciBmPXRoaXMubmEuZ2V0KGMpO2Y/KGU9ZXx8bnVsbCE9S2coZiksZD1kfHxmLmJiKFQpKTooZj1uZXcgSmcsdGhpcy5uYT10aGlzLm5hLnNldChjLGYpKTt2YXIgZztudWxsIT1kP2c9ITA6KGc9ITEsZD1MLElnKHRoaXMubmEuc3VidHJlZShjKSxmdW5jdGlvbihhLGIpe3ZhciBjPWIuYmIoVCk7YyYmKGQ9ZC5QKGEsYykpfSkpO3ZhciBrPW51bGwhPU1nKGYsYSk7aWYoIWsmJiFKYyhhLncpKXt2YXIgbD1xaChhKTt3KCEobCBpbiB0aGlzLmJjKSxcIlZpZXcgZG9lcyBub3QgZXhpc3QsIGJ1dCB3ZSBoYXZlIGEgdGFnXCIpO3ZhciBuPXJoKys7dGhpcy5iY1tsXT1uO3RoaXMuV2NbXCJfXCIrbl09bH1nPWYuRmIoYSxiLG5ldyBaZyhjLHRoaXMueGIpLFxuZCxnKTtrfHxlfHwoZj1NZyhmLGEpLGc9Zy5jb25jYXQoc2godGhpcyxhLGYpKSk7cmV0dXJuIGd9O1xuZ2gucHJvdG90eXBlLmdiPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1hLnBhdGgsZT10aGlzLm5hLmdldChkKSxmPVtdO2lmKGUmJihcImRlZmF1bHRcIj09PWEuRmEoKXx8bnVsbCE9TWcoZSxhKSkpe2Y9ZS5nYihhLGIsYyk7ZS5lKCkmJih0aGlzLm5hPXRoaXMubmEucmVtb3ZlKGQpKTtlPWYucmc7Zj1mLlZmO2I9LTEhPT1PYShlLGZ1bmN0aW9uKGEpe3JldHVybiBKYyhhLncpfSk7dmFyIGc9RGcodGhpcy5uYSxkLGZ1bmN0aW9uKGEsYil7cmV0dXJuIG51bGwhPUtnKGIpfSk7aWYoYiYmIWcmJihkPXRoaXMubmEuc3VidHJlZShkKSwhZC5lKCkpKWZvcih2YXIgZD10aChkKSxrPTA7azxkLmxlbmd0aDsrK2spe3ZhciBsPWRba10sbj1sLlYsbD11aCh0aGlzLGwpO3RoaXMuRWMuTmUobix2aCh0aGlzLG4pLGwubWQsbC5IKX1pZighZyYmMDxlLmxlbmd0aCYmIWMpaWYoYil0aGlzLkVjLlFkKGEsbnVsbCk7ZWxzZXt2YXIgdT10aGlzO0lhKGUsZnVuY3Rpb24oYSl7YS5GYSgpO3ZhciBiPXUuYmNbcWgoYSldO1xudS5FYy5RZChhLGIpfSl9d2godGhpcyxlKX1yZXR1cm4gZn07Z2gucHJvdG90eXBlLnBhPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy54YixkPURnKHRoaXMubmEsYSxmdW5jdGlvbihiLGMpe3ZhciBkPVUoYixhKTtpZihkPWMuYmIoZCkpcmV0dXJuIGR9KTtyZXR1cm4gYy5wYShhLGQsYiwhMCl9O2Z1bmN0aW9uIHRoKGEpe3JldHVybiBCZyhhLGZ1bmN0aW9uKGEsYyxkKXtpZihjJiZudWxsIT1LZyhjKSlyZXR1cm5bS2coYyldO3ZhciBlPVtdO2MmJihlPUxnKGMpKTt6KGQsZnVuY3Rpb24oYSl7ZT1lLmNvbmNhdChhKX0pO3JldHVybiBlfSl9ZnVuY3Rpb24gd2goYSxiKXtmb3IodmFyIGM9MDtjPGIubGVuZ3RoOysrYyl7dmFyIGQ9YltjXTtpZighSmMoZC53KSl7dmFyIGQ9cWgoZCksZT1hLmJjW2RdO2RlbGV0ZSBhLmJjW2RdO2RlbGV0ZSBhLldjW1wiX1wiK2VdfX19XG5mdW5jdGlvbiBzaChhLGIsYyl7dmFyIGQ9Yi5wYXRoLGU9dmgoYSxiKTtjPXVoKGEsYyk7Yj1hLkVjLk5lKGIsZSxjLm1kLGMuSCk7ZD1hLm5hLnN1YnRyZWUoZCk7aWYoZSl3KG51bGw9PUtnKGQudmFsdWUpLFwiSWYgd2UncmUgYWRkaW5nIGEgcXVlcnksIGl0IHNob3VsZG4ndCBiZSBzaGFkb3dlZFwiKTtlbHNlIGZvcihlPUJnKGQsZnVuY3Rpb24oYSxiLGMpe2lmKCFhLmUoKSYmYiYmbnVsbCE9S2coYikpcmV0dXJuW3RnKEtnKGIpKV07dmFyIGQ9W107YiYmKGQ9ZC5jb25jYXQoS2EoTGcoYiksZnVuY3Rpb24oYSl7cmV0dXJuIGEuVn0pKSk7eihjLGZ1bmN0aW9uKGEpe2Q9ZC5jb25jYXQoYSl9KTtyZXR1cm4gZH0pLGQ9MDtkPGUubGVuZ3RoOysrZCljPWVbZF0sYS5FYy5RZChjLHZoKGEsYykpO3JldHVybiBifVxuZnVuY3Rpb24gdWgoYSxiKXt2YXIgYz1iLlYsZD12aChhLGMpO3JldHVybnttZDpmdW5jdGlvbigpe3JldHVybihiLm8oKXx8TCkuaGFzaCgpfSxIOmZ1bmN0aW9uKGIsZil7aWYoXCJva1wiPT09Yil7aWYoZiYmXCJvYmplY3RcIj09PXR5cGVvZiBmJiZzKGYsXCJ3XCIpKXt2YXIgZz10KGYsXCJ3XCIpO2VhKGcpJiYwPD1IYShnLFwibm9faW5kZXhcIikmJnkoXCJVc2luZyBhbiB1bnNwZWNpZmllZCBpbmRleC4gQ29uc2lkZXIgYWRkaW5nIFwiKygnXCIuaW5kZXhPblwiOiBcIicrYy53LmcudG9TdHJpbmcoKSsnXCInKStcIiBhdCBcIitjLnBhdGgudG9TdHJpbmcoKStcIiB0byB5b3VyIHNlY3VyaXR5IHJ1bGVzIGZvciBiZXR0ZXIgcGVyZm9ybWFuY2VcIil9aWYoZCl7dmFyIGs9Yy5wYXRoO2lmKGc9UGQoYS5XYyxcIl9cIitkKSl2YXIgbD1uaChnKSxnPWwucGF0aCxsPWwuYWMsaz1VKGcsayksaz1uZXcgY2gobmV3IGVoKCExLCEwLGwsITApLGspLGc9b2goYSxnLGspO2Vsc2UgZz1bXX1lbHNlIGc9aWgoYSxuZXcgY2goZmgsXG5jLnBhdGgpKTtyZXR1cm4gZ31nPVwiVW5rbm93biBFcnJvclwiO1widG9vX2JpZ1wiPT09Yj9nPVwiVGhlIGRhdGEgcmVxdWVzdGVkIGV4Y2VlZHMgdGhlIG1heGltdW0gc2l6ZSB0aGF0IGNhbiBiZSBhY2Nlc3NlZCB3aXRoIGEgc2luZ2xlIHJlcXVlc3QuXCI6XCJwZXJtaXNzaW9uX2RlbmllZFwiPT1iP2c9XCJDbGllbnQgZG9lc24ndCBoYXZlIHBlcm1pc3Npb24gdG8gYWNjZXNzIHRoZSBkZXNpcmVkIGRhdGEuXCI6XCJ1bmF2YWlsYWJsZVwiPT1iJiYoZz1cIlRoZSBzZXJ2aWNlIGlzIHVuYXZhaWxhYmxlXCIpO2c9RXJyb3IoYitcIjogXCIrZyk7Zy5jb2RlPWIudG9VcHBlckNhc2UoKTtyZXR1cm4gYS5nYihjLG51bGwsZyl9fX1mdW5jdGlvbiBxaChhKXtyZXR1cm4gYS5wYXRoLnRvU3RyaW5nKCkrXCIkXCIrYS5GYSgpfVxuZnVuY3Rpb24gbmgoYSl7dmFyIGI9YS5pbmRleE9mKFwiJFwiKTt3KC0xIT09YiYmYjxhLmxlbmd0aC0xLFwiQmFkIHF1ZXJ5S2V5LlwiKTtyZXR1cm57YWM6YS5zdWJzdHIoYisxKSxwYXRoOm5ldyBSKGEuc3Vic3RyKDAsYikpfX1mdW5jdGlvbiB2aChhLGIpe3ZhciBjPXFoKGIpO3JldHVybiB0KGEuYmMsYyl9dmFyIHJoPTE7ZnVuY3Rpb24gb2goYSxiLGMpe3ZhciBkPWEubmEuZ2V0KGIpO3coZCxcIk1pc3Npbmcgc3luYyBwb2ludCBmb3IgcXVlcnkgdGFnIHRoYXQgd2UncmUgdHJhY2tpbmdcIik7cmV0dXJuIGQuWWEoYyxuZXcgWmcoYixhLnhiKSxudWxsKX1mdW5jdGlvbiBpaChhLGIpe3JldHVybiB4aChhLGIsYS5uYSxudWxsLG5ldyBaZyhULGEueGIpKX1cbmZ1bmN0aW9uIHhoKGEsYixjLGQsZSl7aWYoYi5wYXRoLmUoKSlyZXR1cm4geWgoYSxiLGMsZCxlKTt2YXIgZj1jLmdldChUKTtudWxsPT1kJiZudWxsIT1mJiYoZD1mLmJiKFQpKTt2YXIgZz1bXSxrPUgoYi5wYXRoKSxsPWIuTGMoayk7aWYoKGM9Yy5jaGlsZHJlbi5nZXQoaykpJiZsKXZhciBuPWQ/ZC5KKGspOm51bGwsaz1lLm4oayksZz1nLmNvbmNhdCh4aChhLGwsYyxuLGspKTtmJiYoZz1nLmNvbmNhdChmLllhKGIsZSxkKSkpO3JldHVybiBnfWZ1bmN0aW9uIHloKGEsYixjLGQsZSl7dmFyIGY9Yy5nZXQoVCk7bnVsbD09ZCYmbnVsbCE9ZiYmKGQ9Zi5iYihUKSk7dmFyIGc9W107Yy5jaGlsZHJlbi5mYShmdW5jdGlvbihjLGYpe3ZhciBuPWQ/ZC5KKGMpOm51bGwsdT1lLm4oYykseD1iLkxjKGMpO3gmJihnPWcuY29uY2F0KHloKGEseCxmLG4sdSkpKX0pO2YmJihnPWcuY29uY2F0KGYuWWEoYixlLGQpKSk7cmV0dXJuIGd9O2Z1bmN0aW9uIHpoKGEpe3RoaXMuTz1hO3RoaXMuUmE9WWQoYSk7dGhpcy4kPW5ldyBlZjt0aGlzLnZkPTE7dGhpcy5TPW5ldyBLZSh0aGlzLk8scSh0aGlzLnlkLHRoaXMpLHEodGhpcy53ZCx0aGlzKSxxKHRoaXMuR2UsdGhpcykpO3RoaXMuemc9WmQoYSxxKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBWZCh0aGlzLlJhLHRoaXMuUyl9LHRoaXMpKTt0aGlzLmtjPW5ldyBVYzt0aGlzLnJlPW5ldyBkZjt2YXIgYj10aGlzO3RoaXMucWQ9bmV3IGdoKHtOZTpmdW5jdGlvbihhLGQsZSxmKXtkPVtdO2U9Yi5yZS5qKGEucGF0aCk7ZS5lKCl8fChkPWloKGIucWQsbmV3ICRnKGZoLGEucGF0aCxlKSksc2V0VGltZW91dChmdW5jdGlvbigpe2YoXCJva1wiKX0sMCkpO3JldHVybiBkfSxRZDpiYX0pO0FoKHRoaXMsXCJjb25uZWN0ZWRcIiwhMSk7dGhpcy5nYT1uZXcgYWY7dGhpcy5RPW5ldyBGZihhLHEodGhpcy5TLlEsdGhpcy5TKSxxKHRoaXMuUy5SZSx0aGlzLlMpLHEodGhpcy5EZSx0aGlzKSk7dGhpcy5nZD1cbjA7dGhpcy5zZT1udWxsO3RoaXMuTT1uZXcgZ2goe05lOmZ1bmN0aW9uKGEsZCxlLGYpe09lKGIuUyxhLGUsZCxmdW5jdGlvbihkLGUpe3ZhciBsPWYoZCxlKTtqZihiLiQsYS5wYXRoLGwpfSk7cmV0dXJuW119LFFkOmZ1bmN0aW9uKGEsZCl7dmFyIGU9Yi5TLGY9YS5wYXRoLnRvU3RyaW5nKCksZz1hLkZhKCk7ZS5mKFwiVW5saXN0ZW4gY2FsbGVkIGZvciBcIitmK1wiIFwiK2cpO2lmKFFlKGUsZixnKSYmZS5qYSl7dmFyIGs9UWMoYSk7ZS5mKFwiVW5saXN0ZW4gb24gXCIrZitcIiBmb3IgXCIrZyk7Zj17cDpmfTtkJiYoZi5xPWssZi50PWQpO2UuQ2EoXCJuXCIsZil9fX0pfWg9emgucHJvdG90eXBlO2gudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy5PLnpiP1wiaHR0cHM6Ly9cIjpcImh0dHA6Ly9cIikrdGhpcy5PLmhvc3R9O2gubmFtZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLk8udGJ9O1xuZnVuY3Rpb24gQmgoYSl7YT1hLnJlLmoobmV3IFIoXCIuaW5mby9zZXJ2ZXJUaW1lT2Zmc2V0XCIpKS5OKCl8fDA7cmV0dXJuKG5ldyBEYXRlKS5nZXRUaW1lKCkrYX1mdW5jdGlvbiBDaChhKXthPWE9e3RpbWVzdGFtcDpCaChhKX07YS50aW1lc3RhbXA9YS50aW1lc3RhbXB8fChuZXcgRGF0ZSkuZ2V0VGltZSgpO3JldHVybiBhfWgueWQ9ZnVuY3Rpb24oYSxiLGMsZCl7dGhpcy5nZCsrO3ZhciBlPW5ldyBSKGEpO2I9dGhpcy5zZT90aGlzLnNlKGEsYik6YjthPVtdO2Q/Yz8oYj11ZChiLGZ1bmN0aW9uKGEpe3JldHVybiBOKGEpfSksYT1waCh0aGlzLk0sZSxiLGQpKTooYj1OKGIpLGE9bWgodGhpcy5NLGUsYixkKSk6Yz8oZD11ZChiLGZ1bmN0aW9uKGEpe3JldHVybiBOKGEpfSksYT1saCh0aGlzLk0sZSxkKSk6KGQ9TihiKSxhPWloKHRoaXMuTSxuZXcgJGcoZmgsZSxkKSkpO2Q9ZTswPGEubGVuZ3RoJiYoZD1EaCh0aGlzLGUpKTtqZih0aGlzLiQsZCxhKX07XG5oLndkPWZ1bmN0aW9uKGEpe0FoKHRoaXMsXCJjb25uZWN0ZWRcIixhKTshMT09PWEmJkVoKHRoaXMpfTtoLkdlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7QWIoYSxmdW5jdGlvbihhLGQpe0FoKGIsZCxhKX0pfTtoLkRlPWZ1bmN0aW9uKGEpe0FoKHRoaXMsXCJhdXRoZW50aWNhdGVkXCIsYSl9O2Z1bmN0aW9uIEFoKGEsYixjKXtiPW5ldyBSKFwiLy5pbmZvL1wiK2IpO2M9TihjKTt2YXIgZD1hLnJlO2QuSmQ9ZC5KZC5EKGIsYyk7Yz1paChhLnFkLG5ldyAkZyhmaCxiLGMpKTtqZihhLiQsYixjKX1cbmguQWI9ZnVuY3Rpb24oYSxiLGMsZCl7dGhpcy5mKFwic2V0XCIse3BhdGg6YS50b1N0cmluZygpLHZhbHVlOmIsSGc6Y30pO3ZhciBlPUNoKHRoaXMpO2I9TihiLGMpO3ZhciBlPVVmKGIsZSksZj10aGlzLnZkKyssZT1oaCh0aGlzLk0sYSxlLGYsITApO2ZmKHRoaXMuJCxlKTt2YXIgZz10aGlzO3RoaXMuUy5wdXQoYS50b1N0cmluZygpLGIuTighMCksZnVuY3Rpb24oYixjKXt2YXIgZT1cIm9rXCI9PT1iO2V8fHkoXCJzZXQgYXQgXCIrYStcIiBmYWlsZWQ6IFwiK2IpO2U9a2goZy5NLGYsIWUpO2pmKGcuJCxhLGUpO0ZoKGQsYixjKX0pO2U9R2godGhpcyxhKTtEaCh0aGlzLGUpO2pmKHRoaXMuJCxlLFtdKX07XG5oLnVwZGF0ZT1mdW5jdGlvbihhLGIsYyl7dGhpcy5mKFwidXBkYXRlXCIse3BhdGg6YS50b1N0cmluZygpLHZhbHVlOmJ9KTt2YXIgZD0hMCxlPUNoKHRoaXMpLGY9e307eihiLGZ1bmN0aW9uKGEsYil7ZD0hMTt2YXIgYz1OKGEpO2ZbYl09VWYoYyxlKX0pO2lmKGQpaWIoXCJ1cGRhdGUoKSBjYWxsZWQgd2l0aCBlbXB0eSBkYXRhLiAgRG9uJ3QgZG8gYW55dGhpbmcuXCIpLEZoKGMsXCJva1wiKTtlbHNle3ZhciBnPXRoaXMudmQrKyxrPWpoKHRoaXMuTSxhLGYsZyk7ZmYodGhpcy4kLGspO3ZhciBsPXRoaXM7V2UodGhpcy5TLGEudG9TdHJpbmcoKSxiLGZ1bmN0aW9uKGIsZCl7dyhcIm9rXCI9PT1ifHxcInBlcm1pc3Npb25fZGVuaWVkXCI9PT1iLFwibWVyZ2UgYXQgXCIrYStcIiBmYWlsZWQuXCIpO3ZhciBlPVwib2tcIj09PWI7ZXx8eShcInVwZGF0ZSBhdCBcIithK1wiIGZhaWxlZDogXCIrYik7dmFyIGU9a2gobC5NLGcsIWUpLGY9YTswPGUubGVuZ3RoJiYoZj1EaChsLGEpKTtqZihsLiQsZixlKTtGaChjLGIsZCl9KTtcbmI9R2godGhpcyxhKTtEaCh0aGlzLGIpO2pmKHRoaXMuJCxhLFtdKX19O2Z1bmN0aW9uIEVoKGEpe2EuZihcIm9uRGlzY29ubmVjdEV2ZW50c1wiKTt2YXIgYj1DaChhKSxjPVtdO2NmKFRmKGEuZ2EsYiksVCxmdW5jdGlvbihiLGUpe2M9Yy5jb25jYXQoaWgoYS5NLG5ldyAkZyhmaCxiLGUpKSk7dmFyIGY9R2goYSxiKTtEaChhLGYpfSk7YS5nYT1uZXcgYWY7amYoYS4kLFQsYyl9aC5FZT1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXM7dGhpcy5TLkVlKGEudG9TdHJpbmcoKSxmdW5jdGlvbihkLGUpe1wib2tcIj09PWQmJmJmKGMuZ2EsYSk7RmgoYixkLGUpfSl9O2Z1bmN0aW9uIEhoKGEsYixjLGQpe3ZhciBlPU4oYyk7U2UoYS5TLGIudG9TdHJpbmcoKSxlLk4oITApLGZ1bmN0aW9uKGMsZyl7XCJva1wiPT09YyYmYS5nYS5kYyhiLGUpO0ZoKGQsYyxnKX0pfVxuZnVuY3Rpb24gSWgoYSxiLGMsZCxlKXt2YXIgZj1OKGMsZCk7U2UoYS5TLGIudG9TdHJpbmcoKSxmLk4oITApLGZ1bmN0aW9uKGMsZCl7XCJva1wiPT09YyYmYS5nYS5kYyhiLGYpO0ZoKGUsYyxkKX0pfWZ1bmN0aW9uIEpoKGEsYixjLGQpe3ZhciBlPSEwLGY7Zm9yKGYgaW4gYyllPSExO2U/KGliKFwib25EaXNjb25uZWN0KCkudXBkYXRlKCkgY2FsbGVkIHdpdGggZW1wdHkgZGF0YS4gIERvbid0IGRvIGFueXRoaW5nLlwiKSxGaChkLFwib2tcIikpOlVlKGEuUyxiLnRvU3RyaW5nKCksYyxmdW5jdGlvbihlLGYpe2lmKFwib2tcIj09PWUpZm9yKHZhciBsIGluIGMpe3ZhciBuPU4oY1tsXSk7YS5nYS5kYyhiLm4obCksbil9RmgoZCxlLGYpfSl9ZnVuY3Rpb24gT2MoYSxiLGMpe2M9XCIuaW5mb1wiPT09SChiLnBhdGgpP2EucWQuRmIoYixjKTphLk0uRmIoYixjKTtQYyhhLiQsYi5wYXRoLGMpfWgucGI9ZnVuY3Rpb24oKXt0aGlzLlMucGIoKX07aC5nYz1mdW5jdGlvbigpe3RoaXMuUy5nYygpfTtcbmguT2U9ZnVuY3Rpb24oYSl7aWYoXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBjb25zb2xlKXthPyh0aGlzLlBkfHwodGhpcy5QZD1uZXcgVWQodGhpcy5SYSkpLGE9dGhpcy5QZC5nZXQoKSk6YT10aGlzLlJhLmdldCgpO3ZhciBiPUxhKExkKGEpLGZ1bmN0aW9uKGEsYil7cmV0dXJuIE1hdGgubWF4KGIubGVuZ3RoLGEpfSwwKSxjO2ZvcihjIGluIGEpe2Zvcih2YXIgZD1hW2NdLGU9Yy5sZW5ndGg7ZTxiKzI7ZSsrKWMrPVwiIFwiO2NvbnNvbGUubG9nKGMrZCl9fX07aC5QZT1mdW5jdGlvbihhKXtUZCh0aGlzLlJhLGEpO3RoaXMuemcueWZbYV09ITB9O2guZj1mdW5jdGlvbihhKXtpYihcInI6XCIrdGhpcy5TLmlkK1wiOlwiLGFyZ3VtZW50cyl9O2Z1bmN0aW9uIEZoKGEsYixjKXthJiZEYihmdW5jdGlvbigpe2lmKFwib2tcIj09YilhKG51bGwpO2Vsc2V7dmFyIGQ9KGJ8fFwiZXJyb3JcIikudG9VcHBlckNhc2UoKSxlPWQ7YyYmKGUrPVwiOiBcIitjKTtlPUVycm9yKGUpO2UuY29kZT1kO2EoZSl9fSl9O2Z1bmN0aW9uIEtoKGEsYixjLGQsZSl7ZnVuY3Rpb24gZigpe31hLmYoXCJ0cmFuc2FjdGlvbiBvbiBcIitiKTt2YXIgZz1uZXcgUShhLGIpO2cudmIoXCJ2YWx1ZVwiLGYpO2M9e3BhdGg6Yix1cGRhdGU6YyxIOmQsc3RhdHVzOm51bGwsb2Y6ZmIoKSxTZTplLHVmOjAsWGQ6ZnVuY3Rpb24oKXtnLlliKFwidmFsdWVcIixmKX0sJGQ6bnVsbCx4YTpudWxsLGRkOm51bGwsZWQ6bnVsbCxmZDpudWxsfTtkPWEuTS5wYShiLHZvaWQgMCl8fEw7Yy5kZD1kO2Q9Yy51cGRhdGUoZC5OKCkpO2lmKG0oZCkpe1RiKFwidHJhbnNhY3Rpb24gZmFpbGVkOiBEYXRhIHJldHVybmVkIFwiLGQpO2Muc3RhdHVzPTE7ZT1WYyhhLmtjLGIpO3ZhciBrPWUuemEoKXx8W107ay5wdXNoKGMpO1djKGUsayk7XCJvYmplY3RcIj09PXR5cGVvZiBkJiZudWxsIT09ZCYmcyhkLFwiLnByaW9yaXR5XCIpPyhrPXQoZCxcIi5wcmlvcml0eVwiKSx3KFJiKGspLFwiSW52YWxpZCBwcmlvcml0eSByZXR1cm5lZCBieSB0cmFuc2FjdGlvbi4gUHJpb3JpdHkgbXVzdCBiZSBhIHZhbGlkIHN0cmluZywgZmluaXRlIG51bWJlciwgc2VydmVyIHZhbHVlLCBvciBudWxsLlwiKSk6XG5rPShhLk0ucGEoYil8fEwpLksoKS5OKCk7ZT1DaChhKTtkPU4oZCxrKTtlPVVmKGQsZSk7Yy5lZD1kO2MuZmQ9ZTtjLnhhPWEudmQrKztjPWhoKGEuTSxiLGUsYy54YSxjLlNlKTtqZihhLiQsYixjKTtMaChhKX1lbHNlIGMuWGQoKSxjLmVkPW51bGwsYy5mZD1udWxsLGMuSCYmKGE9bmV3IEMoYy5kZCxuZXcgUShhLGMucGF0aCksSyksYy5IKG51bGwsITEsYSkpfWZ1bmN0aW9uIExoKGEsYil7dmFyIGM9Ynx8YS5rYztifHxNaChhLGMpO2lmKG51bGwhPT1jLnphKCkpe3ZhciBkPU5oKGEsYyk7dygwPGQubGVuZ3RoLFwiU2VuZGluZyB6ZXJvIGxlbmd0aCB0cmFuc2FjdGlvbiBxdWV1ZVwiKTtNYShkLGZ1bmN0aW9uKGEpe3JldHVybiAxPT09YS5zdGF0dXN9KSYmT2goYSxjLnBhdGgoKSxkKX1lbHNlIGMubGQoKSYmYy5UKGZ1bmN0aW9uKGIpe0xoKGEsYil9KX1cbmZ1bmN0aW9uIE9oKGEsYixjKXtmb3IodmFyIGQ9S2EoYyxmdW5jdGlvbihhKXtyZXR1cm4gYS54YX0pLGU9YS5NLnBhKGIsZCl8fEwsZD1lLGU9ZS5oYXNoKCksZj0wO2Y8Yy5sZW5ndGg7ZisrKXt2YXIgZz1jW2ZdO3coMT09PWcuc3RhdHVzLFwidHJ5VG9TZW5kVHJhbnNhY3Rpb25RdWV1ZV86IGl0ZW1zIGluIHF1ZXVlIHNob3VsZCBhbGwgYmUgcnVuLlwiKTtnLnN0YXR1cz0yO2cudWYrKzt2YXIgaz1VKGIsZy5wYXRoKSxkPWQuRChrLGcuZWQpfWQ9ZC5OKCEwKTthLlMucHV0KGIudG9TdHJpbmcoKSxkLGZ1bmN0aW9uKGQpe2EuZihcInRyYW5zYWN0aW9uIHB1dCByZXNwb25zZVwiLHtwYXRoOmIudG9TdHJpbmcoKSxzdGF0dXM6ZH0pO3ZhciBlPVtdO2lmKFwib2tcIj09PWQpe2Q9W107Zm9yKGY9MDtmPGMubGVuZ3RoO2YrKyl7Y1tmXS5zdGF0dXM9MztlPWUuY29uY2F0KGtoKGEuTSxjW2ZdLnhhKSk7aWYoY1tmXS5IKXt2YXIgZz1jW2ZdLmZkLGs9bmV3IFEoYSxjW2ZdLnBhdGgpO2QucHVzaChxKGNbZl0uSCxcbm51bGwsbnVsbCwhMCxuZXcgQyhnLGssSykpKX1jW2ZdLlhkKCl9TWgoYSxWYyhhLmtjLGIpKTtMaChhKTtqZihhLiQsYixlKTtmb3IoZj0wO2Y8ZC5sZW5ndGg7ZisrKURiKGRbZl0pfWVsc2V7aWYoXCJkYXRhc3RhbGVcIj09PWQpZm9yKGY9MDtmPGMubGVuZ3RoO2YrKyljW2ZdLnN0YXR1cz00PT09Y1tmXS5zdGF0dXM/NToxO2Vsc2UgZm9yKHkoXCJ0cmFuc2FjdGlvbiBhdCBcIitiLnRvU3RyaW5nKCkrXCIgZmFpbGVkOiBcIitkKSxmPTA7ZjxjLmxlbmd0aDtmKyspY1tmXS5zdGF0dXM9NSxjW2ZdLiRkPWQ7RGgoYSxiKX19LGUpfWZ1bmN0aW9uIERoKGEsYil7dmFyIGM9UGgoYSxiKSxkPWMucGF0aCgpLGM9TmgoYSxjKTtRaChhLGMsZCk7cmV0dXJuIGR9XG5mdW5jdGlvbiBRaChhLGIsYyl7aWYoMCE9PWIubGVuZ3RoKXtmb3IodmFyIGQ9W10sZT1bXSxmPUthKGIsZnVuY3Rpb24oYSl7cmV0dXJuIGEueGF9KSxnPTA7ZzxiLmxlbmd0aDtnKyspe3ZhciBrPWJbZ10sbD1VKGMsay5wYXRoKSxuPSExLHU7dyhudWxsIT09bCxcInJlcnVuVHJhbnNhY3Rpb25zVW5kZXJOb2RlXzogcmVsYXRpdmVQYXRoIHNob3VsZCBub3QgYmUgbnVsbC5cIik7aWYoNT09PWsuc3RhdHVzKW49ITAsdT1rLiRkLGU9ZS5jb25jYXQoa2goYS5NLGsueGEsITApKTtlbHNlIGlmKDE9PT1rLnN0YXR1cylpZigyNTw9ay51ZiluPSEwLHU9XCJtYXhyZXRyeVwiLGU9ZS5jb25jYXQoa2goYS5NLGsueGEsITApKTtlbHNle3ZhciB4PWEuTS5wYShrLnBhdGgsZil8fEw7ay5kZD14O3ZhciBFPWJbZ10udXBkYXRlKHguTigpKTttKEUpPyhUYihcInRyYW5zYWN0aW9uIGZhaWxlZDogRGF0YSByZXR1cm5lZCBcIixFKSxsPU4oRSksXCJvYmplY3RcIj09PXR5cGVvZiBFJiZudWxsIT1FJiZzKEUsXG5cIi5wcmlvcml0eVwiKXx8KGw9bC5aKHguSygpKSkseD1rLnhhLEU9Q2goYSksRT1VZihsLEUpLGsuZWQ9bCxrLmZkPUUsay54YT1hLnZkKyssUGEoZix4KSxlPWUuY29uY2F0KGhoKGEuTSxrLnBhdGgsRSxrLnhhLGsuU2UpKSxlPWUuY29uY2F0KGtoKGEuTSx4LCEwKSkpOihuPSEwLHU9XCJub2RhdGFcIixlPWUuY29uY2F0KGtoKGEuTSxrLnhhLCEwKSkpfWpmKGEuJCxjLGUpO2U9W107biYmKGJbZ10uc3RhdHVzPTMsc2V0VGltZW91dChiW2ddLlhkLE1hdGguZmxvb3IoMCkpLGJbZ10uSCYmKFwibm9kYXRhXCI9PT11PyhrPW5ldyBRKGEsYltnXS5wYXRoKSxkLnB1c2gocShiW2ddLkgsbnVsbCxudWxsLCExLG5ldyBDKGJbZ10uZGQsayxLKSkpKTpkLnB1c2gocShiW2ddLkgsbnVsbCxFcnJvcih1KSwhMSxudWxsKSkpKX1NaChhLGEua2MpO2ZvcihnPTA7ZzxkLmxlbmd0aDtnKyspRGIoZFtnXSk7TGgoYSl9fVxuZnVuY3Rpb24gUGgoYSxiKXtmb3IodmFyIGMsZD1hLmtjO251bGwhPT0oYz1IKGIpKSYmbnVsbD09PWQuemEoKTspZD1WYyhkLGMpLGI9UyhiKTtyZXR1cm4gZH1mdW5jdGlvbiBOaChhLGIpe3ZhciBjPVtdO1JoKGEsYixjKTtjLnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5vZi1iLm9mfSk7cmV0dXJuIGN9ZnVuY3Rpb24gUmgoYSxiLGMpe3ZhciBkPWIuemEoKTtpZihudWxsIT09ZClmb3IodmFyIGU9MDtlPGQubGVuZ3RoO2UrKyljLnB1c2goZFtlXSk7Yi5UKGZ1bmN0aW9uKGIpe1JoKGEsYixjKX0pfWZ1bmN0aW9uIE1oKGEsYil7dmFyIGM9Yi56YSgpO2lmKGMpe2Zvcih2YXIgZD0wLGU9MDtlPGMubGVuZ3RoO2UrKykzIT09Y1tlXS5zdGF0dXMmJihjW2RdPWNbZV0sZCsrKTtjLmxlbmd0aD1kO1djKGIsMDxjLmxlbmd0aD9jOm51bGwpfWIuVChmdW5jdGlvbihiKXtNaChhLGIpfSl9XG5mdW5jdGlvbiBHaChhLGIpe3ZhciBjPVBoKGEsYikucGF0aCgpLGQ9VmMoYS5rYyxiKTtaYyhkLGZ1bmN0aW9uKGIpe1NoKGEsYil9KTtTaChhLGQpO1ljKGQsZnVuY3Rpb24oYil7U2goYSxiKX0pO3JldHVybiBjfVxuZnVuY3Rpb24gU2goYSxiKXt2YXIgYz1iLnphKCk7aWYobnVsbCE9PWMpe2Zvcih2YXIgZD1bXSxlPVtdLGY9LTEsZz0wO2c8Yy5sZW5ndGg7ZysrKTQhPT1jW2ddLnN0YXR1cyYmKDI9PT1jW2ddLnN0YXR1cz8odyhmPT09Zy0xLFwiQWxsIFNFTlQgaXRlbXMgc2hvdWxkIGJlIGF0IGJlZ2lubmluZyBvZiBxdWV1ZS5cIiksZj1nLGNbZ10uc3RhdHVzPTQsY1tnXS4kZD1cInNldFwiKToodygxPT09Y1tnXS5zdGF0dXMsXCJVbmV4cGVjdGVkIHRyYW5zYWN0aW9uIHN0YXR1cyBpbiBhYm9ydFwiKSxjW2ddLlhkKCksZT1lLmNvbmNhdChraChhLk0sY1tnXS54YSwhMCkpLGNbZ10uSCYmZC5wdXNoKHEoY1tnXS5ILG51bGwsRXJyb3IoXCJzZXRcIiksITEsbnVsbCkpKSk7LTE9PT1mP1djKGIsbnVsbCk6Yy5sZW5ndGg9ZisxO2pmKGEuJCxiLnBhdGgoKSxlKTtmb3IoZz0wO2c8ZC5sZW5ndGg7ZysrKURiKGRbZ10pfX07ZnVuY3Rpb24gWCgpe3RoaXMuZWM9e319Y2EoWCk7WC5wcm90b3R5cGUucGI9ZnVuY3Rpb24oKXtmb3IodmFyIGEgaW4gdGhpcy5lYyl0aGlzLmVjW2FdLnBiKCl9O1gucHJvdG90eXBlLmludGVycnVwdD1YLnByb3RvdHlwZS5wYjtYLnByb3RvdHlwZS5nYz1mdW5jdGlvbigpe2Zvcih2YXIgYSBpbiB0aGlzLmVjKXRoaXMuZWNbYV0uZ2MoKX07WC5wcm90b3R5cGUucmVzdW1lPVgucHJvdG90eXBlLmdjO2Z1bmN0aW9uIFRoKGEpe3ZhciBiPXRoaXM7dGhpcy5xYz1hO3RoaXMuU2Q9XCIqXCI7eGYoKT90aGlzLkdjPXRoaXMub2Q9cGYoKToodGhpcy5HYz13aW5kb3cub3BlbmVyLHRoaXMub2Q9d2luZG93KTtpZighYi5HYyl0aHJvd1wiVW5hYmxlIHRvIGZpbmQgcmVsYXkgZnJhbWVcIjtxZih0aGlzLm9kLFwibWVzc2FnZVwiLHEodGhpcy5aYix0aGlzKSk7cWYodGhpcy5vZCxcIm1lc3NhZ2VcIixxKHRoaXMubGYsdGhpcykpO3RyeXtVaCh0aGlzLHthOlwicmVhZHlcIn0pfWNhdGNoKGMpe3FmKHRoaXMuR2MsXCJsb2FkXCIsZnVuY3Rpb24oKXtVaChiLHthOlwicmVhZHlcIn0pfSl9cWYod2luZG93LFwidW5sb2FkXCIscSh0aGlzLmpnLHRoaXMpKX1mdW5jdGlvbiBVaChhLGIpe2I9cihiKTt4ZigpP2EuR2MuZG9Qb3N0KGIsYS5TZCk6YS5HYy5wb3N0TWVzc2FnZShiLGEuU2QpfVxuVGgucHJvdG90eXBlLlpiPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYzt0cnl7Yz10YShhLmRhdGEpfWNhdGNoKGQpe31jJiZcInJlcXVlc3RcIj09PWMuYSYmKHJmKHdpbmRvdyxcIm1lc3NhZ2VcIix0aGlzLlpiKSx0aGlzLlNkPWEub3JpZ2luLHRoaXMucWMmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtiLnFjKGIuU2QsYy5kLGZ1bmN0aW9uKGEsYyl7Yi5NZj0hYztiLnFjPXZvaWQgMDtVaChiLHthOlwicmVzcG9uc2VcIixkOmEsZm9yY2VLZWVwV2luZG93T3BlbjpjfSl9KX0sMCkpfTtUaC5wcm90b3R5cGUuamc9ZnVuY3Rpb24oKXt0cnl7cmYodGhpcy5vZCxcIm1lc3NhZ2VcIix0aGlzLmxmKX1jYXRjaChhKXt9dGhpcy5xYyYmKFVoKHRoaXMse2E6XCJlcnJvclwiLGQ6XCJ1bmtub3duIGNsb3NlZCB3aW5kb3dcIn0pLHRoaXMucWM9dm9pZCAwKTt0cnl7d2luZG93LmNsb3NlKCl9Y2F0Y2goYil7fX07VGgucHJvdG90eXBlLmxmPWZ1bmN0aW9uKGEpe2lmKHRoaXMuTWYmJlwiZGllXCI9PT1hLmRhdGEpdHJ5e3dpbmRvdy5jbG9zZSgpfWNhdGNoKGIpe319O3ZhciBZPXtYZjpmdW5jdGlvbigpe2tlPWJlPSEwfX07WS5mb3JjZUxvbmdQb2xsaW5nPVkuWGY7WS5ZZj1mdW5jdGlvbigpe2xlPSEwfTtZLmZvcmNlV2ViU29ja2V0cz1ZLllmO1kud2c9ZnVuY3Rpb24oYSxiKXthLmsuUy5NZT1ifTtZLnNldFNlY3VyaXR5RGVidWdDYWxsYmFjaz1ZLndnO1kuT2U9ZnVuY3Rpb24oYSxiKXthLmsuT2UoYil9O1kuc3RhdHM9WS5PZTtZLlBlPWZ1bmN0aW9uKGEsYil7YS5rLlBlKGIpfTtZLnN0YXRzSW5jcmVtZW50Q291bnRlcj1ZLlBlO1kuZ2Q9ZnVuY3Rpb24oYSl7cmV0dXJuIGEuay5nZH07WS5kYXRhVXBkYXRlQ291bnQ9WS5nZDtZLmFnPWZ1bmN0aW9uKGEsYil7YS5rLnNlPWJ9O1kuaW50ZXJjZXB0U2VydmVyRGF0YT1ZLmFnO1kuZ2c9ZnVuY3Rpb24oYSl7bmV3IFRoKGEpfTtZLm9uUG9wdXBPcGVuPVkuZ2c7WS51Zz1mdW5jdGlvbihhKXtrZj1hfTtZLnNldEF1dGhlbnRpY2F0aW9uU2VydmVyPVkudWc7ZnVuY3Rpb24gWihhLGIpe3RoaXMuUWM9YTt0aGlzLkVhPWJ9Wi5wcm90b3R5cGUuY2FuY2VsPWZ1bmN0aW9uKGEpe0QoXCJGaXJlYmFzZS5vbkRpc2Nvbm5lY3QoKS5jYW5jZWxcIiwwLDEsYXJndW1lbnRzLmxlbmd0aCk7RyhcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLmNhbmNlbFwiLDEsYSwhMCk7dGhpcy5RYy5FZSh0aGlzLkVhLGF8fG51bGwpfTtaLnByb3RvdHlwZS5jYW5jZWw9Wi5wcm90b3R5cGUuY2FuY2VsO1oucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbihhKXtEKFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkucmVtb3ZlXCIsMCwxLGFyZ3VtZW50cy5sZW5ndGgpOyRiKFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkucmVtb3ZlXCIsdGhpcy5FYSk7RyhcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLnJlbW92ZVwiLDEsYSwhMCk7SGgodGhpcy5RYyx0aGlzLkVhLG51bGwsYSl9O1oucHJvdG90eXBlLnJlbW92ZT1aLnByb3RvdHlwZS5yZW1vdmU7XG5aLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oYSxiKXtEKFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkuc2V0XCIsMSwyLGFyZ3VtZW50cy5sZW5ndGgpOyRiKFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkuc2V0XCIsdGhpcy5FYSk7U2IoXCJGaXJlYmFzZS5vbkRpc2Nvbm5lY3QoKS5zZXRcIixhLCExKTtHKFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkuc2V0XCIsMixiLCEwKTtIaCh0aGlzLlFjLHRoaXMuRWEsYSxiKX07Wi5wcm90b3R5cGUuc2V0PVoucHJvdG90eXBlLnNldDtcbloucHJvdG90eXBlLkFiPWZ1bmN0aW9uKGEsYixjKXtEKFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkuc2V0V2l0aFByaW9yaXR5XCIsMiwzLGFyZ3VtZW50cy5sZW5ndGgpOyRiKFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkuc2V0V2l0aFByaW9yaXR5XCIsdGhpcy5FYSk7U2IoXCJGaXJlYmFzZS5vbkRpc2Nvbm5lY3QoKS5zZXRXaXRoUHJpb3JpdHlcIixhLCExKTtXYihcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLnNldFdpdGhQcmlvcml0eVwiLDIsYik7RyhcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLnNldFdpdGhQcmlvcml0eVwiLDMsYywhMCk7SWgodGhpcy5RYyx0aGlzLkVhLGEsYixjKX07Wi5wcm90b3R5cGUuc2V0V2l0aFByaW9yaXR5PVoucHJvdG90eXBlLkFiO1xuWi5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGEsYil7RChcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLnVwZGF0ZVwiLDEsMixhcmd1bWVudHMubGVuZ3RoKTskYihcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLnVwZGF0ZVwiLHRoaXMuRWEpO2lmKGVhKGEpKXtmb3IodmFyIGM9e30sZD0wO2Q8YS5sZW5ndGg7KytkKWNbXCJcIitkXT1hW2RdO2E9Yzt5KFwiUGFzc2luZyBhbiBBcnJheSB0byBGaXJlYmFzZS5vbkRpc2Nvbm5lY3QoKS51cGRhdGUoKSBpcyBkZXByZWNhdGVkLiBVc2Ugc2V0KCkgaWYgeW91IHdhbnQgdG8gb3ZlcndyaXRlIHRoZSBleGlzdGluZyBkYXRhLCBvciBhbiBPYmplY3Qgd2l0aCBpbnRlZ2VyIGtleXMgaWYgeW91IHJlYWxseSBkbyB3YW50IHRvIG9ubHkgdXBkYXRlIHNvbWUgb2YgdGhlIGNoaWxkcmVuLlwiKX1WYihcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLnVwZGF0ZVwiLGEpO0coXCJGaXJlYmFzZS5vbkRpc2Nvbm5lY3QoKS51cGRhdGVcIiwyLGIsITApO0poKHRoaXMuUWMsXG50aGlzLkVhLGEsYil9O1oucHJvdG90eXBlLnVwZGF0ZT1aLnByb3RvdHlwZS51cGRhdGU7dmFyICQ9e307JC5tYz1LZTskLkRhdGFDb25uZWN0aW9uPSQubWM7S2UucHJvdG90eXBlLnlnPWZ1bmN0aW9uKGEsYil7dGhpcy5DYShcInFcIix7cDphfSxiKX07JC5tYy5wcm90b3R5cGUuc2ltcGxlTGlzdGVuPSQubWMucHJvdG90eXBlLnlnO0tlLnByb3RvdHlwZS5TZj1mdW5jdGlvbihhLGIpe3RoaXMuQ2EoXCJlY2hvXCIse2Q6YX0sYil9OyQubWMucHJvdG90eXBlLmVjaG89JC5tYy5wcm90b3R5cGUuU2Y7S2UucHJvdG90eXBlLmludGVycnVwdD1LZS5wcm90b3R5cGUucGI7JC5EZj12ZTskLlJlYWxUaW1lQ29ubmVjdGlvbj0kLkRmO3ZlLnByb3RvdHlwZS5zZW5kUmVxdWVzdD12ZS5wcm90b3R5cGUuQ2E7dmUucHJvdG90eXBlLmNsb3NlPXZlLnByb3RvdHlwZS5jbG9zZTtcbiQuJGY9ZnVuY3Rpb24oYSl7dmFyIGI9S2UucHJvdG90eXBlLnB1dDtLZS5wcm90b3R5cGUucHV0PWZ1bmN0aW9uKGMsZCxlLGYpe20oZikmJihmPWEoKSk7Yi5jYWxsKHRoaXMsYyxkLGUsZil9O3JldHVybiBmdW5jdGlvbigpe0tlLnByb3RvdHlwZS5wdXQ9Yn19OyQuaGlqYWNrSGFzaD0kLiRmOyQuQ2Y9QmE7JC5Db25uZWN0aW9uVGFyZ2V0PSQuQ2Y7JC5GYT1mdW5jdGlvbihhKXtyZXR1cm4gYS5GYSgpfTskLnF1ZXJ5SWRlbnRpZmllcj0kLkZhOyQuYmc9ZnVuY3Rpb24oYSl7cmV0dXJuIGEuay5TLkFhfTskLmxpc3RlbnM9JC5iZzt2YXIgVmg9ZnVuY3Rpb24oKXt2YXIgYT0wLGI9W107cmV0dXJuIGZ1bmN0aW9uKGMpe3ZhciBkPWM9PT1hO2E9Yztmb3IodmFyIGU9QXJyYXkoOCksZj03OzA8PWY7Zi0tKWVbZl09XCItMDEyMzQ1Njc4OUFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaX2FiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6XCIuY2hhckF0KGMlNjQpLGM9TWF0aC5mbG9vcihjLzY0KTt3KDA9PT1jLFwiQ2Fubm90IHB1c2ggYXQgdGltZSA9PSAwXCIpO2M9ZS5qb2luKFwiXCIpO2lmKGQpe2ZvcihmPTExOzA8PWYmJjYzPT09YltmXTtmLS0pYltmXT0wO2JbZl0rK31lbHNlIGZvcihmPTA7MTI+ZjtmKyspYltmXT1NYXRoLmZsb29yKDY0Kk1hdGgucmFuZG9tKCkpO2ZvcihmPTA7MTI+ZjtmKyspYys9XCItMDEyMzQ1Njc4OUFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaX2FiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6XCIuY2hhckF0KGJbZl0pO3coMjA9PT1jLmxlbmd0aCxcIk5leHRQdXNoSWQ6IExlbmd0aCBzaG91bGQgYmUgMjAuXCIpO1xucmV0dXJuIGN9fSgpO2Z1bmN0aW9uIFEoYSxiKXt2YXIgYyxkLGU7aWYoYSBpbnN0YW5jZW9mIHpoKWM9YSxkPWI7ZWxzZXtEKFwibmV3IEZpcmViYXNlXCIsMSwyLGFyZ3VtZW50cy5sZW5ndGgpO2Q9c2IoYXJndW1lbnRzWzBdKTtjPWQuQWc7XCJmaXJlYmFzZVwiPT09ZC5kb21haW4mJnJiKGQuaG9zdCtcIiBpcyBubyBsb25nZXIgc3VwcG9ydGVkLiBQbGVhc2UgdXNlIDxZT1VSIEZJUkVCQVNFPi5maXJlYmFzZWlvLmNvbSBpbnN0ZWFkXCIpO2N8fHJiKFwiQ2Fubm90IHBhcnNlIEZpcmViYXNlIHVybC4gUGxlYXNlIHVzZSBodHRwczovLzxZT1VSIEZJUkVCQVNFPi5maXJlYmFzZWlvLmNvbVwiKTtkLnpifHxcInVuZGVmaW5lZFwiIT09dHlwZW9mIHdpbmRvdyYmd2luZG93LmxvY2F0aW9uJiZ3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wmJi0xIT09d2luZG93LmxvY2F0aW9uLnByb3RvY29sLmluZGV4T2YoXCJodHRwczpcIikmJnkoXCJJbnNlY3VyZSBGaXJlYmFzZSBhY2Nlc3MgZnJvbSBhIHNlY3VyZSBwYWdlLiBQbGVhc2UgdXNlIGh0dHBzIGluIGNhbGxzIHRvIG5ldyBGaXJlYmFzZSgpLlwiKTtcbmM9bmV3IEJhKGQuaG9zdCxkLnpiLGMsXCJ3c1wiPT09ZC5zY2hlbWV8fFwid3NzXCI9PT1kLnNjaGVtZSk7ZD1uZXcgUihkLk9jKTtlPWQudG9TdHJpbmcoKTt2YXIgZjshKGY9IXAoYy5ob3N0KXx8MD09PWMuaG9zdC5sZW5ndGh8fCFRYihjLnRiKSkmJihmPTAhPT1lLmxlbmd0aCkmJihlJiYoZT1lLnJlcGxhY2UoL15cXC8qXFwuaW5mbyhcXC98JCkvLFwiL1wiKSksZj0hKHAoZSkmJjAhPT1lLmxlbmd0aCYmIVBiLnRlc3QoZSkpKTtpZihmKXRocm93IEVycm9yKEYoXCJuZXcgRmlyZWJhc2VcIiwxLCExKSsnbXVzdCBiZSBhIHZhbGlkIGZpcmViYXNlIFVSTCBhbmQgdGhlIHBhdGggY2FuXFwndCBjb250YWluIFwiLlwiLCBcIiNcIiwgXCIkXCIsIFwiW1wiLCBvciBcIl1cIi4nKTtpZihiKWlmKGIgaW5zdGFuY2VvZiBYKWU9YjtlbHNlIGlmKHAoYikpZT1YLk1iKCksYy5EZD1iO2Vsc2UgdGhyb3cgRXJyb3IoXCJFeHBlY3RlZCBhIHZhbGlkIEZpcmViYXNlLkNvbnRleHQgZm9yIHNlY29uZCBhcmd1bWVudCB0byBuZXcgRmlyZWJhc2UoKVwiKTtcbmVsc2UgZT1YLk1iKCk7Zj1jLnRvU3RyaW5nKCk7dmFyIGc9dChlLmVjLGYpO2d8fChnPW5ldyB6aChjKSxlLmVjW2ZdPWcpO2M9Z31QLmNhbGwodGhpcyxjLGQsR2MsITEpfW1hKFEsUCk7dmFyIFdoPVEsWGg9W1wiRmlyZWJhc2VcIl0sWWg9YWE7WGhbMF1pbiBZaHx8IVloLmV4ZWNTY3JpcHR8fFloLmV4ZWNTY3JpcHQoXCJ2YXIgXCIrWGhbMF0pO2Zvcih2YXIgWmg7WGgubGVuZ3RoJiYoWmg9WGguc2hpZnQoKSk7KSFYaC5sZW5ndGgmJm0oV2gpP1loW1poXT1XaDpZaD1ZaFtaaF0/WWhbWmhdOlloW1poXT17fTtRLnByb3RvdHlwZS5uYW1lPWZ1bmN0aW9uKCl7eShcIkZpcmViYXNlLm5hbWUoKSBiZWluZyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIEZpcmViYXNlLmtleSgpIGluc3RlYWQuXCIpO0QoXCJGaXJlYmFzZS5uYW1lXCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpO3JldHVybiB0aGlzLmtleSgpfTtRLnByb3RvdHlwZS5uYW1lPVEucHJvdG90eXBlLm5hbWU7XG5RLnByb3RvdHlwZS5rZXk9ZnVuY3Rpb24oKXtEKFwiRmlyZWJhc2Uua2V5XCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpO3JldHVybiB0aGlzLnBhdGguZSgpP251bGw6U2ModGhpcy5wYXRoKX07US5wcm90b3R5cGUua2V5PVEucHJvdG90eXBlLmtleTtRLnByb3RvdHlwZS5uPWZ1bmN0aW9uKGEpe0QoXCJGaXJlYmFzZS5jaGlsZFwiLDEsMSxhcmd1bWVudHMubGVuZ3RoKTtpZihnYShhKSlhPVN0cmluZyhhKTtlbHNlIGlmKCEoYSBpbnN0YW5jZW9mIFIpKWlmKG51bGw9PT1IKHRoaXMucGF0aCkpe3ZhciBiPWE7YiYmKGI9Yi5yZXBsYWNlKC9eXFwvKlxcLmluZm8oXFwvfCQpLyxcIi9cIikpO1piKFwiRmlyZWJhc2UuY2hpbGRcIixiKX1lbHNlIFpiKFwiRmlyZWJhc2UuY2hpbGRcIixhKTtyZXR1cm4gbmV3IFEodGhpcy5rLHRoaXMucGF0aC5uKGEpKX07US5wcm90b3R5cGUuY2hpbGQ9US5wcm90b3R5cGUubjtcblEucHJvdG90eXBlLnBhcmVudD1mdW5jdGlvbigpe0QoXCJGaXJlYmFzZS5wYXJlbnRcIiwwLDAsYXJndW1lbnRzLmxlbmd0aCk7dmFyIGE9dGhpcy5wYXRoLnBhcmVudCgpO3JldHVybiBudWxsPT09YT9udWxsOm5ldyBRKHRoaXMuayxhKX07US5wcm90b3R5cGUucGFyZW50PVEucHJvdG90eXBlLnBhcmVudDtRLnByb3RvdHlwZS5yb290PWZ1bmN0aW9uKCl7RChcIkZpcmViYXNlLnJlZlwiLDAsMCxhcmd1bWVudHMubGVuZ3RoKTtmb3IodmFyIGE9dGhpcztudWxsIT09YS5wYXJlbnQoKTspYT1hLnBhcmVudCgpO3JldHVybiBhfTtRLnByb3RvdHlwZS5yb290PVEucHJvdG90eXBlLnJvb3Q7XG5RLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe0QoXCJGaXJlYmFzZS50b1N0cmluZ1wiLDAsMCxhcmd1bWVudHMubGVuZ3RoKTt2YXIgYTtpZihudWxsPT09dGhpcy5wYXJlbnQoKSlhPXRoaXMuay50b1N0cmluZygpO2Vsc2V7YT10aGlzLnBhcmVudCgpLnRvU3RyaW5nKCkrXCIvXCI7dmFyIGI9dGhpcy5rZXkoKTthKz1lbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKGIpKX1yZXR1cm4gYX07US5wcm90b3R5cGUudG9TdHJpbmc9US5wcm90b3R5cGUudG9TdHJpbmc7US5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGEsYil7RChcIkZpcmViYXNlLnNldFwiLDEsMixhcmd1bWVudHMubGVuZ3RoKTskYihcIkZpcmViYXNlLnNldFwiLHRoaXMucGF0aCk7U2IoXCJGaXJlYmFzZS5zZXRcIixhLCExKTtHKFwiRmlyZWJhc2Uuc2V0XCIsMixiLCEwKTt0aGlzLmsuQWIodGhpcy5wYXRoLGEsbnVsbCxifHxudWxsKX07US5wcm90b3R5cGUuc2V0PVEucHJvdG90eXBlLnNldDtcblEucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihhLGIpe0QoXCJGaXJlYmFzZS51cGRhdGVcIiwxLDIsYXJndW1lbnRzLmxlbmd0aCk7JGIoXCJGaXJlYmFzZS51cGRhdGVcIix0aGlzLnBhdGgpO2lmKGVhKGEpKXtmb3IodmFyIGM9e30sZD0wO2Q8YS5sZW5ndGg7KytkKWNbXCJcIitkXT1hW2RdO2E9Yzt5KFwiUGFzc2luZyBhbiBBcnJheSB0byBGaXJlYmFzZS51cGRhdGUoKSBpcyBkZXByZWNhdGVkLiBVc2Ugc2V0KCkgaWYgeW91IHdhbnQgdG8gb3ZlcndyaXRlIHRoZSBleGlzdGluZyBkYXRhLCBvciBhbiBPYmplY3Qgd2l0aCBpbnRlZ2VyIGtleXMgaWYgeW91IHJlYWxseSBkbyB3YW50IHRvIG9ubHkgdXBkYXRlIHNvbWUgb2YgdGhlIGNoaWxkcmVuLlwiKX1WYihcIkZpcmViYXNlLnVwZGF0ZVwiLGEpO0coXCJGaXJlYmFzZS51cGRhdGVcIiwyLGIsITApO2lmKHMoYSxcIi5wcmlvcml0eVwiKSl0aHJvdyBFcnJvcihcInVwZGF0ZSgpIGRvZXMgbm90IGN1cnJlbnRseSBzdXBwb3J0IHVwZGF0aW5nIC5wcmlvcml0eS5cIik7XG50aGlzLmsudXBkYXRlKHRoaXMucGF0aCxhLGJ8fG51bGwpfTtRLnByb3RvdHlwZS51cGRhdGU9US5wcm90b3R5cGUudXBkYXRlO1EucHJvdG90eXBlLkFiPWZ1bmN0aW9uKGEsYixjKXtEKFwiRmlyZWJhc2Uuc2V0V2l0aFByaW9yaXR5XCIsMiwzLGFyZ3VtZW50cy5sZW5ndGgpOyRiKFwiRmlyZWJhc2Uuc2V0V2l0aFByaW9yaXR5XCIsdGhpcy5wYXRoKTtTYihcIkZpcmViYXNlLnNldFdpdGhQcmlvcml0eVwiLGEsITEpO1diKFwiRmlyZWJhc2Uuc2V0V2l0aFByaW9yaXR5XCIsMixiKTtHKFwiRmlyZWJhc2Uuc2V0V2l0aFByaW9yaXR5XCIsMyxjLCEwKTtpZihcIi5sZW5ndGhcIj09PXRoaXMua2V5KCl8fFwiLmtleXNcIj09PXRoaXMua2V5KCkpdGhyb3dcIkZpcmViYXNlLnNldFdpdGhQcmlvcml0eSBmYWlsZWQ6IFwiK3RoaXMua2V5KCkrXCIgaXMgYSByZWFkLW9ubHkgb2JqZWN0LlwiO3RoaXMuay5BYih0aGlzLnBhdGgsYSxiLGN8fG51bGwpfTtRLnByb3RvdHlwZS5zZXRXaXRoUHJpb3JpdHk9US5wcm90b3R5cGUuQWI7XG5RLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oYSl7RChcIkZpcmViYXNlLnJlbW92ZVwiLDAsMSxhcmd1bWVudHMubGVuZ3RoKTskYihcIkZpcmViYXNlLnJlbW92ZVwiLHRoaXMucGF0aCk7RyhcIkZpcmViYXNlLnJlbW92ZVwiLDEsYSwhMCk7dGhpcy5zZXQobnVsbCxhKX07US5wcm90b3R5cGUucmVtb3ZlPVEucHJvdG90eXBlLnJlbW92ZTtcblEucHJvdG90eXBlLnRyYW5zYWN0aW9uPWZ1bmN0aW9uKGEsYixjKXtEKFwiRmlyZWJhc2UudHJhbnNhY3Rpb25cIiwxLDMsYXJndW1lbnRzLmxlbmd0aCk7JGIoXCJGaXJlYmFzZS50cmFuc2FjdGlvblwiLHRoaXMucGF0aCk7RyhcIkZpcmViYXNlLnRyYW5zYWN0aW9uXCIsMSxhLCExKTtHKFwiRmlyZWJhc2UudHJhbnNhY3Rpb25cIiwyLGIsITApO2lmKG0oYykmJlwiYm9vbGVhblwiIT10eXBlb2YgYyl0aHJvdyBFcnJvcihGKFwiRmlyZWJhc2UudHJhbnNhY3Rpb25cIiwzLCEwKStcIm11c3QgYmUgYSBib29sZWFuLlwiKTtpZihcIi5sZW5ndGhcIj09PXRoaXMua2V5KCl8fFwiLmtleXNcIj09PXRoaXMua2V5KCkpdGhyb3dcIkZpcmViYXNlLnRyYW5zYWN0aW9uIGZhaWxlZDogXCIrdGhpcy5rZXkoKStcIiBpcyBhIHJlYWQtb25seSBvYmplY3QuXCI7XCJ1bmRlZmluZWRcIj09PXR5cGVvZiBjJiYoYz0hMCk7S2godGhpcy5rLHRoaXMucGF0aCxhLGJ8fG51bGwsYyl9O1EucHJvdG90eXBlLnRyYW5zYWN0aW9uPVEucHJvdG90eXBlLnRyYW5zYWN0aW9uO1xuUS5wcm90b3R5cGUudmc9ZnVuY3Rpb24oYSxiKXtEKFwiRmlyZWJhc2Uuc2V0UHJpb3JpdHlcIiwxLDIsYXJndW1lbnRzLmxlbmd0aCk7JGIoXCJGaXJlYmFzZS5zZXRQcmlvcml0eVwiLHRoaXMucGF0aCk7V2IoXCJGaXJlYmFzZS5zZXRQcmlvcml0eVwiLDEsYSk7RyhcIkZpcmViYXNlLnNldFByaW9yaXR5XCIsMixiLCEwKTt0aGlzLmsuQWIodGhpcy5wYXRoLm4oXCIucHJpb3JpdHlcIiksYSxudWxsLGIpfTtRLnByb3RvdHlwZS5zZXRQcmlvcml0eT1RLnByb3RvdHlwZS52ZztRLnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKGEsYil7RChcIkZpcmViYXNlLnB1c2hcIiwwLDIsYXJndW1lbnRzLmxlbmd0aCk7JGIoXCJGaXJlYmFzZS5wdXNoXCIsdGhpcy5wYXRoKTtTYihcIkZpcmViYXNlLnB1c2hcIixhLCEwKTtHKFwiRmlyZWJhc2UucHVzaFwiLDIsYiwhMCk7dmFyIGM9QmgodGhpcy5rKSxjPVZoKGMpLGM9dGhpcy5uKGMpO1widW5kZWZpbmVkXCIhPT10eXBlb2YgYSYmbnVsbCE9PWEmJmMuc2V0KGEsYik7cmV0dXJuIGN9O1xuUS5wcm90b3R5cGUucHVzaD1RLnByb3RvdHlwZS5wdXNoO1EucHJvdG90eXBlLmZiPWZ1bmN0aW9uKCl7JGIoXCJGaXJlYmFzZS5vbkRpc2Nvbm5lY3RcIix0aGlzLnBhdGgpO3JldHVybiBuZXcgWih0aGlzLmssdGhpcy5wYXRoKX07US5wcm90b3R5cGUub25EaXNjb25uZWN0PVEucHJvdG90eXBlLmZiO1EucHJvdG90eXBlLlE9ZnVuY3Rpb24oYSxiLGMpe3koXCJGaXJlYmFzZVJlZi5hdXRoKCkgYmVpbmcgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSBGaXJlYmFzZVJlZi5hdXRoV2l0aEN1c3RvbVRva2VuKCkgaW5zdGVhZC5cIik7RChcIkZpcmViYXNlLmF1dGhcIiwxLDMsYXJndW1lbnRzLmxlbmd0aCk7YWMoXCJGaXJlYmFzZS5hdXRoXCIsYSk7RyhcIkZpcmViYXNlLmF1dGhcIiwyLGIsITApO0coXCJGaXJlYmFzZS5hdXRoXCIsMyxiLCEwKTtMZih0aGlzLmsuUSxhLHt9LHtyZW1lbWJlcjpcIm5vbmVcIn0sYixjKX07US5wcm90b3R5cGUuYXV0aD1RLnByb3RvdHlwZS5RO1xuUS5wcm90b3R5cGUuUmU9ZnVuY3Rpb24oYSl7RChcIkZpcmViYXNlLnVuYXV0aFwiLDAsMSxhcmd1bWVudHMubGVuZ3RoKTtHKFwiRmlyZWJhc2UudW5hdXRoXCIsMSxhLCEwKTtNZih0aGlzLmsuUSxhKX07US5wcm90b3R5cGUudW5hdXRoPVEucHJvdG90eXBlLlJlO1EucHJvdG90eXBlLm1lPWZ1bmN0aW9uKCl7RChcIkZpcmViYXNlLmdldEF1dGhcIiwwLDAsYXJndW1lbnRzLmxlbmd0aCk7cmV0dXJuIHRoaXMuay5RLm1lKCl9O1EucHJvdG90eXBlLmdldEF1dGg9US5wcm90b3R5cGUubWU7US5wcm90b3R5cGUuZmc9ZnVuY3Rpb24oYSxiKXtEKFwiRmlyZWJhc2Uub25BdXRoXCIsMSwyLGFyZ3VtZW50cy5sZW5ndGgpO0coXCJGaXJlYmFzZS5vbkF1dGhcIiwxLGEsITEpO05iKFwiRmlyZWJhc2Uub25BdXRoXCIsMixiKTt0aGlzLmsuUS52YihcImF1dGhfc3RhdHVzXCIsYSxiKX07US5wcm90b3R5cGUub25BdXRoPVEucHJvdG90eXBlLmZnO1xuUS5wcm90b3R5cGUuZWc9ZnVuY3Rpb24oYSxiKXtEKFwiRmlyZWJhc2Uub2ZmQXV0aFwiLDEsMixhcmd1bWVudHMubGVuZ3RoKTtHKFwiRmlyZWJhc2Uub2ZmQXV0aFwiLDEsYSwhMSk7TmIoXCJGaXJlYmFzZS5vZmZBdXRoXCIsMixiKTt0aGlzLmsuUS5ZYihcImF1dGhfc3RhdHVzXCIsYSxiKX07US5wcm90b3R5cGUub2ZmQXV0aD1RLnByb3RvdHlwZS5lZztRLnByb3RvdHlwZS5IZj1mdW5jdGlvbihhLGIsYyl7RChcIkZpcmViYXNlLmF1dGhXaXRoQ3VzdG9tVG9rZW5cIiwyLDMsYXJndW1lbnRzLmxlbmd0aCk7YWMoXCJGaXJlYmFzZS5hdXRoV2l0aEN1c3RvbVRva2VuXCIsYSk7RyhcIkZpcmViYXNlLmF1dGhXaXRoQ3VzdG9tVG9rZW5cIiwyLGIsITEpO0koXCJGaXJlYmFzZS5hdXRoV2l0aEN1c3RvbVRva2VuXCIsMyxjLCEwKTtMZih0aGlzLmsuUSxhLHt9LGN8fHt9LGIpfTtRLnByb3RvdHlwZS5hdXRoV2l0aEN1c3RvbVRva2VuPVEucHJvdG90eXBlLkhmO1xuUS5wcm90b3R5cGUuSWY9ZnVuY3Rpb24oYSxiLGMpe0QoXCJGaXJlYmFzZS5hdXRoV2l0aE9BdXRoUG9wdXBcIiwyLDMsYXJndW1lbnRzLmxlbmd0aCk7YmMoXCJGaXJlYmFzZS5hdXRoV2l0aE9BdXRoUG9wdXBcIiwxLGEpO0coXCJGaXJlYmFzZS5hdXRoV2l0aE9BdXRoUG9wdXBcIiwyLGIsITEpO0koXCJGaXJlYmFzZS5hdXRoV2l0aE9BdXRoUG9wdXBcIiwzLGMsITApO1FmKHRoaXMuay5RLGEsYyxiKX07US5wcm90b3R5cGUuYXV0aFdpdGhPQXV0aFBvcHVwPVEucHJvdG90eXBlLklmO1xuUS5wcm90b3R5cGUuSmY9ZnVuY3Rpb24oYSxiLGMpe0QoXCJGaXJlYmFzZS5hdXRoV2l0aE9BdXRoUmVkaXJlY3RcIiwyLDMsYXJndW1lbnRzLmxlbmd0aCk7YmMoXCJGaXJlYmFzZS5hdXRoV2l0aE9BdXRoUmVkaXJlY3RcIiwxLGEpO0coXCJGaXJlYmFzZS5hdXRoV2l0aE9BdXRoUmVkaXJlY3RcIiwyLGIsITEpO0koXCJGaXJlYmFzZS5hdXRoV2l0aE9BdXRoUmVkaXJlY3RcIiwzLGMsITApO3ZhciBkPXRoaXMuay5RO09mKGQpO3ZhciBlPVtFZl0sZj1uZihjKTtcImFub255bW91c1wiPT09YXx8XCJmaXJlYmFzZVwiPT09YT9BKGIsVyhcIlRSQU5TUE9SVF9VTkFWQUlMQUJMRVwiKSk6KEFhLnNldChcInJlZGlyZWN0X2NsaWVudF9vcHRpb25zXCIsZi5jZCksUGYoZCxlLFwiL2F1dGgvXCIrYSxmLGIpKX07US5wcm90b3R5cGUuYXV0aFdpdGhPQXV0aFJlZGlyZWN0PVEucHJvdG90eXBlLkpmO1xuUS5wcm90b3R5cGUuS2Y9ZnVuY3Rpb24oYSxiLGMsZCl7RChcIkZpcmViYXNlLmF1dGhXaXRoT0F1dGhUb2tlblwiLDMsNCxhcmd1bWVudHMubGVuZ3RoKTtiYyhcIkZpcmViYXNlLmF1dGhXaXRoT0F1dGhUb2tlblwiLDEsYSk7RyhcIkZpcmViYXNlLmF1dGhXaXRoT0F1dGhUb2tlblwiLDMsYywhMSk7SShcIkZpcmViYXNlLmF1dGhXaXRoT0F1dGhUb2tlblwiLDQsZCwhMCk7cChiKT8oYmMoXCJGaXJlYmFzZS5hdXRoV2l0aE9BdXRoVG9rZW5cIiwyLGIpLE5mKHRoaXMuay5RLGErXCIvdG9rZW5cIix7YWNjZXNzX3Rva2VuOmJ9LGQsYykpOihJKFwiRmlyZWJhc2UuYXV0aFdpdGhPQXV0aFRva2VuXCIsMixiLCExKSxOZih0aGlzLmsuUSxhK1wiL3Rva2VuXCIsYixkLGMpKX07US5wcm90b3R5cGUuYXV0aFdpdGhPQXV0aFRva2VuPVEucHJvdG90eXBlLktmO1xuUS5wcm90b3R5cGUuR2Y9ZnVuY3Rpb24oYSxiKXtEKFwiRmlyZWJhc2UuYXV0aEFub255bW91c2x5XCIsMSwyLGFyZ3VtZW50cy5sZW5ndGgpO0coXCJGaXJlYmFzZS5hdXRoQW5vbnltb3VzbHlcIiwxLGEsITEpO0koXCJGaXJlYmFzZS5hdXRoQW5vbnltb3VzbHlcIiwyLGIsITApO05mKHRoaXMuay5RLFwiYW5vbnltb3VzXCIse30sYixhKX07US5wcm90b3R5cGUuYXV0aEFub255bW91c2x5PVEucHJvdG90eXBlLkdmO1xuUS5wcm90b3R5cGUuTGY9ZnVuY3Rpb24oYSxiLGMpe0QoXCJGaXJlYmFzZS5hdXRoV2l0aFBhc3N3b3JkXCIsMiwzLGFyZ3VtZW50cy5sZW5ndGgpO0koXCJGaXJlYmFzZS5hdXRoV2l0aFBhc3N3b3JkXCIsMSxhLCExKTtKKFwiRmlyZWJhc2UuYXV0aFdpdGhQYXNzd29yZFwiLGEsXCJlbWFpbFwiKTtKKFwiRmlyZWJhc2UuYXV0aFdpdGhQYXNzd29yZFwiLGEsXCJwYXNzd29yZFwiKTtHKFwiRmlyZWJhc2UuYXV0aEFub255bW91c2x5XCIsMixiLCExKTtJKFwiRmlyZWJhc2UuYXV0aEFub255bW91c2x5XCIsMyxjLCEwKTtOZih0aGlzLmsuUSxcInBhc3N3b3JkXCIsYSxjLGIpfTtRLnByb3RvdHlwZS5hdXRoV2l0aFBhc3N3b3JkPVEucHJvdG90eXBlLkxmO1xuUS5wcm90b3R5cGUuamU9ZnVuY3Rpb24oYSxiKXtEKFwiRmlyZWJhc2UuY3JlYXRlVXNlclwiLDIsMixhcmd1bWVudHMubGVuZ3RoKTtJKFwiRmlyZWJhc2UuY3JlYXRlVXNlclwiLDEsYSwhMSk7SihcIkZpcmViYXNlLmNyZWF0ZVVzZXJcIixhLFwiZW1haWxcIik7SihcIkZpcmViYXNlLmNyZWF0ZVVzZXJcIixhLFwicGFzc3dvcmRcIik7RyhcIkZpcmViYXNlLmNyZWF0ZVVzZXJcIiwyLGIsITEpO3RoaXMuay5RLmplKGEsYil9O1EucHJvdG90eXBlLmNyZWF0ZVVzZXI9US5wcm90b3R5cGUuamU7US5wcm90b3R5cGUuS2U9ZnVuY3Rpb24oYSxiKXtEKFwiRmlyZWJhc2UucmVtb3ZlVXNlclwiLDIsMixhcmd1bWVudHMubGVuZ3RoKTtJKFwiRmlyZWJhc2UucmVtb3ZlVXNlclwiLDEsYSwhMSk7SihcIkZpcmViYXNlLnJlbW92ZVVzZXJcIixhLFwiZW1haWxcIik7SihcIkZpcmViYXNlLnJlbW92ZVVzZXJcIixhLFwicGFzc3dvcmRcIik7RyhcIkZpcmViYXNlLnJlbW92ZVVzZXJcIiwyLGIsITEpO3RoaXMuay5RLktlKGEsYil9O1xuUS5wcm90b3R5cGUucmVtb3ZlVXNlcj1RLnByb3RvdHlwZS5LZTtRLnByb3RvdHlwZS5lZT1mdW5jdGlvbihhLGIpe0QoXCJGaXJlYmFzZS5jaGFuZ2VQYXNzd29yZFwiLDIsMixhcmd1bWVudHMubGVuZ3RoKTtJKFwiRmlyZWJhc2UuY2hhbmdlUGFzc3dvcmRcIiwxLGEsITEpO0ooXCJGaXJlYmFzZS5jaGFuZ2VQYXNzd29yZFwiLGEsXCJlbWFpbFwiKTtKKFwiRmlyZWJhc2UuY2hhbmdlUGFzc3dvcmRcIixhLFwib2xkUGFzc3dvcmRcIik7SihcIkZpcmViYXNlLmNoYW5nZVBhc3N3b3JkXCIsYSxcIm5ld1Bhc3N3b3JkXCIpO0coXCJGaXJlYmFzZS5jaGFuZ2VQYXNzd29yZFwiLDIsYiwhMSk7dGhpcy5rLlEuZWUoYSxiKX07US5wcm90b3R5cGUuY2hhbmdlUGFzc3dvcmQ9US5wcm90b3R5cGUuZWU7XG5RLnByb3RvdHlwZS5kZT1mdW5jdGlvbihhLGIpe0QoXCJGaXJlYmFzZS5jaGFuZ2VFbWFpbFwiLDIsMixhcmd1bWVudHMubGVuZ3RoKTtJKFwiRmlyZWJhc2UuY2hhbmdlRW1haWxcIiwxLGEsITEpO0ooXCJGaXJlYmFzZS5jaGFuZ2VFbWFpbFwiLGEsXCJvbGRFbWFpbFwiKTtKKFwiRmlyZWJhc2UuY2hhbmdlRW1haWxcIixhLFwibmV3RW1haWxcIik7SihcIkZpcmViYXNlLmNoYW5nZUVtYWlsXCIsYSxcInBhc3N3b3JkXCIpO0coXCJGaXJlYmFzZS5jaGFuZ2VFbWFpbFwiLDIsYiwhMSk7dGhpcy5rLlEuZGUoYSxiKX07US5wcm90b3R5cGUuY2hhbmdlRW1haWw9US5wcm90b3R5cGUuZGU7XG5RLnByb3RvdHlwZS5MZT1mdW5jdGlvbihhLGIpe0QoXCJGaXJlYmFzZS5yZXNldFBhc3N3b3JkXCIsMiwyLGFyZ3VtZW50cy5sZW5ndGgpO0koXCJGaXJlYmFzZS5yZXNldFBhc3N3b3JkXCIsMSxhLCExKTtKKFwiRmlyZWJhc2UucmVzZXRQYXNzd29yZFwiLGEsXCJlbWFpbFwiKTtHKFwiRmlyZWJhc2UucmVzZXRQYXNzd29yZFwiLDIsYiwhMSk7dGhpcy5rLlEuTGUoYSxiKX07US5wcm90b3R5cGUucmVzZXRQYXNzd29yZD1RLnByb3RvdHlwZS5MZTtRLmdvT2ZmbGluZT1mdW5jdGlvbigpe0QoXCJGaXJlYmFzZS5nb09mZmxpbmVcIiwwLDAsYXJndW1lbnRzLmxlbmd0aCk7WC5NYigpLnBiKCl9O1EuZ29PbmxpbmU9ZnVuY3Rpb24oKXtEKFwiRmlyZWJhc2UuZ29PbmxpbmVcIiwwLDAsYXJndW1lbnRzLmxlbmd0aCk7WC5NYigpLmdjKCl9O1xuZnVuY3Rpb24gb2IoYSxiKXt3KCFifHwhMD09PWF8fCExPT09YSxcIkNhbid0IHR1cm4gb24gY3VzdG9tIGxvZ2dlcnMgcGVyc2lzdGVudGx5LlwiKTshMD09PWE/KFwidW5kZWZpbmVkXCIhPT10eXBlb2YgY29uc29sZSYmKFwiZnVuY3Rpb25cIj09PXR5cGVvZiBjb25zb2xlLmxvZz9tYj1xKGNvbnNvbGUubG9nLGNvbnNvbGUpOlwib2JqZWN0XCI9PT10eXBlb2YgY29uc29sZS5sb2cmJihtYj1mdW5jdGlvbihhKXtjb25zb2xlLmxvZyhhKX0pKSxiJiZBYS5zZXQoXCJsb2dnaW5nX2VuYWJsZWRcIiwhMCkpOmE/bWI9YToobWI9bnVsbCxBYS5yZW1vdmUoXCJsb2dnaW5nX2VuYWJsZWRcIikpfVEuZW5hYmxlTG9nZ2luZz1vYjtRLlNlcnZlclZhbHVlPXtUSU1FU1RBTVA6e1wiLnN2XCI6XCJ0aW1lc3RhbXBcIn19O1EuU0RLX1ZFUlNJT049XCIyLjEuMVwiO1EuSU5URVJOQUw9WTtRLkNvbnRleHQ9WDtRLlRFU1RfQUNDRVNTPSQ7fSkoKTtcbm1vZHVsZS5leHBvcnRzID0gRmlyZWJhc2U7XG4iXX0=
